(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a});var r=n("30Go"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=Object(r.e)(s.value,2),a=o[1],u=this.normalizeInstanceIdentifier(o[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("ZUHj"),i=n("l7GE"),s=n("51Dv"),o=n("lJxs"),a=n("Cfvw");function u(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(u((n,r)=>Object(a.a)(t(n,r)).pipe(Object(o.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new c(t,n)))}class c{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new s.a(this,e,n),o=this.destination;o.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&o.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"a",function(){return d});let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(c)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.1.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("EY2u"),i=n("LRne"),s=n("z6cu");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("51Dv"),i=n("SeVD"),s=n("HDdC");function o(t,e,n,o,a=new r.a(t,n,o)){if(!a.closed)return e instanceof s.a?e.subscribe(a):Object(i.a)(e)(a)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return rn}),n.d(e,"b",function(){return zu}),n.d(e,"c",function(){return Fu}),n.d(e,"d",function(){return Nu}),n.d(e,"e",function(){return Lu}),n.d(e,"f",function(){return Fc}),n.d(e,"g",function(){return Tc}),n.d(e,"h",function(){return Pa}),n.d(e,"i",function(){return Ju}),n.d(e,"j",function(){return ra}),n.d(e,"k",function(){return Yu}),n.d(e,"l",function(){return aa}),n.d(e,"m",function(){return Pc}),n.d(e,"n",function(){return yr}),n.d(e,"o",function(){return gu}),n.d(e,"p",function(){return ss}),n.d(e,"q",function(){return Sn}),n.d(e,"r",function(){return k}),n.d(e,"s",function(){return nn}),n.d(e,"t",function(){return ws}),n.d(e,"u",function(){return Ca}),n.d(e,"v",function(){return Ia}),n.d(e,"w",function(){return Hu}),n.d(e,"x",function(){return Ha}),n.d(e,"y",function(){return xc}),n.d(e,"z",function(){return qa}),n.d(e,"A",function(){return _c}),n.d(e,"B",function(){return nc}),n.d(e,"C",function(){return Tn}),n.d(e,"D",function(){return Bu}),n.d(e,"E",function(){return Uu}),n.d(e,"F",function(){return yu}),n.d(e,"G",function(){return la}),n.d(e,"H",function(){return ca}),n.d(e,"I",function(){return Er}),n.d(e,"J",function(){return da}),n.d(e,"K",function(){return dr}),n.d(e,"L",function(){return Cn}),n.d(e,"M",function(){return Ac}),n.d(e,"N",function(){return Va}),n.d(e,"O",function(){return cc}),n.d(e,"P",function(){return sn}),n.d(e,"Q",function(){return pa}),n.d(e,"R",function(){return fa}),n.d(e,"S",function(){return $a}),n.d(e,"T",function(){return N}),n.d(e,"U",function(){return wc}),n.d(e,"V",function(){return bc}),n.d(e,"W",function(){return f}),n.d(e,"X",function(){return wn}),n.d(e,"Y",function(){return yc}),n.d(e,"Z",function(){return Nc}),n.d(e,"ab",function(){return dc}),n.d(e,"bb",function(){return qu}),n.d(e,"cb",function(){return as}),n.d(e,"db",function(){return Ho}),n.d(e,"eb",function(){return lr}),n.d(e,"fb",function(){return Wn}),n.d(e,"gb",function(){return Ln}),n.d(e,"hb",function(){return Mn}),n.d(e,"ib",function(){return zn}),n.d(e,"jb",function(){return Un}),n.d(e,"kb",function(){return Vn}),n.d(e,"lb",function(){return Bn}),n.d(e,"mb",function(){return Uo}),n.d(e,"nb",function(){return Rc}),n.d(e,"ob",function(){return Bo}),n.d(e,"pb",function(){return zo}),n.d(e,"qb",function(){return Fn}),n.d(e,"rb",function(){return U}),n.d(e,"sb",function(){return Ds}),n.d(e,"tb",function(){return Xs}),n.d(e,"ub",function(){return Qs}),n.d(e,"vb",function(){return Zs}),n.d(e,"wb",function(){return Vo}),n.d(e,"xb",function(){return Ot}),n.d(e,"yb",function(){return l}),n.d(e,"zb",function(){return Nn}),n.d(e,"Ab",function(){return Os}),n.d(e,"Bb",function(){return yt}),n.d(e,"Cb",function(){return ta}),n.d(e,"Db",function(){return ui}),n.d(e,"Eb",function(){return Ls}),n.d(e,"Fb",function(){return Po}),n.d(e,"Gb",function(){return bo}),n.d(e,"Hb",function(){return ku}),n.d(e,"Ib",function(){return X}),n.d(e,"Jb",function(){return st}),n.d(e,"Kb",function(){return _}),n.d(e,"Lb",function(){return w}),n.d(e,"Mb",function(){return nt}),n.d(e,"Nb",function(){return ot}),n.d(e,"Ob",function(){return Us}),n.d(e,"Pb",function(){return Ys}),n.d(e,"Qb",function(){return Gs}),n.d(e,"Rb",function(){return Ws}),n.d(e,"Sb",function(){return $s}),n.d(e,"Tb",function(){return Hs}),n.d(e,"Ub",function(){return qs}),n.d(e,"Vb",function(){return Ks}),n.d(e,"Wb",function(){return Xe}),n.d(e,"Xb",function(){return Ro}),n.d(e,"Yb",function(){return _n}),n.d(e,"Zb",function(){return tn}),n.d(e,"ac",function(){return Ru}),n.d(e,"bc",function(){return Js}),n.d(e,"cc",function(){return Au}),n.d(e,"dc",function(){return ye}),n.d(e,"ec",function(){return me}),n.d(e,"fc",function(){return io}),n.d(e,"gc",function(){return du}),n.d(e,"hc",function(){return fu}),n.d(e,"ic",function(){return ao}),n.d(e,"jc",function(){return oo}),n.d(e,"kc",function(){return Bs}),n.d(e,"lc",function(){return uo}),n.d(e,"mc",function(){return au}),n.d(e,"nc",function(){return uu}),n.d(e,"oc",function(){return cu}),n.d(e,"pc",function(){return xu}),n.d(e,"qc",function(){return Vs}),n.d(e,"rc",function(){return _r}),n.d(e,"sc",function(){return zt}),n.d(e,"tc",function(){return fr}),n.d(e,"uc",function(){return rt}),n.d(e,"vc",function(){return yo}),n.d(e,"wc",function(){return to}),n.d(e,"xc",function(){return No}),n.d(e,"yc",function(){return Ms}),n.d(e,"zc",function(){return ko}),n.d(e,"Ac",function(){return Ao}),n.d(e,"Bc",function(){return Do}),n.d(e,"Cc",function(){return jo}),n.d(e,"Dc",function(){return Iu});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=u({__forward_ref__:u});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class m extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function v(t,e){const n=e?` in ${e}`:"";throw new m("201",`No provider for ${b(t)} found${n}`)}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function w(t){return{providers:t.providers||[],imports:t.imports||[]}}function E(t){return O(t,T)||O(t,x)}function O(t,e){return t.hasOwnProperty(e)?t[e]:null}function S(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(I))?t[C]:null}const T=u({"\u0275prov":u}),C=u({"\u0275inj":u}),x=u({ngInjectableDef:u}),I=u({ngInjectorDef:u});var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let A;function D(t){const e=A;return A=t,e}function j(t,e,n){const r=E(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&k.Optional?null:void 0!==e?e:void v(l(t),"Injector")}function P(t){return{toString:t}.toString()}var R=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),N=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const L="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,M="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,U=L||V||F||M,B={},z=[],q=[],H=u({"\u0275cmp":u}),Y=u({"\u0275dir":u}),$=u({"\u0275pipe":u}),W=u({"\u0275mod":u}),G=u({"\u0275loc":u}),K=u({"\u0275fac":u}),Q=u({__NG_ELEMENT_ID__:u});let Z=0;function X(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===R.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||q,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||N.Emulated,id:"c",styles:t.styles||q,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=Z++,n.inputs=it(t.inputs,e),n.outputs=it(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(J):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(tt):null,n})}function J(t){return at(t)||function(t){return t[Y]||null}(t)}function tt(t){return function(t){return t[$]||null}(t)}const et={};function nt(t){const e={type:t.type,bootstrap:t.bootstrap||q,declarations:t.declarations||q,imports:t.imports||q,exports:t.exports||q,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{et[t.id]=t.type}),e}function rt(t,e){return P(()=>{const n=ut(t,!0);n.declarations=e.declarations||q,n.imports=e.imports||q,n.exports=e.exports||q})}function it(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const st=X;function ot(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[H]||null}function ut(t,e){const n=t[W]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}function ct(t){return Array.isArray(t)&&"object"==typeof t[1]}function lt(t){return Array.isArray(t)&&!0===t[1]}function ht(t){return 0!=(8&t.flags)}function dt(t){return 2==(2&t.flags)}function ft(t){return 1==(1&t.flags)}function pt(t){return null!==t.template}function gt(t,e){return t.hasOwnProperty(K)?t[K]:null}class mt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function yt(){return bt}function bt(t){return t.type.prototype.ngOnChanges&&(t.setInput=_t),vt}function vt(){const t=wt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function _t(t,e,n,r){const i=wt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new mt(u&&u.currentValue,e,o===B),t[r]=e}function wt(t){return t.__ngSimpleChanges__||null}let Et;function Ot(t){Et=t}function St(t){return!!t.listen}yt.ngInherit=!0;const Tt={createRenderer:(t,e)=>void 0!==Et?Et:"undefined"!=typeof document?document:void 0};function Ct(t){for(;Array.isArray(t);)t=t[0];return t}function xt(t,e){return Ct(e[t])}function It(t,e){return Ct(e[t.index])}function kt(t,e){return t.data[e]}function At(t,e){return t[e]}function Dt(t,e){const n=e[t];return ct(n)?n:n[0]}function jt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Pt(t){return 4==(4&t[2])}function Rt(t){return 128==(128&t[2])}function Nt(t,e){return null==e?null:t[e]}function Lt(t){t[18]=0}function Ft(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Mt={lFrame:ce(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vt(){return Mt.bindingsEnabled}function Ut(){return Mt.lFrame.lView}function Bt(){return Mt.lFrame.tView}function zt(t){Mt.lFrame.contextLView=t}function qt(){let t=Ht();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ht(){return Mt.lFrame.currentTNode}function Yt(t,e){const n=Mt.lFrame;n.currentTNode=t,n.isParent=e}function $t(){return Mt.lFrame.isParent}function Wt(){Mt.lFrame.isParent=!1}function Gt(){return Mt.isInCheckNoChangesMode}function Kt(t){Mt.isInCheckNoChangesMode=t}function Qt(){const t=Mt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Zt(){return Mt.lFrame.bindingIndex}function Xt(){return Mt.lFrame.bindingIndex++}function Jt(t){const e=Mt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function te(t,e){const n=Mt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ee(e)}function ee(t){Mt.lFrame.currentDirectiveIndex=t}function ne(t){const e=Mt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function re(){return Mt.lFrame.currentQueryIndex}function ie(t){Mt.lFrame.currentQueryIndex=t}function se(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function oe(t,e,n){if(n&k.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&k.Host||(r=se(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Mt.lFrame=ue();return r.currentTNode=e,r.lView=t,!0}function ae(t){const e=ue(),n=t[1];Mt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ue(){const t=Mt.lFrame,e=null===t?null:t.child;return null===e?ce(t):e}function ce(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function le(){const t=Mt.lFrame;return Mt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const he=le;function de(){const t=le();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fe(){return Mt.lFrame.selectedIndex}function pe(t){Mt.lFrame.selectedIndex=t}function ge(){const t=Mt.lFrame;return kt(t.tView,t.selectedIndex)}function me(){Mt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function ye(){Mt.lFrame.currentNamespace=null}function be(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ve(t,e,n){Ee(t,e,3,n)}function _e(t,e,n,r){(3&t[2])===n&&Ee(t,e,n,r)}function we(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ee(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Oe(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Oe(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}class Se{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Te(t,e,n){const r=St(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];xe(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ce(t){return 3===t||4===t||6===t}function xe(t){return 64===t.charCodeAt(0)}function Ie(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ke(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ke(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Ae(t){return-1!==t}function De(t){return 32767&t}function je(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Pe=!0;function Re(t){const e=Pe;return Pe=t,e}let Ne=0;function Le(t,e){const n=Me(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Fe(r.data,t),Fe(e,null),Fe(r.blueprint,null));const i=Ve(t,e),s=t.injectorIndex;if(Ae(i)){const t=De(i),n=je(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Fe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Me(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ve(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ue(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=Ne++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Be(t,e,n){if(n&k.Optional)return t;v(e,"NodeInjector")}function ze(t,e,n,r){if(n&k.Optional&&void 0===r&&(r=null),0==(n&(k.Self|k.Host))){const i=t[9],s=D(void 0);try{return i?i.get(e,r,n&k.Optional):j(e,r,n&k.Optional)}finally{D(s)}}return Be(r,e,n)}function qe(t,e,n,r=k.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Q)?t[Q]:void 0;return"number"==typeof e?e>=0?255&e:Ye:e}(n);if("function"==typeof s){if(!oe(e,t,r))return r&k.Host?Be(i,n,r):ze(e,n,r,i);try{const t=s();if(null!=t||r&k.Optional)return t;v(n)}finally{he()}}else if("number"==typeof s){let i=null,o=Me(t,e),a=-1,u=r&k.Host?e[16][6]:null;for((-1===o||r&k.SkipSelf)&&(a=-1===o?Ve(t,e):e[o+8],-1!==a&&Qe(r,!1)?(i=e[1],o=De(a),e=je(a,e)):o=-1);-1!==o;){const t=e[1];if(Ke(s,o,t.data)){const t=$e(o,e,n,i,r,u);if(t!==He)return t}a=e[o+8],-1!==a&&Qe(r,e[1].data[o+8]===u)&&Ke(s,o,e)?(i=t,o=De(a),e=je(a,e)):o=-1}}}return ze(e,n,r,i)}const He={};function Ye(){return new Ze(qt(),Ut())}function $e(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=We(a,o,n,null==r?dt(a)&&Pe:r!=o&&0!=(3&a.type),i&k.Host&&s===a);return null!==u?Ge(e,o,u,a):He}function We(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&pt(t)&&t.type===n)return u}return null}function Ge(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Se){const o=i;o.resolving&&function(t,e){throw new m("200",`Circular dependency in DI detected for ${t}`)}(b(s[n]));const a=Re(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?D(o.injectImpl):null;oe(t,r,k.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=bt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&D(u),Re(a),o.resolving=!1,he()}}return i}function Ke(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Qe(t,e){return!(t&k.Self||t&k.Host&&e)}class Ze{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return qe(this._tNode,this._lView,t,void 0,e)}}function Xe(t){return P(()=>{const e=t.prototype.constructor,n=e[K]||Je(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[K]||Je(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Je(t){return g(t)?()=>{const e=Je(p(t));return e&&e()}:gt(t)}function tn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ce(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(qt(),t)}function en(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class nn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const rn=new nn("AnalyzeForEntryComponents"),sn=Function;function on(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),on(r,e)):e!==t&&e.push(r)}return e}function an(t,e){t.forEach(t=>Array.isArray(t)?an(t,e):e(t))}function un(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function cn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ln(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function hn(t,e,n){let r=fn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function dn(t,e){const n=fn(t,e);if(n>=0)return t[1|n]}function fn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const pn={},gn=/\n/gm,mn=u({provide:String,useValue:u});let yn;function bn(t){const e=yn;return yn=t,e}function vn(t,e=k.Default){if(void 0===yn)throw new Error("inject() must be called from an injection context");return null===yn?j(t,void 0,e):yn.get(t,e&k.Optional?null:void 0,e)}function _n(t,e=k.Default){return(A||vn)(p(t),e)}const wn=_n;function En(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=k.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(_n(t,n))}else e.push(_n(r))}return e}function On(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Sn=On(en("Inject",t=>({token:t})),-1),Tn=On(en("Optional"),8),Cn=On(en("SkipSelf"),4);let xn;function In(t){var e;return(null===(e=function(){if(void 0===xn&&(xn=null,U.trustedTypes))try{xn=U.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return xn}())||void 0===e?void 0:e.createHTML(t))||t}class kn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class An extends kn{getTypeName(){return"HTML"}}class Dn extends kn{getTypeName(){return"Style"}}class jn extends kn{getTypeName(){return"Script"}}class Pn extends kn{getTypeName(){return"URL"}}class Rn extends kn{getTypeName(){return"ResourceURL"}}function Nn(t){return t instanceof kn?t.changingThisBreaksApplicationSecurity:t}function Ln(t,e){const n=Fn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Fn(t){return t instanceof kn&&t.getTypeName()||null}function Mn(t){return new An(t)}function Vn(t){return new Dn(t)}function Un(t){return new jn(t)}function Bn(t){return new Pn(t)}function zn(t){return new Rn(t)}class qn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(In(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Hn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=In(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=In(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Yn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$n=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Wn(t){return(t=String(t)).match(Yn)||t.match($n)?t:"unsafe:"+t}function Gn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Kn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Qn=Gn("area,br,col,hr,img,wbr"),Zn=Gn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xn=Gn("rp,rt"),Jn=Kn(Xn,Zn),tr=Kn(Qn,Kn(Zn,Gn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kn(Xn,Gn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jn),er=Gn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nr=Gn("srcset"),rr=Kn(er,nr,Gn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ir=Gn("script,style,template");class sr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!tr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ir.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!rr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;er[s]&&(o=Wn(o)),nr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Wn(t.trim())).join(", ")),this.buf.push(" ",e,'="',ur(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();tr.hasOwnProperty(e)&&!Qn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ur(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const or=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ar=/([^\#-~ |!])/g;function ur(t){return t.replace(/&/g,"&amp;").replace(or,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ar,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cr;function lr(t,e){let n=null;try{cr=cr||function(t){const e=new Hn(t);return function(){try{return!!(new window.DOMParser).parseFromString(In(""),"text/html")}catch(t){return!1}}()?new qn(e):e}(t);let r=e?String(e):"";n=cr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=cr.getInertBodyElement(r)}while(r!==s);return In((new sr).sanitizeChildren(hr(n)||n))}finally{if(n){const t=hr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function hr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var dr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function fr(t){const e=function(){const t=Ut();return t&&t[12]}();return e?e.sanitize(dr.URL,t)||"":Ln(t,"URL")?Nn(t):Wn(y(t))}function pr(t){return t.ngDebugContext}function gr(t){return t.ngOriginalError}function mr(t,...e){t.error(...e)}class yr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||mr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?pr(t)?pr(t):this._findContext(gr(t)):null}_findOriginalError(t){let e=gr(t);for(;e&&gr(e);)e=gr(e);return e}}function br(t,e){t.__ngContext__=e}const vr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(U))();function _r(t){return{name:"body",target:t.ownerDocument.body}}function wr(t){return t instanceof Function?t():t}var Er=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Or(t,e){return(void 0)(t,e)}function Sr(t){const e=t[3];return lt(e)?e[3]:e}function Tr(t){return xr(t[13])}function Cr(t){return xr(t[4])}function xr(t){for(;null!==t&&!lt(t);)t=t[4];return t}function Ir(t,e,n,r,i){if(null!=r){let s,o=!1;lt(r)?s=r:ct(r)&&(o=!0,r=r[0]);const a=Ct(r);0===t&&null!==n?null==i?Lr(e,n,a):Nr(e,n,a,i||null,!0):1===t&&null!==n?Nr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Mr(t,e);r&&function(t,e,n,r){St(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Ct(n)&&Ir(e,t,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];$r(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function kr(t,e,n){return St(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Ar(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ft(i,-1)),n.splice(r,1)}function Dr(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Ar(s,r),e>0&&(t[n-1][4]=r[4]);const o=cn(t,10+e);$r(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function jr(t,e){if(!(256&e[2])){const n=e[11];St(n)&&n.destroyNode&&$r(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Pr(t[1],t);for(;e;){let n=null;if(ct(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ct(e)&&Pr(e[1],e),e=e[3];null===e&&(e=t),ct(e)&&Pr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Pr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Se)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Ct(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&St(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&lt(e[3])){n!==e[3]&&Ar(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Rr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===N.None||e===N.Emulated)return null}return It(r,n)}(t,e.parent,n)}function Nr(t,e,n,r,i){St(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Lr(t,e,n){St(t)?t.appendChild(e,n):e.appendChild(n)}function Fr(t,e,n,r,i){null!==r?Nr(t,e,n,r,i):Lr(t,e,n)}function Mr(t,e){return St(t)?t.parentNode(e):e.parentNode}function Vr(t,e,n){return Ur(t,e,n)}let Ur=function(t,e,n){return 40&t.type?It(t,n):null};function Br(t,e,n,r){const i=Rr(t,r,e),s=e[11],o=Vr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Fr(s,i,n[a],o,!1);else Fr(s,i,n,o,!1)}function zr(t,e){if(null!==e){const n=e.type;if(3&n)return It(e,t);if(4&n)return Hr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return zr(t,n);{const n=t[e.index];return lt(n)?Hr(-1,n):Ct(n)}}if(32&n)return Or(e,t)()||Ct(t[e.index]);{const n=qr(t,e);return null!==n?Array.isArray(n)?n[0]:zr(Sr(t[16]),n):zr(t,e.next)}}return null}function qr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Hr(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return zr(t,r)}return e[7]}function Yr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&br(Ct(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Yr(t,e,n.child,r,i,s,!1),Ir(e,t,i,a,s);else if(32&u){const o=Or(n,r);let u;for(;u=o();)Ir(e,t,i,u,s);Ir(e,t,i,a,s)}else 16&u?Wr(t,e,r,n,i,s):Ir(e,t,i,a,s);n=o?n.projectionNext:n.next}}function $r(t,e,n,r,i,s){Yr(n,r,t.firstChild,e,i,s,!1)}function Wr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ir(e,t,i,a[u],s);else Yr(t,e,a,o[3],i,s,!0)}function Gr(t,e,n){St(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Kr(t,e,n){St(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Qr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Zr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Qr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Xr(t){return 4===t.type&&"ng-template"!==t.value}function Jr(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function ti(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ce(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Jr(t,u,n)||""===u&&1===e.length){if(ei(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Zr(t.attrs,c,n)){if(ei(r))return!1;o=!0}continue}const l=ni(8&r?"class":u,i,Xr(t),n);if(-1===l){if(ei(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Qr(e,c,0)||2&r&&c!==t){if(ei(r))return!1;o=!0}}}}else{if(!o&&!ei(r)&&!ei(u))return!1;if(o&&ei(u))continue;o=!1,r=u|1&r}}return ei(r)||o}function ei(t){return 0==(1&t)}function ni(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ri(t,e,n=!1){for(let r=0;r<e.length;r++)if(ti(t,e[r],n))return!0;return!1}function ii(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function si(t,e){return t?":not("+e.trim()+")":e}function oi(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ei(o)||(e+=si(s,i),i=""),r=o,s=s||!ei(r);n++}return""!==i&&(e+=si(s,i)),e}const ai={};function ui(t){ci(Bt(),Ut(),fe()+t,Gt())}function ci(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ve(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_e(e,r,0,n)}pe(n)}function li(t,e){return t<<17|e<<2}function hi(t){return t>>17&32767}function di(t){return 2|t}function fi(t){return(131068&t)>>2}function pi(t,e){return-131069&t|e<<2}function gi(t){return 1|t}function mi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];ie(i),n.contentQueries(2,e[s],s)}}}function yi(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Lt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function bi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Ht(),o=$t(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Mt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Mt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Yt(s,!0),s}function vi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _i(t,e,n){ae(e);try{const r=t.viewQuery;null!==r&&Qi(1,r,n);const i=t.template;null!==i&&Oi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&mi(t,e),t.staticViewQueries&&Qi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Yi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,de()}}function wi(t,e,n,r){const i=e[2];if(256==(256&i))return;ae(e);const s=Gt();try{Lt(e),Mt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Oi(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&ve(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_e(e,n,0,null),we(e,0)}if(function(t){for(let e=Tr(t);null!==e;e=Cr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ft(r,1),n[2]|=1024}}}(e),function(t){for(let e=Tr(t);null!==e;e=Cr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Rt(n)&&wi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&mi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&ve(e,n)}else{const n=t.contentHooks;null!==n&&_e(e,n,1),we(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)pe(~r);else{const i=r,s=n[++t],o=n[++t];te(s,i),o(2,e[i])}}}finally{pe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)qi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Qi(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&ve(e,n)}else{const n=t.viewHooks;null!==n&&_e(e,n,2),we(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ft(e[3],-1))}finally{de()}}function Ei(t,e,n,r){const i=e[10],s=!Gt(),o=Pt(e);try{s&&!o&&i.begin&&i.begin(),o&&_i(t,e,r),wi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Oi(t,e,n,r,i){const s=fe(),o=2&r;try{pe(-1),o&&e.length>20&&ci(t,e,20,Gt()),n(r,i)}finally{pe(s)}}function Si(t,e,n){if(ht(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ti(t,e,n){Vt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Le(n,e),br(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=pt(r);s&&Vi(e,n,r);const u=Ge(e,t,a,n);br(u,e),null!==o&&Ui(0,a-i,u,r,0,o),s&&(Dt(n.index,e)[8]=u)}}(t,e,n,It(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Mt.lFrame.currentDirectiveIndex;try{pe(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ee(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ri(r,i)}}finally{pe(-1),ee(o)}}(t,e,n))}function Ci(t,e,n=It){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function xi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ii(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ii(t,e,n,r,i,s,o,a,u,c){const l=20+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ai);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function ki(t,e,n,r){const i=Xi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Ji(t).push(r,i.length-1))}function Ai(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Di(t,e,n,r,i,s,o,a){const u=It(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(ns(t,n,c,r,i),dt(e)&&function(t,e){const n=Dt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,St(s)?s.setProperty(u,r,i):xe(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ji(t,e,n,r){let i=!1;if(Vt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ri(n,o.selectors,!1)&&(i||(i=[]),Ue(Le(n,e),t,o.type),pt(o)?(Ni(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Fi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=vi(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Ie(n.mergedAttrs,c.hostAttrs),Mi(t,n,e,u,c),Li(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Xr(e)?null:Bi(n,i);s.push(c),o=Ai(n,u,o),a=Ai(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new m("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ie(n.mergedAttrs,n.attrs),i}function Pi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Ri(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ni(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Li(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;pt(e)&&(n[""]=t)}}function Fi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Mi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=gt(i.type)),o=new Se(s,pt(i),null);t.blueprint[r]=o,n[r]=o,Pi(t,e,0,r,vi(t,n,i.hostVars,ai),i)}function Vi(t,e,n){const r=It(e,t),i=xi(n),s=t[10],o=$i(t,yi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Ui(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Bi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function zi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function qi(t,e){const n=Dt(e,t);if(Rt(n)){const t=n[1];80&n[2]?wi(t,n,t.template,n[8]):n[5]>0&&Hi(n)}}function Hi(t){for(let n=Tr(t);null!==n;n=Cr(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];wi(t,e,t.template,e[8])}else e[5]>0&&Hi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Dt(e[n],t);Rt(r)&&r[5]>0&&Hi(r)}}function Yi(t,e){const n=Dt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),_i(r,n,n[8])}function $i(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Wi(t){for(;t;){t[2]|=64;const e=Sr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Gi(t,e,n){const r=e[10];r.begin&&r.begin();try{wi(t,e,t.template,n)}catch(i){throw es(e,i),i}finally{r.end&&r.end()}}function Ki(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=jt(n),i=r[1];Ei(i,r,i.template,n)}}(t[8])}function Qi(t,e,n){ie(0),e(t,n)}const Zi=(()=>Promise.resolve(null))();function Xi(t){return t[7]||(t[7]=[])}function Ji(t){return t.cleanup||(t.cleanup=[])}function ts(t,e,n){return(null===t||pt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function es(t,e){const n=t[9],r=n?n.get(yr,null):null;r&&r.handleError(e)}function ns(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function rs(t,e,n){const r=xt(e,t);!function(t,e,n){St(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function is(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ss=new nn("INJECTOR",-1);class os{get(t,e=pn){if(e===pn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const as=new nn("Set Injector scope."),us={},cs={},ls=[];let hs;function ds(){return void 0===hs&&(hs=new os),hs}function fs(t,e=null,n=null,r){return new ps(t,n,e||ds(),r)}class ps{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&an(e,n=>this.processProvider(n,t,e)),an([t],t=>this.processInjectorType(t,[],i)),this.records.set(ss,ys(void 0,this));const s=this.records.get(as);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=pn,n=k.Default){this.assertNotDestroyed();const r=bn(this);try{if(!(n&k.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof nn)&&E(t);e=n&&this.injectableDefInScope(n)?ys(gs(t),us):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&k.Self?ds():this.parent).get(t,e=n&k.Optional&&e===pn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(l(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(gn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{bn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=S(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=S(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{an(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];an(r,t=>this.processProvider(t,n,r||ls))}}this.injectorDefTypes.add(s);const a=gt(s)||(()=>new s);this.records.set(s,ys(a,us));const u=r.providers;if(null!=u&&!o){const e=t;an(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=vs(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return bs(t)?ys(void 0,t.useValue):ys(ms(t),us)}(t);if(vs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ys(void 0,us,!0),e.factory=()=>En(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===us&&(e.value=cs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function gs(t){const e=E(t),n=null!==e?e.factory:gt(t);if(null!==n)return n;if(t instanceof nn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ln(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[T]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ms(t,e,n){let r;if(vs(t)){const e=p(t);return gt(e)||gs(e)}if(bs(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...En(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>_n(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return gt(e)||gs(e);r=()=>new e(...En(t.deps))}var i;return r}function ys(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bs(t){return null!==t&&"object"==typeof t&&mn in t}function vs(t){return"function"==typeof t}const _s=function(t,e,n){return function(t,e=null,n=null,r){const i=fs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let ws=(()=>{class t{static create(t,e){return Array.isArray(t)?_s(t,e,""):_s(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=pn,t.NULL=new os,t.\u0275prov=_({token:t,providedIn:"any",factory:()=>_n(ss)}),t.__NG_ELEMENT_ID__=-1,t})();function Es(t,e){be(jt(t)[1],qt())}function Os(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(pt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ss(t.inputs),e.declaredInputs=Ss(t.declaredInputs),e.outputs=Ss(t.outputs);const n=i.hostBindings;n&&xs(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Ts(t,s),o&&Cs(t,o),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),pt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Os&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ie(i.hostAttrs,n=Ie(n,i.hostAttrs))}}(r)}function Ss(t){return t===B?{}:t===q?[]:t}function Ts(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Cs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function xs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Is=null;function ks(){if(!Is){const t=U.Symbol;if(t&&t.iterator)Is=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Is=n)}}}return Is}class As{constructor(t){this.wrapped=t}static wrap(t){return new As(t)}static unwrap(t){return As.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof As}}function Ds(t){return!!js(t)&&(Array.isArray(t)||!(t instanceof Map)&&ks()in t)}function js(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ps(t,e,n){return t[e]=n}function Rs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ns(t,e,n,r){const i=Rs(t,e,n);return Rs(t,e+1,r)||i}function Ls(t,e,n,r){const i=Ut();return Rs(i,Xt(),e)&&(Bt(),function(t,e,n,r,i,s){const o=It(t,e);!function(t,e,n,r,i,s,o){if(null==s)St(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);St(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(ge(),i,t,e,n,r)),Ls}function Fs(t,e,n,r){return Rs(t,Xt(),n)?e+y(n)+r:ai}function Ms(t,e,n,r,i,s,o,a){const u=Ut(),c=Bt(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=bi(e,t,4,o||null,Nt(c,a));ji(e,n,l,Nt(c,u)),be(e,l);const h=l.tViews=Ii(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Yt(h,!1);const d=u[11].createComment("");Br(c,u,d,h),br(d,u),$i(u,u[l]=zi(d,u,d,h)),ft(h)&&Ti(c,u,h),null!=o&&Ci(u,h,a)}function Vs(t){return At(Mt.lFrame.contextLView,20+t)}function Us(t,e=k.Default){const n=Ut();return null===n?_n(t,e):qe(qt(),n,p(t),e)}function Bs(t,e,n){const r=Ut();return Rs(r,Xt(),e)&&Di(Bt(),ge(),r,t,e,r[11],n,!1),Bs}function zs(t,e,n,r,i){const s=i?"class":"style";ns(t,n,e.inputs[s],s,r)}function qs(t,e,n,r){const i=Ut(),s=Bt(),o=20+t,a=i[11],u=i[o]=kr(a,e,Mt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=bi(e,t,2,i,Nt(a,s));return ji(e,n,u,Nt(a,o)),null!==u.attrs&&is(u,u.attrs,!1),null!==u.mergedAttrs&&is(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Yt(c,!0);const l=c.mergedAttrs;null!==l&&Te(a,u,l);const h=c.classes;null!==h&&Kr(a,u,h);const d=c.styles;null!==d&&Gr(a,u,d),64!=(64&c.flags)&&Br(s,i,u,c),0===Mt.lFrame.elementDepthCount&&br(u,i),Mt.lFrame.elementDepthCount++,ft(c)&&(Ti(s,i,c),Si(s,c,i)),null!==r&&Ci(i,c)}function Hs(){let t=qt();$t()?Wt():(t=t.parent,Yt(t,!1));const e=t;Mt.lFrame.elementDepthCount--;const n=Bt();n.firstCreatePass&&(be(n,t),ht(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&zs(n,e,Ut(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&zs(n,e,Ut(),e.stylesWithoutHost,!1)}function Ys(t,e,n,r){qs(t,e,n,r),Hs()}function $s(t,e,n){const r=Ut(),i=Bt(),s=t+20,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Nt(s,r),a=bi(e,t,8,"ng-container",o);return null!==o&&is(a,o,!0),ji(e,n,a,Nt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Yt(o,!0);const a=r[s]=r[11].createComment("");Br(i,r,a,o),br(a,r),ft(o)&&(Ti(i,r,o),Si(i,o,r)),null!=n&&Ci(r,o)}function Ws(){let t=qt();const e=Bt();$t()?Wt():(t=t.parent,Yt(t,!1)),e.firstCreatePass&&(be(e,t),ht(t)&&e.queries.elementEnd(t))}function Gs(t,e,n){$s(t,e,n),Ws()}function Ks(){return Ut()}function Qs(t){return!!t&&"function"==typeof t.then}function Zs(t){return!!t&&"function"==typeof t.subscribe}const Xs=Zs;function Js(t,e,n=!1,r){const i=Ut(),s=Bt(),o=qt();return eo(s,i,i[11],o,t,e,n,r),Js}function to(t,e,n=!1,r){const i=qt(),s=Ut(),o=Bt();return eo(o,s,ts(ne(o.data),i,s),i,t,e,n,r),to}function eo(t,e,n,r,i,s,o=!1,a){const u=ft(r),c=t.firstCreatePass&&Ji(t),l=Xi(e);let h=!0;if(3&r.type){const d=It(r,e),f=a?a(d):B,p=f.target||d,g=l.length,m=a?t=>a(Ct(t[r.index])).target:r.index;if(St(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=ro(r,e,0,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=ro(r,e,0,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}else s=ro(r,e,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}function no(t,e,n,r){try{return!1!==n(r)}catch(i){return es(t,i),!1}}function ro(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Dt(t.index,e):e;0==(32&e[2])&&Wi(o);let a=no(e,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=no(e,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function io(t=1){return function(t){return(Mt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Mt.lFrame.contextLView))[8]}(t)}function so(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?ri(t,s,!0):ii(r,s))return i}else n=i}return n}function oo(t){const e=Ut()[16][6];if(!e.projection){const n=e.projection=ln(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?so(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function ao(t,e=0,n){const r=Ut(),i=Bt(),s=bi(i,20+t,16,null,n||null);null===s.projection&&(s.projection=e),Wt(),64!=(64&s.flags)&&function(t,e,n){Wr(e[11],0,e,n,Rr(t,n,e),Vr(n.parent||e[6],n,e))}(i,r,s)}function uo(t,e,n){return co(t,"",e,"",n),uo}function co(t,e,n,r,i){const s=Ut(),o=Fs(s,e,n,r);return o!==ai&&Di(Bt(),ge(),s,t,o,s[11],i,!1),co}function lo(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?hi(s):fi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];ho(t[a],e)&&(u=!0,t[a+1]=r?gi(n):di(n)),a=r?hi(n):fi(n)}u&&(t[n+1]=r?di(s):gi(s))}function ho(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&fn(t,e)>=0}const fo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function po(t){return t.substring(fo.key,fo.keyEnd)}function go(t,e){const n=fo.textEnd;return n===e?-1:(e=fo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,fo.key=e,n),mo(t,e,n))}function mo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function yo(t,e,n){return _o(t,e,n,!1),yo}function bo(t,e){return _o(t,e,null,!0),bo}function vo(t,e){for(let n=function(t){return function(t){fo.key=0,fo.keyEnd=0,fo.value=0,fo.valueEnd=0,fo.textEnd=t.length}(t),go(t,mo(t,0,fo.textEnd))}(e);n>=0;n=go(e,n))hn(t,po(e),!0)}function _o(t,e,n,r){const i=Ut(),s=Bt(),o=Jt(2);s.firstUpdatePass&&Eo(s,t,o,r),e!==ai&&Rs(i,o,e)&&To(s,s.data[fe()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Nn(t)))),t}(e,n),r,o)}function wo(t,e){return e>=t.expandoStartIndex}function Eo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[fe()],o=wo(t,n);Io(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=ne(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=So(n=Oo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Oo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==fi(r))return t[hi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Oo(null,t,e,n[1],r),n=So(n,e.attrs,r),function(t,e,n,r){t[hi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=So(r,t[s].hostAttrs,n);return So(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=hi(o),u=fi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||fn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=hi(t[a+1]);t[r+1]=li(e,a),0!==e&&(t[e+1]=pi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=li(a,0),0!==a&&(t[a+1]=pi(t[a+1],r)),a=r;else t[r+1]=li(u,0),0===a?a=r:t[u+1]=pi(t[u+1],r),u=r;l&&(t[r+1]=di(t[r+1])),lo(t,c,r,!0),lo(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&fn(s,e)>=0&&(n[r+1]=gi(n[r+1]))}(e,c,t,r,s),o=li(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Oo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=So(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function So(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),hn(t,o,!!n||e[++s]))}return void 0===t?null:t}function To(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];xo(1==(1&c)?Co(u,e,n,i,fi(c),o):void 0)||(xo(s)||2==(2&c)&&(s=Co(u,null,n,i,a,o)),function(t,e,n,r,i){const s=St(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Er.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Er.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,xt(fe(),n),i,s))}function Co(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===ai&&(l=c?z:void 0);let h=c?dn(l,r):u===r?l:void 0;if(s&&!xo(h)&&(h=dn(e,r)),xo(h)&&(a=h,o))return a;const d=t[i+1];i=o?hi(d):fi(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=dn(t,r))}return a}function xo(t){return void 0!==t}function Io(t,e){return 0!=(t.flags&(e?16:32))}function ko(t,e=""){const n=Ut(),r=Bt(),i=t+20,s=r.firstCreatePass?bi(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return St(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Br(r,n,o,s),Yt(s,!1)}function Ao(t){return Do("",t,""),Ao}function Do(t,e,n){const r=Ut(),i=Fs(r,t,e,n);return i!==ai&&rs(r,fe(),i),Do}function jo(t,e,n,r,i){const s=Ut(),o=function(t,e,n,r,i,s){const o=Ns(t,Zt(),n,i);return Jt(2),o?e+y(n)+r+y(i)+s:ai}(s,t,e,n,r,i);return o!==ai&&rs(s,fe(),o),jo}function Po(t,e,n){!function(t,e,n,r){const i=Bt(),s=Jt(2);i.firstUpdatePass&&Eo(i,null,s,true);const o=Ut();if(n!==ai&&Rs(o,s,n)){const r=i.data[fe()];if(Io(r,true)&&!wo(i,s)){let t=r.classesWithoutHost;null!==t&&(n=h(t,n||"")),zs(i,r,o,n,true)}else!function(t,e,n,r,i,s,o,a){i===ai&&(i=z);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=u<i.length?i[u+1]:void 0,d=c<s.length?s[c+1]:void 0;let f,p=null;l===h?(u+=2,c+=2,o!==d&&(p=h,f=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,f=d),null!==p&&To(t,e,n,r,p,f,true,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,r,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return z;const r=[],i=Nn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(hn,vo,Fs(Ut(),t,e,n))}function Ro(t,e,n){const r=Ut();return Rs(r,Xt(),e)&&Di(Bt(),ge(),r,t,e,r[11],n,!0),Ro}function No(t,e,n){const r=Ut();if(Rs(r,Xt(),e)){const i=Bt(),s=ge();Di(i,s,r,t,e,ts(ne(i.data),s,r),n,!0)}return No}const Lo=void 0;var Fo=["en",[["a","p"],["AM","PM"],Lo],[["AM","PM"],Lo,Lo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Lo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Lo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Lo,"{1} 'at' {0}",Lo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Mo={};function Vo(t,e,n){"string"!=typeof e&&(n=e,e=t[Ho.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Mo[e]=t,n&&(Mo[e][Ho.ExtraData]=n)}function Uo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=qo(e);if(n)return n;const r=e.split("-")[0];if(n=qo(r),n)return n;if("en"===r)return Fo;throw new Error(`Missing locale data for the locale "${t}".`)}function Bo(t){return Uo(t)[Ho.CurrencyCode]||null}function zo(t){return Uo(t)[Ho.PluralCase]}function qo(t){return t in Mo||(Mo[t]=U.ng&&U.ng.common&&U.ng.common.locales&&U.ng.common.locales[t]),Mo[t]}var Ho=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let Yo="en-US";function $o(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Yo=t.toLowerCase().replace(/_/g,"-"))}function Wo(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)Wo(t[s],e,n,r,i);else{const s=Bt(),o=Ut();let a=vs(t)?t:p(t.provide),u=ms(t);const c=qt(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(vs(t)||!t.multi){const r=new Se(u,i,Us),f=Qo(a,e,i?l:l+d,h);-1===f?(Ue(Le(c,o),s,a),Go(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Qo(a,e,l+d,h),p=Qo(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Ue(Le(c,o),s,a);const l=function(t,e,n,r,i){const s=new Se(t,n,Us);return s.multi=[],s.index=e,s.componentProviders=0,Ko(s,i,r&&!n),s}(i?Xo:Zo,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Go(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Go(s,t,f>-1?f:p,Ko(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Go(t,e,n,r){const i=vs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Ko(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Qo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Zo(t,e,n,r){return Jo(this.multi,[])}function Xo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ge(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Jo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Jo(i,s);return s}function Jo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ta(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Bt();if(r.firstCreatePass){const i=pt(t);Wo(n,r.data,r.blueprint,i,!0),Wo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ea{}class na{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ra=(()=>{class t{}return t.NULL=new na,t})();function ia(...t){}function sa(t,e){return new aa(It(t,e))}const oa=function(){return sa(qt(),Ut())};let aa=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=oa,t})();function ua(t){return t instanceof aa?t.nativeElement:t}class ca{}let la=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ha(),t})();const ha=function(){const t=Ut(),e=Dt(qt().index,t);return function(t){return t[11]}(ct(e)?e:t)};let da=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class fa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const pa=new fa("11.2.12");class ga{constructor(){}supports(t){return Ds(t)}create(t){return new ya(t)}}const ma=(t,e)=>e;class ya{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ma}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<wa(n,r,i)?e:n,o=wa(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ds(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ks()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new ba(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new _a),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _a),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ba{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class va{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class _a{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new va,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ea{constructor(){}supports(t){return t instanceof Map||js(t)}create(){return new Oa}}class Oa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||js(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Sa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Sa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ta(){return new Ca([new ga])}let Ca=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ta()),deps:[[t,new Cn,new Tn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:Ta}),t})();function xa(){return new Ia([new Ea])}let Ia=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||xa()),deps:[[t,new Cn,new Tn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:xa}),t})();function ka(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ct(s)),lt(s))for(let t=10;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&ka(e[1],e,n,r)}const o=n.type;if(8&o)ka(t,e,n.child,r);else if(32&o){const t=Or(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=qr(e,n);if(Array.isArray(t))r.push(...t);else{const n=Sr(e[16]);ka(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Aa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ka(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(lt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Dr(t,n),cn(e,n))}this._attachedToViewContainer=!1}jr(this._lView[1],this._lView)}onDestroy(t){ki(this._lView[1],this._lView,null,t)}markForCheck(){Wi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Gi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Kt(!0);try{Gi(t,e,n)}finally{Kt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,$r(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Da extends Aa{constructor(t){super(t),this._view=t}detectChanges(){Ki(this._view)}checkNoChanges(){!function(t){Kt(!0);try{Ki(t)}finally{Kt(!1)}}(this._view)}get context(){return null}}const ja=Ra;let Pa=(()=>{class t{}return t.__NG_ELEMENT_ID__=ja,t.__ChangeDetectorRef__=!0,t})();function Ra(t=!1){return function(t,e,n){if(!n&&dt(t)){const n=Dt(t.index,e);return new Aa(n,n)}return 47&t.type?new Aa(e[16],e):null}(qt(),Ut(),t)}const Na=[new Ea],La=new Ca([new ga]),Fa=new Ia(Na),Ma=function(){return za(qt(),Ut())};let Va=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ma,t})();const Ua=Va,Ba=class extends Ua{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=yi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),_i(e,n,t),new Aa(n)}};function za(t,e){return 4&t.type?new Ba(e,t,sa(t,e)):null}class qa{}class Ha{}const Ya=function(){return Za(qt(),Ut())};let $a=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ya,t})();const Wa=$a,Ga=class extends Wa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return sa(this._hostTNode,this._hostLView)}get injector(){return new Ze(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ve(this._hostTNode,this._hostLView);if(Ae(t)){const e=je(t,this._hostLView),n=De(t);return new Ze(e[1].data[n+8],e)}return new Ze(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ka(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(qa,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(lt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ga(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],un(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Hr(i,s),a=n[11],u=Mr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,$r(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),un(Qa(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ka(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Dr(this._lContainer,e);n&&(cn(Qa(this._lContainer),e),jr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Dr(this._lContainer,e);return n&&null!=cn(Qa(this._lContainer),e)?new Aa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ka(t){return t[8]}function Qa(t){return t[8]||(t[8]=[])}function Za(t,e){let n;const r=e[t.index];if(lt(r))n=r;else{let i;if(8&t.type)i=Ct(r);else{const n=e[11];i=n.createComment("");const r=It(t,e);Nr(n,Mr(n,r),i,function(t,e){return St(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=zi(r,e,i,t),$i(e,n)}return new Ga(n,t,e)}const Xa={};class Ja extends ra{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=at(t);return new nu(e,this.ngModule)}}function tu(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const eu=new nn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>vr});class nu extends ea{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(oi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return tu(this.componentDef.inputs)}get outputs(){return tu(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Xa,i);return s!==Xa||r===Xa?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(ca,Tt),o=i.get(da,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(St(t))return t.selectRootElement(e,n===N.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):kr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:vr,clean:Zi,playerHandler:null,flags:0},d=Ii(0,null,null,1,0,null,null,null,null,null),f=yi(null,d,h,l,null,null,s,a,o,i);let p,g;ae(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=bi(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(is(a,u,!0),null!==t&&(Te(i,t,u),null!==a.classes&&Kr(i,t,a.classes),null!==a.styles&&Gr(i,t,a.styles)));const c=r.createRenderer(t,e),l=yi(n,xi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Ue(Le(a,n),o,e.type),Ni(o,a),Fi(a,n.length,1)),$i(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)Te(a,c,["ng-version",pa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ei(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Te(a,c,t),e&&e.length>0&&Kr(a,c,e.join(" "))}if(g=kt(d,20),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=qt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Mi(t,r,e,vi(t,e,1,null),n));const i=Ge(e,t,r.directiveStart,r);br(i,e);const s=It(r,e);return s&&br(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=qt();e.contentQueries(1,o,t.directiveStart)}const a=qt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(pe(a.index),Pi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ri(e,o)),o}(t,this.componentDef,f,h,[Es]),_i(d,f,null)}finally{de()}return new ru(this.componentType,p,sa(g,f),f,g)}}class ru extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Da(r),this.componentType=t}get injector(){return new Ze(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const iu=new Map;class su extends qa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ja(this);const n=ut(t),r=t[G]||null;r&&$o(r),this._bootstrapComponents=wr(n.bootstrap),this._r3Injector=fs(t,e,[{provide:qa,useValue:this},{provide:ra,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ws.THROW_IF_NOT_FOUND,n=k.Default){return t===ws||t===qa||t===ss?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ou extends Ha{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(t){const e=new Set;!function t(n){const r=ut(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,iu.get(i),n),iu.set(i,n));const s=wr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new su(this.moduleType,t)}}function au(t,e,n){const r=Qt()+t,i=Ut();return i[r]===ai?Ps(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function uu(t,e,n,r){return hu(Ut(),Qt(),t,e,n,r)}function cu(t,e,n,r,i){return function(t,e,n,r,i,s,o){const a=e+n;return Ns(t,a,i,s)?Ps(t,a+2,o?r.call(o,i,s):r(i,s)):lu(t,a+2)}(Ut(),Qt(),t,e,n,r,i)}function lu(t,e){const n=t[e];return n===ai?void 0:n}function hu(t,e,n,r,i,s){const o=e+n;return Rs(t,o,i)?Ps(t,o+1,s?r.call(s,i):r(i)):lu(t,o+1)}function du(t,e){const n=Bt();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new m("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=gt(r.type)),o=D(Us);try{const t=Re(!1),e=s();return Re(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Ut(),i,e),e}finally{D(o)}}function fu(t,e,n){const r=t+20,i=Ut(),s=At(i,r);return function(t,e){return As.isWrapped(e)&&(e=As.unwrap(e),t[Zt()]=ai),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?hu(i,Qt(),e,s.transform,n,s):s.transform(n))}function pu(t){return e=>{setTimeout(t,void 0,e)}}const gu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(u=pu(u),a&&(a=pu(a)),c&&(c=pu(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.a&&t.add(l),l}};function mu(){return this._results[ks()]()}class yu{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=ks(),n=yu.prototype;n[e]||(n[e]=mu)}get changes(){return this._changes||(this._changes=new gu)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const n=on(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class bu{constructor(t){this.queryList=t,this.matches=null}clone(){return new bu(this.queryList)}setDirty(){this.queryList.setDirty()}}class vu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new vu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Pu(t,e).matches&&this.queries[e].setDirty()}}class _u{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class wu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new wu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Eu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Eu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ou(e,i)),this.matchTNodeWithReadOption(t,e,We(e,t,i,!1,!1))}else n===Va?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,We(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===aa||r===$a||r===Va&&4&e.type)this.addMatch(e.index,-2);else{const n=We(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ou(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Su(t,e,n,r){return-1===n?function(t,e){return 11&t.type?sa(t,e):4&t.type?za(t,e):null}(e,t):-2===n?function(t,e,n){return n===aa?sa(e,t):n===Va?za(e,t):n===$a?Za(e,t):void 0}(t,e,r):Ge(t,t[1],n,e)}function Tu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Su(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Cu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Tu(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=10;t<o.length;t++){const e=o[t];e[17]===e[3]&&Cu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Cu(n[1],n,i,r)}}}}}return r}function xu(t){const e=Ut(),n=Bt(),r=re();ie(r+1);const i=Pu(n,r);if(t.dirty&&Pt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Cu(n,e,r,[]):Tu(n,e,i,r);t.reset(s,ua),t.notifyOnChanges()}return!0}return!1}function Iu(t,e,n){const r=Bt();r.firstCreatePass&&(ju(r,new _u(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Du(r,Ut(),e)}function ku(t,e,n,r){const i=Bt();if(i.firstCreatePass){const s=qt();ju(i,new _u(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Du(i,Ut(),n)}function Au(){return t=Ut(),e=re(),t[19].queries[e].queryList;var t,e}function Du(t,e,n){const r=new yu(4==(4&n));ki(t,e,r,r.destroy),null===e[19]&&(e[19]=new vu),e[19].queries.push(new bu(r))}function ju(t,e,n){null===t.queries&&(t.queries=new wu),t.queries.track(new Eu(e,n))}function Pu(t,e){return t.queries.getByIndex(e)}function Ru(t=k.Default){const e=Ra(!0);if(null!=e||t&k.Optional)return e;v("ChangeDetectorRef")}const Nu=new nn("Application Initializer");let Lu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=ia,this.reject=ia,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Qs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(_n(Nu,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Fu=new nn("AppId"),Mu={provide:Fu,useFactory:function(){return`${Vu()}${Vu()}${Vu()}`},deps:[]};function Vu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Uu=new nn("Platform Initializer"),Bu=new nn("Platform ID"),zu=new nn("appBootstrapListener");let qu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Hu=new nn("LocaleId"),Yu=new nn("DefaultCurrencyCode");class $u{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Wu=function(t){return new ou(t)},Gu=Wu,Ku=function(t){return Promise.resolve(Wu(t))},Qu=function(t){const e=Wu(t),n=wr(ut(t).declarations).reduce((t,e)=>{const n=at(e);return n&&t.push(new nu(n)),t},[]);return new $u(e,n)},Zu=Qu,Xu=function(t){return Promise.resolve(Qu(t))};let Ju=(()=>{class t{constructor(){this.compileModuleSync=Gu,this.compileModuleAsync=Ku,this.compileModuleAndAllComponentsSync=Zu,this.compileModuleAndAllComponentsAsync=Xu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const tc=(()=>Promise.resolve(0))();function ec(t){"undefined"==typeof Zone?tc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class nc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gu(!1),this.onMicrotaskEmpty=new gu(!1),this.onStable=new gu(!1),this.onError=new gu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!n&&e,this.shouldCoalesceRunChangeDetection=n,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=U.requestAnimationFrame,e=U.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(U,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,sc(t),ic(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),sc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return oc(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),ac(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return oc(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),ac(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,sc(t),ic(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(nc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,rc,ia,ia);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const rc={};function ic(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function oc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ac(t){t._nesting--,ic(t)}class uc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gu,this.onMicrotaskEmpty=new gu,this.onStable=new gu,this.onError=new gu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let cc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nc.assertNotInAngularZone(),ec(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ec(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(_n(nc))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),lc=(()=>{class t{constructor(){this._applications=new Map,pc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return pc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class hc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function dc(t){pc=t}let fc,pc=new hc,gc=!0,mc=!1;function yc(){return mc=!0,gc}function bc(){if(mc)throw new Error("Cannot enable prod mode after platform setup.");gc=!1}const vc=new nn("AllowMultipleToken");class _c{constructor(t,e){this.name=t,this.token=e}}function wc(t,e,n=[]){const r=`Platform: ${e}`,i=new nn(r);return(e=[])=>{let s=Ec();if(!s||s.injector.get(vc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:as,useValue:"platform"});!function(t){if(fc&&!fc.destroyed&&!fc.injector.get(vc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");fc=t.get(Oc);const e=t.get(Uu,null);e&&e.forEach(t=>t())}(ws.create({providers:t,name:r}))}return function(t){const e=Ec();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ec(){return fc&&!fc.destroyed?fc:null}let Oc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new uc:("zone.js"===t?void 0:t)||new nc({enableLongStackTrace:yc(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:nc,useValue:n}];return n.run(()=>{const e=ws.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(yr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Cc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Qs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Lu);return t.runInitializers(),t.donePromise.then(()=>($o(i.injector.get(Hu,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Sc({},e);return function(t,e,n){const r=new ou(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Tc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(_n(ws))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Sc(t,e){return Array.isArray(e)?e.reduce(Sc,t):Object.assign(Object.assign({},t),e)}let Tc=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{nc.assertNotInAngularZone(),ec(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{nc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(u,c.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ea?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(qa),i=n.create(ws.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(cc,null),a=o&&i.injector.get(lc);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Cc(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Cc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(zu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(_n(nc),_n(ws),_n(yr),_n(ra),_n(Lu))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Cc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class xc{}class Ic{}const kc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ac=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||kc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Dc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Dc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(_n(Ju),_n(Ic,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Dc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class jc extends Pa{}class Pc extends jc{}const Rc=function(t){return null},Nc=wc(null,"core",[{provide:Bu,useValue:"unknown"},{provide:Oc,deps:[ws]},{provide:lc,deps:[]},{provide:qu,deps:[]}]),Lc=[{provide:Tc,useClass:Tc,deps:[nc,ws,yr,ra,Lu]},{provide:eu,deps:[nc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Lu,useClass:Lu,deps:[[new Tn,Nu]]},{provide:Ju,useClass:Ju,deps:[]},Mu,{provide:Ca,useFactory:function(){return La},deps:[]},{provide:Ia,useFactory:function(){return Fa},deps:[]},{provide:Hu,useFactory:function(t){return $o(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new Sn(Hu),new Tn,new Cn]]},{provide:Yu,useValue:"USD"}];let Fc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(_n(Tc))},t.\u0275mod=nt({type:t}),t.\u0275inj=w({providers:Lc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return _}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return b}),n.d(e,"e",function(){return x}),n.d(e,"f",function(){return O}),n.d(e,"g",function(){return S}),n.d(e,"h",function(){return i}),n.d(e,"i",function(){return s}),n.d(e,"j",function(){return a}),n.d(e,"k",function(){return l}),n.d(e,"l",function(){return h}),n.d(e,"m",function(){return f}),n.d(e,"n",function(){return p}),n.d(e,"o",function(){return m}),n.d(e,"p",function(){return u}),n.d(e,"q",function(){return c}),n.d(e,"r",function(){return d}),n.d(e,"s",function(){return g}),n.d(e,"t",function(){return y});var r=n("30Go");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}function m(){return"indexedDB"in self&&null!=indexedDB}function y(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(s){e(s)}})}function b(){return!(!navigator||!navigator.cookieEnabled)}var v=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,_.prototype.create),s}return Object(r.c)(e,t),e}(Error),_=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?w(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new v(i,a,r);return u},t}();function w(t,e){return t.replace(E,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var E=/\{\$([^}]+)}/g;function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){var n=new T(t,e);return n.subscribe.bind(n)}var T=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function C(){}function x(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}},qgXg:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(a))try{a.call(this)}catch(l){e=l instanceof o?u(l.errors):[l]}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof o?e=e.concat(u(l.errors)):e.push(l)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return x}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return f}),n.d(e,"f",function(){return y}),n.d(e,"g",function(){return T}),n.d(e,"h",function(){return E}),n.d(e,"i",function(){return p}),n.d(e,"j",function(){return m}),n.d(e,"k",function(){return O});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.s("angularfire2.app.options"),v=new u.s("angularfire2.app.nameOrConfig");class _{}const w=new u.R("6.1.4");function E(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const O=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(u.Y)()&&"undefined"!=typeof console&&console[t](...e)};function T(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:_,useFactory:E,deps:[b,u.B,[new u.C,v]]};let x=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.Q.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Yb(u.D))},t.\u0275mod=u.Mb({type:t}),t.\u0275inj=u.Lb({providers:[C]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>{return Object(i.a)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("30Go"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.b("@firebase/app"),f=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.h)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.f)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(o.f)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.i)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var p=Object(s.h)(Object.keys(e)),g=p.next();!g.done;g=p.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(f);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.i)(e,t)},createSubscribe:o.g,ErrorFactory:o.b,deepExtend:o.i}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.k)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.q)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var b=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new g(t)},"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.s("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Yb)(l)}const c=new r.s("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(r.Yb)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Yb)(o).location;return new v(Object(r.Yb)(a),e&&e.origin||"")}const b=new r.s("appBaseHref");let v=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(b,8))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(b,8))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.o,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(m),r.Yb(a))},t.normalizeQueryParams=g,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Kb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new w(Object(r.Yb)(m),Object(r.Yb)(a))}function O(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const T=r.pb;class C{}let x=(()=>{class t extends C{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.w))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();function I(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class k{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new k(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new D(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new D(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.N),r.Ob(r.u))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class D{constructor(t,e){this.record=t,this.view=e}}let j=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new P,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.S),r.Ob(r.N))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class P{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.yb)(e)}'.`)}let N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[{provide:C,useClass:x}]}),t})();function L(t){return"browser"===t}function F(t){return"server"===t}let M=(()=>{class t{}return t.\u0275prov=Object(r.Kb)({token:t,providedIn:"root",factory:()=>new V(Object(r.Yb)(o),window)}),t})();class V{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=U(this.window.history)||U(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function U(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class B extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new B,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=q||(q=document.querySelector("base"),q)?q.getAttribute("href"):null;return null==e?null:(n=e,z||(z=document.createElement("a")),z.setAttribute("href",n),"/"===z.pathname.charAt(0)?z.pathname:"/"+z.pathname);var n}resetBaseElement(){q=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return I(document.cookie,t)}}let z,q=null;const H=new r.s("TRANSITION_ID"),Y=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[H,o,r.t],multi:!0}];class ${static init(){Object(r.ab)(new $)}addToWindow(t){r.rb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.rb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.rb.getAllAngularRootElements=()=>t.getAllRootElements(),r.rb.frameworkStabilizers||(r.rb.frameworkStabilizers=[]),r.rb.frameworkStabilizers.push(t=>{const e=r.rb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const W=new r.s("EventManagerPlugins");let G=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(W),r.Yb(r.B))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class K{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Q=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),Z=(()=>{class t extends Q{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const X={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},J=/%COMP%/g;function tt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?tt(t,i,n):(i=i.replace(J,t),n.push(i))}return n}function et(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let nt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new rt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.T.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new it(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.T.ShadowDom:return new st(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=tt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(G),r.Yb(Z),r.Yb(r.c))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class rt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(X[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=X[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=X[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.I.DashCase|r.I.Important)?t.style.setProperty(e,n,i&r.I.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.I.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,et(n)):this.eventManager.addEventListener(t,e,et(n))}}class it extends rt{constructor(t,e,n,r){super(t),this.component=n;const i=tt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(J,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(J,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class st extends rt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=tt(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ot=(()=>{class t extends K{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const at=["alt","control","meta","shift"],ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ct={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},lt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ht=(()=>{class t extends K{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(at.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ct.hasOwnProperty(e)&&(e=ct[e]))}return ut[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),at.forEach(r=>{r!=n&&(0,lt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const dt=[{provide:r.D,useValue:"browser"},{provide:r.E,useValue:function(){B.makeCurrent(),$.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.xb)(document),document},deps:[]}],ft=Object(r.U)(r.Z,"browser",dt),pt=[[],{provide:r.cb,useValue:"root"},{provide:r.n,useFactory:function(){return new r.n},deps:[]},{provide:W,useClass:ot,multi:!0,deps:[o,r.B,r.D]},{provide:W,useClass:ht,multi:!0,deps:[o]},[],{provide:nt,useClass:nt,deps:[G,Z,r.c]},{provide:r.H,useExisting:nt},{provide:Q,useExisting:Z},{provide:Z,useClass:Z,deps:[o]},{provide:r.O,useClass:r.O,deps:[r.B]},{provide:G,useClass:G,deps:[W,r.B]},[]];let gt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:H,useExisting:r.c},Y]}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(t,12))},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:pt,imports:[N,r.f]}),t})();function mt(){return new yt(Object(r.Yb)(o))}let yt=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:mt,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;var bt=n("Cfvw"),vt=n("HDdC"),_t=n("DH7j"),wt=n("lJxs"),Et=n("XoHu");function Ot(t,e){return new vt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(bt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class St{}const Tt=new r.s("NgValueAccessor"),Ct={provide:Tt,useExisting:Object(r.W)(()=>It),multi:!0},xt=new r.s("CompositionEventMode");let It=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.G),r.Ob(r.l),r.Ob(xt,8))},t.\u0275dir=r.Jb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.bc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Cb([Ct])]}),t})();function kt(t){return null==t||0===t.length}function At(t){return null!=t&&"number"==typeof t.length}const Dt=new r.s("NgValidators"),jt=new r.s("NgAsyncValidators"),Pt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Rt{static min(t){return function(t){return e=>{if(kt(e.value)||kt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(kt(e.value)||kt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return function(t){return kt(t.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return kt(t.value)||Pt.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>kt(e.value)||!At(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>At(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return Nt;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(kt(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Bt(t)}static composeAsync(t){return qt(t)}}function Nt(t){return null}function Lt(t){return null!=t}function Ft(t){const e=Object(r.ub)(t)?Object(bt.a)(t):t;return Object(r.tb)(e),e}function Mt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Vt(t,e){return e.map(e=>e(t))}function Ut(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Bt(t){if(!t)return null;const e=t.filter(Lt);return 0==e.length?null:function(t){return Mt(Vt(t,e))}}function zt(t){return null!=t?Bt(Ut(t)):null}function qt(t){if(!t)return null;const e=t.filter(Lt);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(_t.a)(e))return Ot(e,null);if(Object(Et.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ot(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ot(t=1===t.length&&Object(_t.a)(t[0])?t[0]:t,null).pipe(Object(wt.a)(t=>e(...t)))}return Ot(t,null)}(Vt(t,e).map(Ft)).pipe(Object(wt.a)(Mt))}}function Ht(t){return null!=t?qt(Ut(t)):null}function Yt(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function $t(t){return t._rawValidators}function Wt(t){return t._rawAsyncValidators}let Gt=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=zt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ht(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t}),t})(),Kt=(()=>{class t extends Gt{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Qt(e||t)},t.\u0275dir=r.Jb({type:t,features:[r.Ab]}),t})();const Qt=r.Wb(Kt);class Zt extends Gt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xt{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let Jt=(()=>{class t extends Xt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Zt,2))},t.\u0275dir=r.Jb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Gb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.Ab]}),t})(),te=(()=>{class t extends Xt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Kt,10))},t.\u0275dir=r.Jb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Gb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.Ab]}),t})();function ee(t,e){return[...e.path,t]}function ne(t,e){se(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ae(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ae(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function re(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),oe(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ie(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function se(t,e,n){const r=$t(t);null!==e.validator?t.setValidators(Yt(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Wt(t);if(null!==e.asyncValidator?t.setAsyncValidators(Yt(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();ie(e._rawValidators,n),ie(e._rawAsyncValidators,n)}}function oe(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=$t(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=Wt(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};ie(e._rawValidators,t),ie(e._rawAsyncValidators,t)}return r}function ae(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ue(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function ce(t){return(fe(t)?t.validators:t)||null}function le(t){return Array.isArray(t)?zt(t):t||null}function he(t,e){return(fe(e)?e.asyncValidators:t)||null}function de(t){return Array.isArray(t)?Ht(t):t||null}function fe(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class pe{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=le(this._rawValidators),this._composedAsyncValidatorFn=de(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=le(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=de(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const e=Ft(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof me?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof ye&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.o,this.statusChanges=new r.o}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){fe(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ge extends pe{constructor(t=null,e,n){super(ce(e),he(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ue(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ue(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class me extends pe{constructor(t,e,n){super(ce(e),he(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ge?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class ye extends pe{constructor(t,e,n){super(ce(e),he(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ge?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let be=(()=>{class t extends Kt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ee(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return t.\u0275fac=function(e){return ve(e||t)},t.\u0275dir=r.Jb({type:t,features:[r.Ab]}),t})();const ve=r.Wb(be);let _e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const we={provide:Tt,useExisting:Object(r.W)(()=>Ee),multi:!0};let Ee=(()=>{class t extends St{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.G),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.bc("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.Cb([we]),r.Ab]}),t})(),Oe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})();const Se=new r.s("NgModelWithFormControlWarning"),Te={provide:Kt,useExisting:Object(r.W)(()=>Ce)};let Ce=(()=>{class t extends Kt{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.o,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(oe(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return ne(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){re(t.control||null,t,!1),ue(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(re(e||null,t),n instanceof ge&&(ne(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){se(t,e,!1)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return oe(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){se(this.form,this,!1),this._oldForm&&oe(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Dt,10),r.Ob(jt,10))},t.\u0275dir=r.Jb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.bc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Cb([Te]),r.Ab,r.Bb]}),t})();const xe={provide:Kt,useExisting:Object(r.W)(()=>Ie)};let Ie=(()=>{class t extends be{constructor(t,e,n){super(),this._parent=t,this._setValidators(e),this._setAsyncValidators(n)}_checkParentType(){De(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Kt,13),r.Ob(Dt,10),r.Ob(jt,10))},t.\u0275dir=r.Jb({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.Cb([xe]),r.Ab]}),t})();const ke={provide:Kt,useExisting:Object(r.W)(()=>Ae)};let Ae=(()=>{class t extends Kt{constructor(t,e,n){super(),this._parent=t,this._setValidators(e),this._setAsyncValidators(n)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ee(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){De(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Kt,13),r.Ob(Dt,10),r.Ob(jt,10))},t.\u0275dir=r.Jb({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.Cb([ke]),r.Ab]}),t})();function De(t){return!(t instanceof Ie||t instanceof Ce||t instanceof Ae)}const je={provide:Zt,useExisting:Object(r.W)(()=>Pe)};let Pe=(()=>{class t extends Zt{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.o,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===It?n=t:Object.getPrototypeOf(t.constructor)===St?r=t:i=t}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return ee(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Kt,13),r.Ob(Dt,10),r.Ob(jt,10),r.Ob(Tt,10),r.Ob(Se,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Cb([je]),r.Ab,r.Bb]}),t._ngModelWarningSentOnce=!1,t})(),Re=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Oe]]}),t})(),Ne=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[Re]}),t})(),Le=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Se,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[Re]}),t})();var Fe=n("LRne"),Me=n("5+tZ");function Ve(t,e){return Object(Me.a)(t,e,1)}var Ue=n("7o/Q");function Be(t,e){return function(n){return n.lift(new ze(t,e))}}class ze{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new qe(t,this.predicate,this.thisArg))}}class qe extends Ue.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class He{}class Ye{}class $e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof $e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new $e;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof $e?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class We{encodeKey(t){return Ge(t)}encodeValue(t){return Ge(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Ge(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Ke{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new We,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ke({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Qe(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Ze(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Xe(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Je{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new $e),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Ke,this.urlWithParams=e}serializeBody(){return null===this.body?null:Qe(this.body)||Ze(this.body)||Xe(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ke?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Xe(this.body)?null:Ze(this.body)?this.body.type||null:Qe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ke?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new Je(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var tn=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class en{constructor(t,e=200,n="OK"){this.headers=t.headers||new $e,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class nn extends en{constructor(t={}){super(t),this.type=tn.ResponseHeader}clone(t={}){return new nn({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class rn extends en{constructor(t={}){super(t),this.type=tn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new rn({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class sn extends en{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function on(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let an=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Je)r=t;else{let i,s;i=n.headers instanceof $e?n.headers:new $e(n.headers),n.params&&(s=n.params instanceof Ke?n.params:new Ke({fromObject:n.params})),r=new Je(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Fe.a)(r).pipe(Ve(t=>this.handler.handle(t)));if(t instanceof Je||"events"===n.observe)return i;const s=i.pipe(Be(t=>t instanceof rn));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(wt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(wt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(wt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(wt.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Ke).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,on(n,e))}post(t,e,n={}){return this.request("POST",t,on(n,e))}put(t,e,n={}){return this.request("PUT",t,on(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(He))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class un{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const cn=new r.s("HTTP_INTERCEPTORS");let ln=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const hn=/^\)\]\}',?\n/;class dn{}let fn=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),pn=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new vt.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new $e(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new nn({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(hn,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new rn({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new sn({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new sn({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:tn.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:tn.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:tn.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(dn))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const gn=new r.s("XSRF_COOKIE_NAME"),mn=new r.s("XSRF_HEADER_NAME");class yn{}let bn=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=I(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o),r.Yb(r.D),r.Yb(gn))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),vn=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(yn),r.Yb(mn))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),_n=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(cn,[]);this.chain=t.reduceRight((t,e)=>new un(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Ye),r.Yb(r.t))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),wn=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:vn,useClass:ln}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:gn,useValue:e.cookieName}:[],e.headerName?{provide:mn,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[vn,{provide:cn,useExisting:vn,multi:!0},{provide:yn,useClass:bn},{provide:gn,useValue:"XSRF-TOKEN"},{provide:mn,useValue:"X-XSRF-TOKEN"}]}),t})(),En=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[an,{provide:He,useClass:_n},pn,{provide:Ye,useExisting:pn},fn,{provide:dn,useExisting:fn}],imports:[[wn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var On=n("XNiG"),Sn=n("quSY"),Tn=n("vkgz"),Cn=n("D0XW");class xn{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new In(t,this.dueTime,this.scheduler))}}class In extends Ue.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(kn,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function kn(t){t.debouncedNext()}const An=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var Dn=n("EY2u");function jn(t){return e=>0===t?Object(Dn.b)():e.lift(new Pn(t))}class Pn{constructor(t){if(this.total=t,this.total<0)throw new An}call(t,e){return e.subscribe(new Rn(t,this.total))}}class Rn extends Ue.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Nn(t){return null!=t&&"false"!=`${t}`}function Ln(t){return Array.isArray(t)?t:[t]}function Fn(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Mn(t){return t instanceof r.l?t.nativeElement:t}let Vn;try{Vn="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(zk){Vn=!1}let Un,Bn,zn,qn=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?L(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Vn)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.D))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(r.D))},token:t,providedIn:"root"}),t})(),Hn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})();function Yn(t){return function(){if(null==Un&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Un=!0}))}finally{Un=Un||!1}return Un}()?t:!!t.capture}function $n(){if(null==Bn){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Bn=!1,Bn;if("scrollBehavior"in document.documentElement.style)Bn=!0;else{const t=Element.prototype.scrollTo;Bn=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Bn}function Wn(t){if(function(){if(null==zn){const t="undefined"!=typeof document?document.head:null;zn=!(!t||!t.createShadowRoot&&!t.attachShadow)}return zn}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}let Gn=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Kn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[Gn]}),t})(),Qn=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(zk){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===Xn(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=Xn(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Zn(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(qn))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(qn))},token:t,providedIn:"root"}),t})();function Zn(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Xn(t){if(!Zn(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Jn{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(jn(1)).subscribe(t)}}let tr=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new Jn(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Qn),r.Yb(r.B),r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(Qn),Object(r.Yb)(r.B),Object(r.Yb)(o))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const er=new r.s("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),nr=new r.s("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let rr=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(er,8),r.Yb(r.B),r.Yb(o),r.Yb(nr,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(er,8),Object(r.Yb)(r.B),Object(r.Yb)(o),Object(r.Yb)(nr,8))},token:t,providedIn:"root"}),t})();function ir(t){return 0===t.buttons}function sr(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const or=new r.s("cdk-focus-monitor-default-options"),ar=Yn({passive:!0,capture:!0});let ur=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=ir(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{sr(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=cr(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=cr(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=Mn(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Fe.a)(null);const r=Wn(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new On.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=Mn(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=Mn(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=cr(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===cr(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,ar),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,ar)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,ar),t.addEventListener("mousedown",this._documentMousedownListener,ar),t.addEventListener("touchstart",this._documentTouchstartListener,ar),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ar),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ar),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,ar),t.removeEventListener("mousedown",this._documentMousedownListener,ar),t.removeEventListener("touchstart",this._documentTouchstartListener,ar),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.B),r.Yb(qn),r.Yb(o,8),r.Yb(or,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(r.B),Object(r.Yb)(qn),Object(r.Yb)(o,8),Object(r.Yb)(or,8))},token:t,providedIn:"root"}),t})();function cr(t){return t.composedPath?t.composedPath()[0]:t.target}let lr=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(qn),r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(qn),Object(r.Yb)(o))},token:t,providedIn:"root"}),t})(),hr=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(lr))},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Hn,Kn]]}),t})();var dr=n("n6bG");function fr(t,e,n,r){return Object(dr.a)(n)&&(r=n,n=void 0),r?fr(t,e,n).pipe(Object(wt.a)(t=>Object(_t.a)(t)?r(...t):r(t))):new vt.a(r=>{pr(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function pr(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)pr(t[s],e,n,r,i)}r.add(s)}var gr=n("3N8a");class mr extends gr.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var yr=n("IjjT");class br extends yr.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const vr=new br(mr);function _r(t,e){return n=>n.lift(new wr(t,e))}n("7Hc7");class wr{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Er(t,this.compare,this.keySelector))}}class Er extends Ue.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Or=n("l7GE"),Sr=n("ZUHj");class Tr{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Cr(t,this.durationSelector))}}class Cr extends Or.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(Sr.a)(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var xr=n("Y7HM"),Ir=n("z+Ro");function kr(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Ar(t,e=Cn.a){return n=()=>function(t=0,e,n){let r=-1;return Object(xr.a)(e)?r=Number(e)<1?1:Number(e):Object(Ir.a)(e)&&(n=e),Object(Ir.a)(n)||(n=Cn.a),new vt.a(e=>{const i=Object(xr.a)(t)?t:+t-n.now();return n.schedule(kr,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new Tr(n))};var n}function Dr(t){return e=>e.lift(new jr(t))}class jr{constructor(t){this.notifier=t}call(t,e){const n=new Pr(t),r=Object(Sr.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Pr extends Or.a{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}var Rr=n("bHdf");function Nr(...t){return Object(Rr.a)(1)(Object(Fe.a)(...t))}function Lr(...t){const e=t[t.length-1];return Object(Ir.a)(e)?(t.pop(),n=>Nr(t,n,e)):e=>Nr(t,e)}function Fr(){return t=>t.lift(new Mr)}class Mr{call(t,e){return e.subscribe(new Vr(t))}}class Vr extends Ue.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Ur=n("51Dv");function Br(t,e){return"function"==typeof e?n=>n.pipe(Br((n,r)=>Object(bt.a)(t(n,r)).pipe(Object(wt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new zr(t))}class zr{constructor(t){this.project=t}call(t,e){return e.subscribe(new qr(t,this.project))}}class qr extends Or.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new Ur.a(this,e,n),s=this.destination;s.add(i),this.innerSubscription=Object(Sr.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}var Hr=n("qgXg"),Yr=n("pxpQ"),$r=n("9ppp"),Wr=n("Ylt2");class Gr extends On.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new Kr(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new $r.a;if(this.isStopped||this.hasError?s=Sn.a.EMPTY:(this.observers.push(t),s=new Wr.a(this,t)),r&&t.add(t=new Yr.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Hr.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Kr{constructor(t,e){this.time=t,this.value=e}}function Qr(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){o++,i&&!a||(a=!1,i=new Gr(t,e,r),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}));const l=i.subscribe(this);this.add(()=>{o--,l.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}const Zr=new r.s("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.X)(o)}});let Xr=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.o,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Zr,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(Zr,8))},token:t,providedIn:"root"}),t})(),Jr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})(),ti=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new On.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new vt.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Ar(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Fe.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Be(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=Mn(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>fr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.B),r.Yb(qn),r.Yb(o,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(r.B),Object(r.Yb)(qn),Object(r.Yb)(o,8))},token:t,providedIn:"root"}),t})(),ei=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new On.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Ar(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(qn),r.Yb(r.B),r.Yb(o,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(qn),Object(r.Yb)(r.B),Object(r.Yb)(o,8))},token:t,providedIn:"root"}),t})(),ni=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})(),ri=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Jr,Hn,ni],Jr,ni]}),t})();function ii(t){const{subscriber:e,counter:n,period:r}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}var si=n("VRyK");function oi(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ai(t,e){const n=e?"":"none";oi(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function ui(t,e){const n=t.style;n.position=e?"":"fixed",n.top=n.opacity=e?"":"0",n.left=e?"":"-999em"}function ci(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function li(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function hi(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function di(t,e,n){const{top:r,bottom:i,left:s,right:o}=t;return n>=r&&n<=i&&e>=s&&e<=o}function fi(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function pi(t,e,n,r){const{top:i,right:s,bottom:o,left:a,width:u,height:c}=t,l=u*e,h=c*e;return r>i-h&&r<o+h&&n>a-l&&n<s+l}class gi{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:hi(t)})})}handleScroll(t){const e=t.target,n=this.positions.get(e);if(!n)return null;const r=e===this._document?e.documentElement:e,i=n.scrollPosition;let s,o;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();s=t.top,o=t.left}else s=e.scrollTop,o=e.scrollLeft;const a=i.top-s,u=i.left-o;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&r.contains(n)&&fi(t.clientRect,a,u)}),i.top=s,i.left=o,{top:a,left:u}}}function mi(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),r=t.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");return"canvas"===r?_i(t,e):"input"!==r&&"select"!==r&&"textarea"!==r||vi(t,e),yi("canvas",t,e,_i),yi("input, textarea, select",t,e,vi),e}function yi(t,e,n,r){const i=e.querySelectorAll(t);if(i.length){const e=n.querySelectorAll(t);for(let t=0;t<i.length;t++)r(i[t],e[t])}}let bi=0;function vi(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${bi++}`)}function _i(t,e){const n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch(zk){}}const wi=Yn({passive:!0}),Ei=Yn({passive:!1});class Oi{constructor(t,e,n,r,i,s){this._config=e,this._document=n,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new On.a,this._pointerMoveSubscription=Sn.a.EMPTY,this._pointerUpSubscription=Sn.a.EMPTY,this._scrollSubscription=Sn.a.EMPTY,this._resizeSubscription=Sn.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new On.a,this.started=new On.a,this.released=new On.a,this.ended=new On.a,this.entered=new On.a,this.exited=new On.a,this.dropped=new On.a,this.moved=this._moveEvents,this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const e=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),n=this._dropContainer;if(!e)return void this._endDragSequence(t);n&&(n.isDragging()||n.isReceiving())||(t.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect())),t.preventDefault();const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,e);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new gi(n,i),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Nn(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>ai(t,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(t=>Mn(t)),this._handles.forEach(t=>ai(t,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Mn(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Ei),e.addEventListener("touchstart",this._pointerDown,wi)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Mn(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Ci(this._rootElement),Ci(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),ai(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),ai(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&Ci(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&Ci(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){xi(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,n=t.parentNode,r=this._preview=this._createPreviewElement(),i=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment(""),o=this._getShadowRoot();n.insertBefore(s,t),ui(t,!1),this._document.body.appendChild(n.replaceChild(i,t)),function(t,e){return e||t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||t.body}(this._document,o).appendChild(r),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const n=this.isDragging(),r=xi(e),i=!r&&0!==e.button,s=this._rootElement,o=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||i||o)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor||"",s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=hi(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){ui(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),i=this._getDragDistance(this._getPointerPositionOnPage(t)),s=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:i}),e.drop(this,n,this._initialIndex,this._initialContainer,s,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:r}){let i=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=i,this._dropContainer.enter(this,t,e,i===this._initialContainer&&i.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:i,currentIndex:i.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=Si(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let r;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,i=t.viewContainer.createEmbeddedView(n,t.context);i.detectChanges(),r=Ii(i,this._document),this._previewRef=i,t.matchSize?ki(r,e):r.style.transform=Si(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;r=mi(t),ki(r,t.getBoundingClientRect())}return oi(r.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:`${this._config.zIndex||1e3}`}),ai(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>r.classList.add(t)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=Si(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=li(e,"transition-property"),r=n.find(t=>"transform"===t||"all"===t);if(!r)return 0;const i=n.indexOf(r),s=li(e,"transition-duration"),o=li(e,"transition-delay");return ci(s[i])+ci(o[i])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(r))},r=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=Ii(this._placeholderRef,this._document)):n=mi(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,i=r?r.getBoundingClientRect():n,s=xi(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:i.left-n.left+(s.pageX-i.left-o.left),y:i.top-n.top+(s.pageY-i.top-o.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),n=xi(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=n.pageX-e.left,i=n.pageY-e.top;if(this._ownerSVGElement){const t=this._ownerSVGElement.getScreenCTM();if(t){const e=this._ownerSVGElement.createSVGPoint();return e.x=r,e.y=i,e.matrixTransform(t.inverse())}}return{x:r,y:i}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:r}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,i=this._boundaryRect,s=this._previewRect,o=i.top+e,a=i.bottom-(s.height-e);n=Ti(n,i.left+t,i.right-(s.width-t)),r=Ti(r,o,a)}return{x:n,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-i.x),o=Math.abs(n-i.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=e>i.x?1:-1,i.x=e),o>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,ai(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Ei),t.removeEventListener("touchstart",this._pointerDown,wi)}_applyRootElementTransform(t,e){const n=Si(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===r.width&&0===r.height)return;const i=n.left-r.left,s=r.right-n.right,o=n.top-r.top,a=r.bottom-n.bottom;n.width>r.width?(i>0&&(t+=i),s>0&&(t-=s)):t=0,n.height>r.height?(o>0&&(e+=o),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:xi(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const n=t.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&fi(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Wn(this._rootElement)),this._cachedShadowRoot}}function Si(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function Ti(t,e,n){return Math.max(e,Math.min(n,t))}function Ci(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function xi(t){return"t"===t.type[0]}function Ii(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const r=e.createElement("div");return n.forEach(t=>r.appendChild(t)),r}function ki(t,e){t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform=Si(e.left,e.top)}function Ai(t,e){return Math.max(0,Math.min(e,t))}class Di{constructor(t,e,n,r,i){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=i,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new On.a,this.entered=new On.a,this.exited=new On.a,this.dropped=new On.a,this.sorted=new On.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Sn.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new On.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=Cn.a){return(!Object(xr.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=Cn.a),new vt.a(n=>(n.add(e.schedule(ii,t,{subscriber:n,counter:0,period:t})),n))}(0,vr).pipe(Dr(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode,e=this.autoScrollStep;1===this._verticalScrollDirection?Pi(t,-e):2===this._verticalScrollDirection&&Pi(t,e),1===this._horizontalScrollDirection?Ri(t,-e):2===this._horizontalScrollDirection&&Ri(t,e)})},this.element=Mn(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new gi(n,i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,n,r){let i;this._draggingStarted(),null==r?(i=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===i&&(i=this._getItemIndexFromPointerPosition(t,e,n))):i=r;const s=this._activeDraggables,o=s.indexOf(t),a=t.getPlaceholderElement();let u=s[i];if(u===t&&(u=s[i+1]),o>-1&&s.splice(o,1),u&&!this._dragDropRegistry.isDragging(u)){const e=u.getRootElement();e.parentElement.insertBefore(a,e),s.splice(i,0,t)}else if(this._shouldEnterAsFirstChild(e,n)){const e=s[0].getRootElement();e.parentNode.insertBefore(a,e),s.unshift(t)}else Mn(this.element).appendChild(a),s.push(t);a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,r,i,s){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:i,distance:s})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Mn(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?ji("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,r){if(this.sortingDisabled||!this._clientRect||!pi(this._clientRect,.05,e,n))return;const i=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,n,r);if(-1===s&&i.length>0)return;const o="horizontal"===this._orientation,a=ji(i,e=>e.drag===t),u=i[s],c=u.clientRect,l=a>s?1:-1,h=this._getItemOffsetPx(i[a].clientRect,c,l),d=this._getSiblingOffsetPx(a,i,l),f=i.slice();!function(t,e,n){const r=Ai(e,t.length-1),i=Ai(n,t.length-1);if(r===i)return;const s=t[r],o=i<r?-1:1;for(let a=r;a!==i;a+=o)t[a]=t[a+o];t[i]=s}(i,a,s),this.sorted.next({previousIndex:a,currentIndex:s,container:this,item:t}),i.forEach((e,n)=>{if(f[n]===e)return;const r=e.drag===t,i=r?h:d,s=r?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=i,o?(s.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,fi(e.clientRect,0,i)):(s.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,fi(e.clientRect,i,0))}),this._previousSwap.overlaps=di(c,e,n),this._previousSwap.drag=u.drag,this._previousSwap.delta=o?r.x:r.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,r=0,i=0;if(this._parentPositions.positions.forEach((s,o)=>{o!==this._document&&s.clientRect&&!n&&pi(s.clientRect,.05,t,e)&&([r,i]=function(t,e,n,r){const i=Ni(e,r),s=Li(e,n);let o=0,a=0;if(i){const e=t.scrollTop;1===i?e>0&&(o=1):t.scrollHeight-e>t.clientHeight&&(o=2)}if(s){const e=t.scrollLeft;1===s?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[o,a]}(o,s.clientRect,t,e),(r||i)&&(n=o))}),!r&&!i){const{width:s,height:o}=this._viewportRuler.getViewportSize(),a={width:s,height:o,top:0,right:s,bottom:o,left:0};r=Ni(a,e),i=Li(a,t),n=window}!n||r===this._verticalScrollDirection&&i===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=i,this._scrollNode=n,(r||i)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Mn(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Mn(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:hi(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=Mn(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const r="horizontal"===this._orientation,i=e[t].clientRect,s=e[t+-1*n];let o=i[r?"width":"height"]*n;if(s){const t=r?"left":"top",e=r?"right":"bottom";-1===n?o-=s.clientRect[t]-i[e]:o+=i[t]-s.clientRect[e]}return o}_getItemOffsetPx(t,e,n){const r="horizontal"===this._orientation;let i=r?e.left-t.left:e.top-t.top;return-1===n&&(i+=r?e.width-t.width:e.height-t.height),i}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const i=n[n.length-1].clientRect;return r?t>=i.right:e>=i.bottom}{const i=n[0].clientRect;return r?t<=i.left:e<=i.top}}_getItemIndexFromPointerPosition(t,e,n,r){const i="horizontal"===this._orientation,s=ji(this._itemPositions,({drag:s,clientRect:o},a,u)=>{if(s===t)return u.length<2;if(r){const t=i?r.x:r.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&t===this._previousSwap.delta)return!1}return i?e>=Math.floor(o.left)&&e<Math.floor(o.right):n>=Math.floor(o.top)&&n<Math.floor(o.bottom)});return-1!==s&&this.sortPredicate(s,t,this)?s:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&di(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(r=>r._canReceive(t,e,n))}_canReceive(t,e,n){if(!this._clientRect||!di(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,n);if(!r)return!1;const i=Mn(this.element);return r===i||i.contains(r)}_startReceiving(t,e){const n=this._activeSiblings;!n.has(t)&&e.every(t=>this.enterPredicate(t,this)||this._draggables.indexOf(t)>-1)&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{fi(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Wn(Mn(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function ji(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function Pi(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function Ri(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function Ni(t,e){const{top:n,bottom:r,height:i}=t,s=.05*i;return e>=n-s&&e<=n+s?1:e>=r-s&&e<=r+s?2:0}function Li(t,e){const{left:n,right:r,width:i}=t,s=.05*i;return e>=n-s&&e<=n+s?1:e>=r-s&&e<=r+s?2:0}const Fi=Yn({passive:!1,capture:!0});let Mi=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=t=>t.isDragging(),this.pointerMove=new On.a,this.pointerUp=new On.a,this.scroll=new On.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.length>0&&t.preventDefault()},this._persistentTouchmoveListener=t=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Fi)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Fi)}startDragging(t,e){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const t=e.type.startsWith("touch");this._globalListeners.set(t?"touchend":"mouseup",{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Fi}),t||this._globalListeners.set("mousemove",{handler:t=>this.pointerMove.next(t),options:Fi}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){const e=this._activeDragInstances.indexOf(t);e>-1&&(this._activeDragInstances.splice(e,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.B),r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(r.B),Object(r.Yb)(o))},token:t,providedIn:"root"}),t})();const Vi={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Ui=(()=>{class t{constructor(t,e,n,r){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=r}createDrag(t,e=Vi){return new Oi(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Di(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o),r.Yb(r.B),r.Yb(ei),r.Yb(Mi))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(o),Object(r.Yb)(r.B),Object(r.Yb)(ei),Object(r.Yb)(Mi))},token:t,providedIn:"root"}),t})(),Bi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[Ui],imports:[ni]}),t})();class zi{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class qi extends zi{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class Hi extends zi{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Yi extends zi{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class $i{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof qi?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Hi?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Yi?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Wi extends $i{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Gi=(()=>{class t extends $i{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.o,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.j),r.Ob(r.S),r.Ob(o))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.Ab]}),t})(),Ki=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})(),Qi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Jr]]}),t})();class Zi extends On.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new $r.a;return this._value}next(t){super.next(this._value=t)}}let Xi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[ri]]}),t})(),Ji=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})();const ts=new r.R("11.2.11");class es{}function ns(t,e){return{type:7,name:t,definitions:e,options:{}}}function rs(t,e=null){return{type:4,styles:e,timings:t}}function is(t,e=null){return{type:2,steps:t,options:e}}function ss(t){return{type:6,styles:t,offset:null}}function os(t,e,n){return{type:0,name:t,styles:e,options:n}}function as(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function us(t){Promise.resolve(null).then(t)}class cs{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){us(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ls{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?us(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function hs(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ds(t){switch(t.length){case 0:return new cs;case 1:return t[0];default:return new ls(t)}}function fs(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function ps(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&gs(n,"start",t)));break;case"done":t.onDone(()=>r(n&&gs(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&gs(n,"destroy",t)))}}function gs(t,e,n){const r=n.totalTime,i=ms(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function ms(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function ys(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function bs(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let vs=(t,e)=>!1,_s=(t,e)=>!1,ws=(t,e,n)=>[];const Es=hs();(Es||"undefined"!=typeof Element)&&(vs=(t,e)=>t.contains(e),_s=(()=>{if(Es||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):_s}})(),ws=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Os=null,Ss=!1;function Ts(t){Os||(Os=("undefined"!=typeof document?document.body:null)||{},Ss=!!Os.style&&"WebkitAppearance"in Os.style);let e=!0;return Os.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Os.style,!e&&Ss)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Os.style),e}const Cs=_s,xs=vs,Is=ws;function ks(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let As=(()=>{class t{validateStyleProperty(t){return Ts(t)}matchesElement(t,e){return Cs(t,e)}containsElement(t,e){return xs(t,e)}query(t,e,n){return Is(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new cs(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),Ds=(()=>{class t{}return t.NOOP=new As,t})();function js(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ps(parseFloat(e[1]),e[2])}function Ps(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Rs(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Ps(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Ps(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Ns(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Ls(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Ns(t,n);return n}function Fs(t,e,n){return n?e+":"+n+";":""}function Ms(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Fs(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Fs(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Vs(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Ws(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),hs()&&Ms(t))}function Us(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Ws(e);t.style[n]=""}),hs()&&Ms(t))}function Bs(t){return Array.isArray(t)?1==t.length?t[0]:is(t):t}const zs=new RegExp("{{\\s*(.+?)\\s*}}","g");function qs(t){let e=[];if("string"==typeof t){let n;for(;n=zs.exec(t);)e.push(n[1]);zs.lastIndex=0}return e}function Hs(t,e,n){const r=t.toString(),i=r.replace(zs,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function Ys(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const $s=/-+([a-z0-9])/g;function Ws(t){return t.replace($s,(...t)=>t[1].toUpperCase())}function Gs(t,e){return 0===t||0===e}function Ks(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=Zs(t,e)})}}return e}function Qs(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Zs(t,e){return window.getComputedStyle(t)[e]}function Xs(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(eo(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(eo(o,i))}(t,n,e)):n.push(t),n}const Js=new Set(["true","1"]),to=new Set(["false","0"]);function eo(t,e){const n=Js.has(t)||to.has(t),r=Js.has(e)||to.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Js.has(t):to.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Js.has(e):to.has(e)),o&&a}}const no=new RegExp("s*:selfs*,?","g");function ro(t,e,n){return new io(t).build(e,n)}class io{constructor(t){this._driver=t}build(t,e){const n=new so(e);return this._resetContextStyleTimingState(n),Qs(this,Bs(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(oo(t)){const e=t;Object.keys(e).forEach(t=>{qs(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Ys(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Qs(this,Bs(t.animation),e);return{type:1,matchers:Xs(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:ao(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Qs(this,t,e)),options:ao(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Qs(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:ao(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return uo(Rs(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=uo(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Rs(r,e),uo(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:ss({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=ss(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(oo(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=qs(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(oo(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(oo(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Qs(this,Bs(t.animation),e),options:ao(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:ao(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ao(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(no,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,ys(e.collectedStyles,e.currentQuerySelector,{});const o=Qs(this,Bs(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:ao(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Rs(t.timings,e.errors,!0);return{type:12,animation:Qs(this,Bs(t.animation),e),timings:n,options:null}}}class so{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function oo(t){return!Array.isArray(t)&&"object"==typeof t}function ao(t){var e;return t?(t=Ns(t)).params&&(t.params=(e=t.params)?Ns(e):null):t={},t}function uo(t,e,n){return{duration:t,delay:e,easing:n}}function co(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class lo{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ho=new RegExp(":enter","g"),fo=new RegExp(":leave","g");function po(t,e,n,r,i,s={},o={},a,u,c=[]){return(new go).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class go{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new lo;const l=new yo(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),Qs(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[co(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?js(n.duration):null,s=null!=n.delay?js(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Qs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=mo);const t=js(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Qs(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?js(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Qs(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Rs(e.params?Hs(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?js(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=mo);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Qs(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;Qs(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const mo={};class yo{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=mo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new bo(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=js(n.duration)),null!=n.delay&&(r.delay=js(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Hs(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new yo(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=mo,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new vo(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(ho,"."+this._enterClassName)).replace(fo,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class bo{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new bo(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):Ls(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Hs(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Ls(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Ys(t.values()):[],s=e.size?Ys(e.values()):[];if(n){const t=r[0],e=Ns(t);t.offset=0,e.offset=1,r=[t,e]}return co(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class vo extends bo{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Ls(t[0],!1);a.offset=0,i.push(a);const u=Ls(t[0],!1);u.offset=_o(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=Ls(t[r],!1);o.offset=_o((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return co(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function _o(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class wo{}class Eo extends wo{normalizePropertyName(t,e){return Ws(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(Oo[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const Oo=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function So(t,e,n,r,i,s,o,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const To={};class Co{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||To,d=this.buildStyles(n,o&&o.params||To,l),f=a&&a.params||To,p=this.buildStyles(r,f,l),g=new Set,m=new Map,y=new Map,b="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=c?[]:po(t,e,this.ast.animation,i,s,d,p,v,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return So(e,this._triggerName,n,r,b,d,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=ys(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=ys(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const E=Ys(g.values());return So(e,this._triggerName,n,r,b,d,p,_,E,m,y,w)}}class xo{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Ns(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Hs(s,r,e)),n[t]=s})}}),n}}class Io{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new xo(t.style,t.options&&t.options.params||{})}),ko(this.states,"true","1"),ko(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Co(t,e,this.states))}),this.fallbackTransition=new Co(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function ko(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Ao=new lo;class Do{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=ro(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=fs(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=po(this._driver,e,i,"ng-enter","ng-leave",{},{},n,Ao,r),s.forEach(t=>{const e=ys(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=ds(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=ms(e,"","","");return ps(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const jo=[],Po={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ro={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class No{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Ns(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Lo=new No("void");class Fo{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ho(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=ys(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=ys(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Ho(t,"ng-trigger"),Ho(t,"ng-trigger-"+e),a[e]=Lo),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Vo(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Ho(t,"ng-trigger"),Ho(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new No(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=Lo),"void"!==u.value&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Us(t,n),Vs(t,r)})}return}const c=ys(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(Ho(t,"ng-animate-queued"),s.onStart(()=>{Yo(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&ds(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||Lo,a=new No("void"),u=new Vo(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Po||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Ho(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=ms(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,ps(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Mo{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Fo(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Uo(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Uo(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ho(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Yo(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(Uo(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Uo(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ds(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Po,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Ho(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?ds(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new lo,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=qo(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>Ho(t,n))});const g=[],m=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const b=new Map,v=qo(h,Array.from(m));v.forEach((t,e)=>{const n="ng-leave"+p++;b.set(e,n),t.forEach(t=>Ho(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Yo(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>Yo(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>Us(i,p.fromStyles)),e.onDestroy(()=>Vs(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Us(i,p.fromStyles)),e.onDestroy(()=>Vs(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>ys(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,O=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(O.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{ys(E,e,[]).push(t),t.destroy()})});const S=g.filter(t=>Go(t,a,u)),T=new Map;zo(T,this.driver,y,u,"*").forEach(t=>{Go(t,a,u)&&S.push(t)});const C=new Map;d.forEach((t,e)=>{zo(C,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=T.get(t),n=C.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const x=[],I=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>Vs(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(O.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=O.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>O.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,C,T);if(s.setRealPlayer(n),t===k)x.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=ds(e)),r.push(s)}}else Us(e,o.fromStyles),s.onDestroy(()=>Vs(e,o.toStyles)),I.push(s),c.has(e)&&r.push(s)}),I.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=ds(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<g.length;A++){const t=g[A],e=t.__ng_removed;if(Yo(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?$o(this,t,r):this.processLeaveNode(t)}return g.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=ys(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}Us(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new cs(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return Wo(t,e),e}((n.get(h)||jo).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=fs(0,this._normalizer,0,e.keyframes,g,m),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new Vo(t,o,h);e.setRealPlayer(b),u.push(e)}return b});u.forEach(t=>{ys(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Ho(t,"ng-animating"));const d=ds(h);return d.onDestroy(()=>{c.forEach(t=>Yo(t,"ng-animating")),Vs(a,e.toStyles)}),l.forEach(t=>{ys(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new cs(t.duration,t.delay)}}class Vo{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new cs,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>ps(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ys(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Uo(t){return t&&1===t.nodeType}function Bo(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function zo(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Bo(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Ro,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Bo(t,s[a++])),o}function qo(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function Ho(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Yo(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function $o(t,e,n){ds(n).onDone(()=>t.processLeaveNode(e))}function Wo(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof ls?Wo(r.players,e):e.push(r)}}function Go(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Ko{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Mo(t,e,n),this._timelineEngine=new Do(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=ro(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Io(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=bs(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=bs(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Qo(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Xo(e[0]),e.length>1&&(r=Xo(e[e.length-1]))):e&&(n=Xo(e)),n||r?new Zo(t,n,r):null}let Zo=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Vs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vs(this._element,this._initialStyles),this._endStyles&&(Vs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Us(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Us(this._element,this._endStyles),this._endStyles=null),Vs(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Xo(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Jo(i)&&(e=e||{},e[i]=t[i])}return e}function Jo(t){return"display"===t||"position"===t}class ta{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=oa(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),sa(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),ia(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ea(this._element,this._name,"paused")}resume(){ea(this._element,this._name,"running")}setPosition(t){const e=na(this._element,this._name);this._position=t*this._duration,sa(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),ia(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=oa(t,"").split(","),r=ra(n,e);r>=0&&(n.splice(r,1),sa(t,"",n.join(",")))}(this._element,this._name))}}function ea(t,e,n){sa(t,"PlayState",n,na(t,e))}function na(t,e){const n=oa(t,"");return n.indexOf(",")>0?ra(n.split(","),e):ra([n],e)}function ra(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function ia(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function sa(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function oa(t,e){return t.style["animation"+e]||""}class aa{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ta(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Zs(this.element,n))})}this.currentSnapshot=t}}class ua extends cs{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=ks(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class ca{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return Ts(t)}matchesElement(t,e){return Cs(t,e)}containsElement(t,e){return xs(t,e)}query(t,e,n){return Is(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>ks(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof aa),u={};Gs(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Ks(t,e,u));if(0==n)return new ua(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=Qo(t,e),f=new aa(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class la{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Zs(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ha{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(da().toString()),this._cssKeyframesDriver=new ca}validateStyleProperty(t){return Ts(t)}matchesElement(t,e){return Cs(t,e)}containsElement(t,e){return xs(t,e)}query(t,e,n){return Is(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof la);Gs(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=Qo(t,e=Ks(t,e=e.map(t=>Ls(t,!1)),u));return new la(t,e,a,l)}}function da(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let fa=(()=>{class t extends es{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.T.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?is(t):t;return ma(this._renderer,null,e,"register",[n]),new pa(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.H),r.Yb(o))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class pa extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ga(this._id,t,e||{},this._renderer)}}class ga{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return ma(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function ma(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let ya=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new ba("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new va(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.H),r.Yb(Ko),r.Yb(r.B))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class ba{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class va extends ba{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let _a=(()=>{class t extends Ko{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o),r.Yb(Ds),r.Yb(wo))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const wa=new r.s("AnimationModuleType"),Ea=[{provide:Ds,useFactory:function(){return"function"==typeof da()?new ha:new ca}},{provide:wa,useValue:"BrowserAnimations"},{provide:es,useClass:fa},{provide:wo,useFactory:function(){return new Eo}},{provide:Ko,useClass:_a},{provide:r.H,useFactory:function(t,e,n){return new ya(t,e,n)},deps:[nt,Ko,r.B]}];let Oa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:Ea,imports:[gt]}),t})();const Sa=new r.R("11.2.11"),Ta=new r.s("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Ca=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.Y)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Sa.full!==ts.full&&console.warn("The Angular Material version ("+Sa.full+") does not match the Angular CDK version ("+ts.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(lr),r.Yb(Ta,8),r.Yb(o))},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Jr],Jr]}),t})();function xa(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Nn(t)}}}function Ia(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function ka(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Nn(t)}}}const Aa=new r.s("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Object(r.X)(r.w)}});class Da{constructor(){this._localeChanges=new On.a,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareDate(t,e):n==r}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const ja=new r.s("mat-date-formats");let Pa;try{Pa="undefined"!=typeof Intl}catch(zk){Pa=!1}const Ra={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},Na=Ma(31,t=>String(t+1)),La={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},Fa=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Ma(t,e){const n=Array(t);for(let r=0;r<t;r++)n[r]=e(r);return n}let Va=(()=>{class t extends Da{constructor(t,e){super(),this.useUtcForDisplay=!0,super.setLocale(t),this.useUtcForDisplay=!e.TRIDENT,this._clampDate=e.TRIDENT||e.EDGE}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){if(Pa){const e=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return Ma(12,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,t,1))))}return Ra[t]}getDateNames(){if(Pa){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Ma(31,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return Na}getDayOfWeekNames(t){if(Pa){const e=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return Ma(7,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return La[t]}getYearName(t){if(Pa){const e=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(e,t))}return String(this.getYear(t))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,e,n){let r=this._createDateWithOverflow(t,e,n);return r.getMonth(),r}today(){return new Date}parse(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,e){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(Pa){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),e=Object.assign(Object.assign({},e),{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,e);return this._stripDirectionalityCharacters(this._format(n,t))}return this._stripDirectionalityCharacters(t.toDateString())}addCalendarYears(t,e){return this.addCalendarMonths(t,12*e)}addCalendarMonths(t,e){let n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(n)!=((this.getMonth(t)+e)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(Fa.test(t)){let e=new Date(t);if(this.isValid(e))return e}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,e,n){const r=new Date;return r.setFullYear(t,e,n),r.setHours(0,0,0,0),r}_2digit(t){return("00"+t).slice(-2)}_stripDirectionalityCharacters(t){return t.replace(/[\u200e\u200f]/g,"")}_format(t,e){const n=new Date;return n.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setUTCHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t.format(n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Aa,8),r.Yb(qn))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),Ua=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[{provide:Da,useClass:Va}],imports:[[Hn]]}),t})();const Ba={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let za=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[{provide:ja,useValue:Ba}],imports:[[Ua]]}),t})(),qa=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Ha=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Ca],Ca]}),t})();class Ya{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const $a={enterDuration:450,exitDuration:400},Wa=Yn({passive:!0}),Ga=["mousedown","touchstart"],Ka=["mouseup","mouseleave","touchend","touchcancel"];class Qa{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Mn(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},$a),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,u=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const l=new Ya(this,c,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},u),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},$a),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Mn(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Ga))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Ka),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=ir(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!sr(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,Wa)})})}_removeTriggerEvents(){this._triggerElement&&(Ga.forEach(t=>{this._triggerElement.removeEventListener(t,this,Wa)}),this._pointerUpEventsRegistered&&Ka.forEach(t=>{this._triggerElement.removeEventListener(t,this,Wa)}))}}const Za=new r.s("mat-ripple-global-options");let Xa=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Qa(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.B),r.Ob(qn),r.Ob(Za,8),r.Ob(wa,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Gb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),Ja=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Ca,Hn],Ca]}),t})(),tu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Ca]]}),t})(),eu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Ja,N,Ca,tu]]}),t})();function nu(t){return new vt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(bt.a)(n):Object(Dn.b)()).subscribe(e)})}const ru=$n();class iu{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Fn(-this._previousScrollPosition.left),t.style.top=Fn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ru&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ru&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class su{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ou{enable(){}disable(){}attach(){}}function au(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function uu(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class cu{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();au(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let lu=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new ou,this.close=t=>new su(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new iu(this._viewportRuler,this._document),this.reposition=t=>new cu(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(ti),r.Yb(ei),r.Yb(r.B),r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(ti),Object(r.Yb)(ei),Object(r.Yb)(r.B),Object(r.Yb)(o))},token:t,providedIn:"root"}),t})();class hu{constructor(t){if(this.scrollStrategy=new ou,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class du{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class fu{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let pu=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(o))},token:t,providedIn:"root"}),t})(),gu=(()=>{class t extends pu{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(o))},token:t,providedIn:"root"}),t})(),mu=(()=>{class t extends pu{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o),r.Yb(qn))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(o),Object(r.Yb)(qn))},token:t,providedIn:"root"}),t})();const yu=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let bu=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){if(this._platform.isBrowser||yu){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),yu?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(o),r.Yb(qn))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(o),Object(r.Yb)(qn))},token:t,providedIn:"root"}),t})();class vu{constructor(t,e,n,r,i,s,o,a,u){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new On.a,this._attachments=new On.a,this._detachments=new On.a,this._locationChanges=Sn.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new On.a,this._outsidePointerEvents=new On.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(jn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Fn(this._config.width),t.height=Fn(this._config.height),t.minWidth=Fn(this._config.minWidth),t.minHeight=Fn(this._config.minHeight),t.maxWidth=Fn(this._config.maxWidth),t.maxHeight=Fn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;Ln(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Dr(Object(si.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const _u=/([A-Za-z%]+)$/;class wu{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new On.a,this._resizeSubscription=Sn.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),u=this._getOverlayFit(a,e,n,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(u,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<u.visibleArea)&&(i={overlayFit:u,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Eu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=Su(e);let{x:s,y:o}=t,a=this._getOffset(r,"x"),u=this._getOffset(r,"y");a&&(s+=a),u&&(o+=u);let c=0-o,l=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,c,l),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=Ou(this._overlayRef.getConfig().minHeight),o=Ou(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Su(e),i=this._viewportRect,s=Math.max(t.x+r.width-i.width,0),o=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),u=Math.max(i.left-n.left-t.x,0);let c=0,l=0;return c=r.width<=i.width?u||-s:t.x<this._viewportMargin?i.left-n.left-t.x:0,l=r.height<=i.height?a||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:c,y:l},{x:t.x+c,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new fu(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,u,c;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,u=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-r/2)}return{top:s,left:u,bottom:o,right:c,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=Fn(n.height),r.top=Fn(n.top),r.bottom=Fn(n.bottom),r.width=Fn(n.width),r.left=Fn(n.left),r.right=Fn(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=Fn(t)),i&&(r.maxWidth=Fn(i))}this._lastBoundingBoxSize=n,Eu(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Eu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Eu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();Eu(n,this._getExactOverlayY(e,t,r)),Eu(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),u=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),u&&(o+=`translateY(${u}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=Fn(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Fn(s.maxWidth):i&&(n.maxWidth="")),Eu(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=Fn(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Fn(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:uu(t,n),isOriginOutsideView:au(t,n),isOverlayClipped:uu(e,n),isOverlayOutsideView:au(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ln(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Eu(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Ou(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(_u);return n&&"px"!==n?null:parseFloat(e)}return t||null}function Su(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class Tu{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new wu(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new du(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class Cu{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),u=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let xu=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new Cu}connectedTo(t,e,n){return new Tu(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new wu(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(ei),r.Yb(o),r.Yb(qn),r.Yb(bu))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(ei),Object(r.Yb)(o),Object(r.Yb)(qn),Object(r.Yb)(bu))},token:t,providedIn:"root"}),t})(),Iu=0,ku=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u,c,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=u,this._location=c,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new hu(t);return i.direction=i.direction||this._directionality.value,new vu(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+Iu++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new Wi(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(lu),r.Yb(bu),r.Yb(r.j),r.Yb(xu),r.Yb(gu),r.Yb(r.t),r.Yb(r.B),r.Yb(o),r.Yb(Xr),r.Yb(w),r.Yb(mu))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const Au={provide:new r.s("cdk-connected-overlay-scroll-strategy"),deps:[ku],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Du=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[ku,Au],imports:[[Jr,Ki,ri],ri]}),t})(),ju=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[N,Ca,Kn],Ca]}),t})();n("WMd4");const Pu={provide:new r.s("mat-autocomplete-scroll-strategy"),deps:[ku],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Ru=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[Pu],imports:[[Du,eu,Ca,N],ni,eu,Ca]}),t})(),Nu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[hr,Ca],Ca]}),t})();var Lu=n("yCtX");const Fu={};function Mu(...t){let e=null,n=null;return Object(Ir.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(_t.a)(t[0])&&(t=t[0]),Object(Lu.a)(t,n).lift(new Vu(e))}class Vu{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Uu(t,this.resultSelector))}}class Uu extends Or.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Fu),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(Sr.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===Fu?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class Bu{constructor(t){this.total=t}call(t,e){return e.subscribe(new zu(t,this.total))}}class zu extends Ue.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const qu=new Set;let Hu,Yu=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$u}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!qu.has(t))try{Hu||(Hu=document.createElement("style"),Hu.setAttribute("type","text/css"),document.head.appendChild(Hu)),Hu.sheet&&(Hu.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),qu.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(qn))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(qn))},token:t,providedIn:"root"}),t})();function $u(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let Wu=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new On.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Gu(Ln(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=Mu(Gu(Ln(t)).map(t=>this._registerQuery(t).observable));return e=Nr(e.pipe(jn(1)),e.pipe(t=>t.lift(new Bu(1)),function(t,e=Cn.a){return n=>n.lift(new xn(t,e))}(0))),e.pipe(Object(wt.a)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new vt.a(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Lr(e),Object(wt.a)(({matches:e})=>({query:t,matches:e})),Dr(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Yu),r.Yb(r.B))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(Yu),Object(r.Yb)(r.B))},token:t,providedIn:"root"}),t})();function Gu(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let Ku=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Du,Ca,Ki],Ca]}),t})();const Qu=["mat-button",""],Zu=["*"],Xu=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class Ju{constructor(t){this._elementRef=t}}const tc=Ia(xa(ka(Ju)));let ec=(()=>{class t extends tc{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of Xu)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(ur),r.Ob(wa,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.Dc(Xa,1),2&t){let t;r.pc(t=r.cc())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Eb("disabled",e.disabled||null),r.Gb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.Ab],attrs:Qu,ngContentSelectors:Zu,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.jc(),r.Ub(0,"span",0),r.ic(1),r.Tb(),r.Pb(2,"span",1),r.Pb(3,"span",2)),2&t&&(r.Db(2),r.Gb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.kc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Xa],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),nc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Ja,Ca],Ca]}),t})(),rc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Ca,Ja],Ca]}),t})(),ic=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Ca],Ca]}),t})(),sc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})(),oc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Ja,Ca,Kn,sc],Ca,sc]}),t})();const ac=new r.s("mat-chips-default-options"),uc={separatorKeyCodes:[13]};let cc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[qa,{provide:ac,useValue:uc}],imports:[[Ca]]}),t})();var lc=n("z6cu");function hc(t){return function(e){const n=new dc(t),r=e.lift(n);return n.caught=r}}class dc{constructor(t){this.selector=t}call(t,e){return e.subscribe(new fc(t,this.selector,this.caught))}}class fc extends Or.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Ur.a(this,void 0,void 0);this.add(r);const i=Object(Sr.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}class pc{constructor(t){this.callback=t}call(t,e){return e.subscribe(new gc(t,this.callback))}}class gc extends Ue.a{constructor(t,e){super(t),this.add(new Sn.a(e))}}n("w1tV");let mc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Ca],Ca]}),t})(),yc=(()=>{class t{constructor(){this.changes=new On.a,this.optionalLabel="Optional"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const bc={provide:yc,deps:[[new r.C,new r.L,yc]],useFactory:function(t){return t||new yc}};let vc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[bc,qa],imports:[[Ca,N,Ki,nc,Qi,mc,Ja],Ca]}),t})();function _c(t,e){}class wc{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Ec={dialogContainer:ns("dialogContainer",[os("void, exit",ss({opacity:0,transform:"scale(0.7)"})),os("enter",ss({transform:"none"})),as("* => enter",rs("150ms cubic-bezier(0, 0, 0.2, 1)",ss({transform:"none",opacity:1}))),as("* => void, * => exit",rs("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",ss({opacity:0})))])};let Oc=(()=>{class t extends $i{constructor(t,e,n,i,s,o){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=s,this._focusMonitor=o,this._animationStateChanged=new r.o,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._getActiveElement(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._getActiveElement();return t===e||t.contains(e)}_getActiveElement(){var t;const e=this._document.activeElement;return(null===(t=null==e?void 0:e.shadowRoot)||void 0===t?void 0:t.activeElement)||e}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(tr),r.Ob(r.h),r.Ob(o,8),r.Ob(wc),r.Ob(ur))},t.\u0275dir=r.Jb({type:t,viewQuery:function(t,e){if(1&t&&r.Dc(Gi,3),2&t){let t;r.pc(t=r.cc())&&(e._portalOutlet=t.first)}},features:[r.Ab]}),t})(),Sc=(()=>{class t extends Oc{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return Tc(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.wc("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(r.Xb("id",e._id),r.Eb("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.xc("@dialogContainer",e._state))},features:[r.Ab],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.yc(0,_c,0,0,"ng-template",0)},directives:[Gi],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Ec.dialogContainer]}}),t})();const Tc=r.Wb(Sc);let Cc=0;class xc{constructor(t,e,n="mat-dialog-"+Cc++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new On.a,this._afterClosed=new On.a,this._beforeClosed=new On.a,this._state=0,e._id=n,e._animationStateChanged.pipe(Be(t=>"opened"===t.state),jn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Be(t=>"closed"===t.state),jn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Be(t=>27===t.keyCode&&!this.disableClose&&!function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t))).subscribe(t=>{t.preventDefault(),Ic(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Ic(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Be(t=>"closing"===t.state),jn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Ic(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const kc=new r.s("MatDialogData"),Ac=new r.s("mat-dialog-default-options"),Dc=new r.s("mat-dialog-scroll-strategy"),jc={provide:Dc,deps:[ku],useFactory:function(t){return()=>t.scrollStrategies.block()}};let Pc=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new On.a,this._afterOpenedAtThisLevel=new On.a,this._ariaHiddenElements=new Map,this.afterAllClosed=nu(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Lr(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new wc)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new hu({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=r.t.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:wc,useValue:e}]}),i=new qi(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const s=new this._dialogRefConstructor(n,e,i.id);if(t instanceof r.N)e.attachTemplatePortal(new Hi(t,null,{$implicit:i.data,dialogRef:s}));else{const n=this._createInjector(i,s,e),r=e.attachComponentPortal(new qi(t,i.viewContainerRef,n));s.componentInstance=r.instance}return s.updateSize(i.width,i.height).updatePosition(i.position),s}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(Xr,null)||s.push({provide:Xr,useValue:{value:t.direction,change:Object(Fe.a)()}}),r.t.create({parent:i||this._injector,providers:s})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(ku),r.Ob(r.t),r.Ob(void 0),r.Ob(void 0),r.Ob(bu),r.Ob(void 0),r.Ob(r.P),r.Ob(r.P),r.Ob(r.s))},t.\u0275dir=r.Jb({type:t}),t})(),Rc=(()=>{class t extends Pc{constructor(t,e,n,r,i,s,o){super(t,e,r,s,o,i,xc,Sc,kc)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(ku),r.Yb(r.t),r.Yb(w,8),r.Yb(Ac,8),r.Yb(Dc),r.Yb(t,12),r.Yb(bu))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),Nc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[Rc,jc],imports:[[Du,Ki,Ca],Ca]}),t})(),Lc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Hn]]}),t})(),Fc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[qa],imports:[[Lc,ju,Ca],Lc,ju]}),t})(),Mc=(()=>{class t{constructor(){this.changes=new On.a,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(t,e){return`${t} \u2013 ${e}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Vc={provide:new r.s("mat-datepicker-scroll-strategy"),deps:[ku],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Uc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[Mc,Vc],imports:[[N,nc,Nc,Du,hr,Ki,Ca],ni]}),t})(),Bc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Ca],Ca]}),t})(),zc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})(),qc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[N,Ca,zc,Ki]]}),t})(),Hc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Ha,Ca],Ha,Ca]}),t})(),Yc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Ha,Ja,Ca,tu,N],Ha,Ca,tu,Bc]}),t})();const $c={provide:new r.s("mat-menu-scroll-strategy"),deps:[ku],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Wc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[$c],imports:[Ca]}),t})(),Gc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[$c],imports:[[N,Ca,Ja,Du,Wc],ni,Ca,Wc]}),t})();const Kc={provide:new r.s("mat-select-scroll-strategy"),deps:[ku],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Qc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[Kc],imports:[[N,Du,eu,Ca],ni,ju,eu,Ca]}),t})();const Zc={provide:new r.s("mat-tooltip-scroll-strategy"),deps:[ku],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}};let Xc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[Zc],imports:[[hr,N,Du,Ca],Ca,ni]}),t})(),Jc=(()=>{class t{constructor(){this.changes=new On.a,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,e,n)=>{if(0==n||0==e)return`0 of ${n}`;const r=t*e;return`${r+1} \u2013 ${r<(n=Math.max(n,0))?Math.min(r+e,n):r+e} of ${n}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const tl={provide:Jc,deps:[[new r.C,new r.L,Jc]],useFactory:function(t){return t||new Jc}};let el=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[tl],imports:[[N,nc,Qc,Xc,Ca]]}),t})(),nl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[N,Ca],Ca]}),t})(),rl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Ca,N],Ca]}),t})(),il=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Ja,Ca],Ca]}),t})(),sl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[N,Ca,Hn,ni],ni,Ca]}),t})(),ol=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[N,Ca],Ca]}),t})(),al=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})(),ul=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[al,Ja,Ca,Kn],al,Ca]}),t})();function cl(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",1),r.Ub(1,"button",2),r.bc("click",function(){return r.sc(t),r.fc().action()}),r.zc(2),r.Tb(),r.Tb()}if(2&t){const t=r.fc();r.Db(2),r.Ac(t.data.action)}}function ll(t,e){}const hl=new r.s("MatSnackBarData");class dl{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const fl=Math.pow(2,31)-1;class pl{constructor(t,e){this._overlayRef=e,this._afterDismissed=new On.a,this._afterOpened=new On.a,this._onAction=new On.a,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,fl))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let gl=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(pl),r.Ob(hl))},t.\u0275cmp=r.Ib({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"span"),r.zc(1),r.Tb(),r.yc(2,cl,3,1,"div",0)),2&t&&(r.Db(1),r.Ac(e.data.message),r.Db(1),r.kc("ngIf",e.hasAction))},directives:[j,ec],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const ml={snackBarState:ns("state",[os("void, hidden",ss({transform:"scale(0.8)",opacity:0})),os("visible",ss({transform:"scale(1)",opacity:1})),as("* => visible",rs("150ms cubic-bezier(0, 0, 0.2, 1)")),as("* => void, * => hidden",rs("75ms cubic-bezier(0.4, 0.0, 1, 1)",ss({opacity:0})))])};let yl=(()=>{class t extends $i{constructor(t,e,n,r,i){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this._platform=r,this.snackBarConfig=i,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new On.a,this._onExit=new On.a,this._onEnter=new On.a,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._live="assertive"!==i.politeness||i.announcementMessage?"off"===i.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(jn(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),e=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&e){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(n=document.activeElement),t.removeAttribute("aria-hidden"),e.appendChild(t),null==n||n.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.B),r.Ob(r.l),r.Ob(r.h),r.Ob(qn),r.Ob(dl))},t.\u0275cmp=r.Ib({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){if(1&t&&r.Dc(Gi,3),2&t){let t;r.pc(t=r.cc())&&(e._portalOutlet=t.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,e){1&t&&r.wc("@state.done",function(t){return e.onAnimationEnd(t)}),2&t&&r.xc("@state",e._animationState)},features:[r.Ab],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.yc(1,ll,0,0,"ng-template",1),r.Tb(),r.Pb(2,"div")),2&t&&(r.Db(2),r.Eb("aria-live",e._live)("role",e._role))},directives:[Gi],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[ml.snackBarState]}}),t})(),bl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Du,Ki,N,nc,Ca],Ca]}),t})();const vl=new r.s("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new dl}});let _l=(()=>{class t{constructor(t,e,n,r,i,s){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=r,this._parentSnackBar=i,this._defaultConfig=s,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=gl,this.snackBarContainerComponent=yl,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const r=Object.assign(Object.assign({},this._defaultConfig),n);return r.data={message:t,action:e},r.announcementMessage===t&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=r.t.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:dl,useValue:e}]}),i=new qi(this.snackBarContainerComponent,e.viewContainerRef,n),s=t.attach(i);return s.instance.snackBarConfig=e,s.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new dl),this._defaultConfig),e),i=this._createOverlay(n),s=this._attachSnackBarContainer(i,n),o=new pl(s,i);if(t instanceof r.N){const e=new Hi(t,null,{$implicit:n.data,snackBarRef:o});o.instance=s.attachTemplatePortal(e)}else{const e=this._createInjector(n,o),r=new qi(t,void 0,e),i=s.attachComponentPortal(r);o.instance=i.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Dr(i.detachments())).subscribe(t=>{const e=i.overlayElement.classList;t.matches?e.add(this.handsetCssClass):e.remove(this.handsetCssClass)}),n.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(o,n),this._openedSnackBarRef=o,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration))}_createOverlay(t){const e=new hu;e.direction=t.direction;let n=this._overlay.position().global();const r="rtl"===t.direction,i="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!r||"end"===t.horizontalPosition&&r,s=!i&&"center"!==t.horizontalPosition;return i?n.left("0"):s?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return r.t.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:pl,useValue:e},{provide:hl,useValue:t.data}]})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(ku),r.Yb(rr),r.Yb(r.t),r.Yb(Wu),r.Yb(t,12),r.Yb(vl))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(ku),Object(r.Yb)(rr),Object(r.Yb)(r.p),Object(r.Yb)(Wu),Object(r.Yb)(t,12),Object(r.Yb)(vl))},token:t,providedIn:bl}),t})(),wl=(()=>{class t{constructor(){this.changes=new On.a,this.sortButtonLabel=t=>`Change sorting for ${t}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const El={provide:wl,deps:[[new r.C,new r.L,wl]],useFactory:function(t){return t||new wl}};let Ol=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[El],imports:[[N,Ca]]}),t})(),Sl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Xi,Ca],Ca]}),t})(),Tl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[N,Ca,Ki,Ja,Kn,hr],Ca]}),t})(),Cl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Ca],Ca]}),t})(),xl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[Ji,Ca],Ca]}),t})(),Il=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[hr,Qi,Xi,Ji,Bi,Ru,Nu,Ku,nc,rc,ic,oc,cc,vc,Uc,Nc,Bc,qc,Hc,mc,Fc,Yc,Gc,za,el,nl,rl,il,Ja,Qc,sl,ol,ul,bl,Ol,Sl,Tl,Cl,Xc,xl,Ki,ri]}),t})();var kl=n("spgP");function Al(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Dl(t,e,n))}}class Dl{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new jl(t,this.accumulator,this.seed,this.hasSeed))}}class jl extends Ue.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}var Pl=n("Jgta"),Rl=n("30Go"),Nl=n("zIRd"),Ll=n("q/0M"),Fl=n("qOnz"),Ml=function(t,e){return(Ml=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Vl(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ul,Bl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},zl=zl||{},ql=Bl||self;function Hl(){}function Yl(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function $l(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Wl="closure_uid_"+(1e9*Math.random()>>>0),Gl=0;function Kl(t,e,n){return t.call.apply(t.bind,arguments)}function Ql(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Zl(t,e,n){return(Zl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Kl:Ql).apply(null,arguments)}function Xl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Jl(){return Date.now()}function th(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function eh(){this.j=this.j,this.i=this.i}eh.prototype.j=!1,eh.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Wl)&&t[Wl]||(t[Wl]=++Gl)}(this)},eh.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var nh=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},rh=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function ih(t){return Array.prototype.concat.apply([],arguments)}function sh(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function oh(t){return/^[\s\xa0]*$/.test(t)}var ah,uh=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ch(t,e){return-1!=t.indexOf(e)}function lh(t,e){return t<e?-1:t>e?1:0}t:{var hh=ql.navigator;if(hh){var dh=hh.userAgent;if(dh){ah=dh;break t}}ah=""}function fh(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ph(t){var e={};for(var n in t)e[n]=t[n];return e}var gh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mh(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<gh.length;s++)n=gh[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yh(t){return yh[" "](t),t}yh[" "]=Hl;var bh,vh,_h=ch(ah,"Opera"),wh=ch(ah,"Trident")||ch(ah,"MSIE"),Eh=ch(ah,"Edge"),Oh=Eh||wh,Sh=ch(ah,"Gecko")&&!(ch(ah.toLowerCase(),"webkit")&&!ch(ah,"Edge"))&&!(ch(ah,"Trident")||ch(ah,"MSIE"))&&!ch(ah,"Edge"),Th=ch(ah.toLowerCase(),"webkit")&&!ch(ah,"Edge");function Ch(){var t=ql.document;return t?t.documentMode:void 0}t:{var xh="",Ih=(vh=ah,Sh?/rv:([^\);]+)(\)|;)/.exec(vh):Eh?/Edge\/([\d\.]+)/.exec(vh):wh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(vh):Th?/WebKit\/(\S+)/.exec(vh):_h?/(?:Version)[ \/]?(\S+)/.exec(vh):void 0);if(Ih&&(xh=Ih?Ih[1]:""),wh){var kh=Ch();if(null!=kh&&kh>parseFloat(xh)){bh=String(kh);break t}}bh=xh}var Ah={};function Dh(t){return function(t,e){var n=Ah;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=uh(String(bh)).split("."),r=uh(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=lh(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||lh(0==o[2].length,0==a[2].length)||lh(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var jh=ql.document&&wh&&(Ch()||parseInt(bh,10))||void 0,Ph=!wh||9<=Number(jh),Rh=wh&&!Dh("9"),Nh=function(){if(!ql.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ql.addEventListener("test",Hl,e),ql.removeEventListener("test",Hl,e)}catch(n){}return t}();function Lh(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Fh(t,e){if(Lh.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Sh){t:{try{yh(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Mh[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Lh.prototype.b=function(){this.defaultPrevented=!0},th(Fh,Lh);var Mh={2:"touch",3:"pen",4:"mouse"};Fh.prototype.b=function(){Fh.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Rh)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Vh="closure_listenable_"+(1e6*Math.random()|0),Uh=0;function Bh(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Uh,this.Y=this.Z=!1}function zh(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function qh(t){this.src=t,this.a={},this.b=0}function Hh(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=nh(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(zh(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Yh(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}qh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Yh(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new Bh(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var $h="closure_lm_"+(1e6*Math.random()|0),Wh={};function Gh(t,e,n,r,i){if(r&&r.once)return Qh(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Gh(t,e[s],n,r,i);return null}return n=id(n),t&&t[Vh]?t.va(e,n,$l(r)?!!r.capture:!!r,i):Kh(t,e,n,!1,r,i)}function Kh(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=$l(i)?!!i.capture:!!i;if(o&&!Ph)return null;var a=nd(t);if(a||(t[$h]=a=new qh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=ed,e=Ph?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Nh||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Jh(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Qh(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Qh(t,e[s],n,r,i);return null}return n=id(n),t&&t[Vh]?t.wa(e,n,$l(r)?!!r.capture:!!r,i):Kh(t,e,n,!0,r,i)}function Zh(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Zh(t,e[s],n,r,i);else r=$l(r)?!!r.capture:!!r,n=id(n),t&&t[Vh]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Yh(s=t.a[e],n,r,i))&&(zh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=nd(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Yh(e,n,r,i)),(n=-1<t?e[t]:null)&&Xh(n))}function Xh(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Vh])Hh(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Jh(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=nd(e))?(Hh(n,t),0==n.b&&(n.src=null,e[$h]=null)):zh(t)}}}function Jh(t){return t in Wh?Wh[t]:Wh[t]="on"+t}function td(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Xh(t),n.call(r,e)}function ed(t,e){if(t.Y)return!0;if(!Ph){if(!e)t:{e=["window","event"];for(var n=ql,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return td(t,e=new Fh(e,this))}return td(t,new Fh(e,this))}function nd(t){return(t=t[$h])instanceof qh?t:null}var rd="__closure_events_fn_"+(1e9*Math.random()>>>0);function id(t){return"function"==typeof t?t:(t[rd]||(t[rd]=function(e){return t.handleEvent(e)}),t[rd])}function sd(){eh.call(this),this.c=new qh(this),this.J=this,this.C=null}function od(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Lh(e,t);else if(e instanceof Lh)e.target=e.target||t;else{var i=e;mh(e=new Lh(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=ad(o,r,!0,e)&&i}if(i=ad(o=e.a=t,r,!0,e)&&i,i=ad(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=ad(o=e.a=n[s],r,!1,e)&&i}function ad(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&Hh(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}th(sd,eh),sd.prototype[Vh]=!0,(Ul=sd.prototype).addEventListener=function(t,e,n,r){Gh(this,t,e,n,r)},Ul.removeEventListener=function(t,e,n,r){Zh(this,t,e,n,r)},Ul.G=function(){if(sd.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)zh(n[r]);delete e.a[t],e.b--}}this.C=null},Ul.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ul.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var ud=ql.JSON.stringify;function cd(){this.b=this.a=null}var ld,hd=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new fd},function(t){t.reset()});function dd(){var t=yd,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function fd(){this.next=this.b=this.a=null}function pd(t){ql.setTimeout(function(){throw t},0)}function gd(t,e){ld||function(){var t=ql.Promise.resolve(void 0);ld=function(){t.then(bd)}}(),md||(ld(),md=!0),yd.add(t,e)}cd.prototype.add=function(t,e){var n=hd.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},fd.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},fd.prototype.reset=function(){this.next=this.b=this.a=null};var md=!1,yd=new cd;function bd(){for(var t;t=dd();){try{t.a.call(t.b)}catch(n){pd(n)}var e=hd;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}md=!1}function vd(t,e){sd.call(this),this.b=t||1,this.a=e||ql,this.f=Zl(this.Za,this),this.g=Jl()}function _d(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function wd(t,e,n){if("function"==typeof t)n&&(t=Zl(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Zl(t.handleEvent,t)}return 2147483647<Number(e)?-1:ql.setTimeout(t,e||0)}function Ed(t){t.a=wd(function(){t.a=null,t.c&&(t.c=!1,Ed(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}th(vd,sd),(Ul=vd.prototype).aa=!1,Ul.M=null,Ul.Za=function(){if(this.aa){var t=Jl()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),od(this,"tick"),this.aa&&(_d(this),this.start()))}},Ul.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Jl())},Ul.G=function(){vd.X.G.call(this),_d(this),delete this.a};var Od=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ml(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ed(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ql.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(eh);function Sd(t){eh.call(this),this.b=t,this.a={}}th(Sd,eh);var Td=[];function Cd(t,e,n,r){Array.isArray(n)||(n&&(Td[0]=n.toString()),n=Td);for(var i=0;i<n.length;i++){var s=Gh(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function xd(t){fh(t.a,function(t,e){this.a.hasOwnProperty(e)&&Xh(t)},t),t.a={}}function Id(){this.a=!0}function kd(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ud(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Sd.prototype.G=function(){Sd.X.G.call(this),xd(this)},Sd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Id.prototype.info=function(){};var Ad={},Dd=null;function jd(){return Dd=Dd||new sd}function Pd(t){Lh.call(this,Ad.Fa,t)}function Rd(t){var e=jd();od(e,new Pd(e,t))}function Nd(t,e){Lh.call(this,Ad.STAT_EVENT,t),this.stat=e}function Ld(t){var e=jd();od(e,new Nd(e,t))}function Fd(t){Lh.call(this,Ad.Ga,t)}function Md(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ql.setTimeout(function(){t()},e)}Ad.Fa="serverreachability",th(Pd,Lh),Ad.STAT_EVENT="statevent",th(Nd,Lh),Ad.Ga="timingevent",th(Fd,Lh);var Vd={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ud={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Bd(){}function zd(){}Bd.prototype.a=null;var qd,Hd={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Yd(){Lh.call(this,"d")}function $d(){Lh.call(this,"c")}function Wd(){}function Gd(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Sd(this),this.P=Kd,this.R=new vd(t=Oh?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}th(Yd,Lh),th($d,Lh),th(Wd,Bd),qd=new Wd;var Kd=45e3,Qd={},Zd={};function Xd(t,e,n){t.H=1,t.i=wf(gf(e)),t.j=n,t.I=!0,Jd(t,null)}function Jd(t,e){t.u=Jl(),nf(t),t.l=gf(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Rf(n.b,"t",r),t.D=0,t.a=Ip(t.g,t.g.C?e:null),0<t.O&&(t.F=new Od(Zl(t.Ca,t,t.a),t.O)),Cd(t.J,t.a,"readystatechange",t.Xa),e=t.B?ph(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Rd(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function tf(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ef(t,n);if(i==Zd){4==e&&(t.h=4,Ld(14),r=!1),kd(t.c,t.f,null,"[Incomplete Response]");break}if(i==Qd){t.h=4,Ld(15),kd(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}kd(t.c,t.f,i,null),uf(t,i)}4==e&&0==n.length&&(t.h=1,Ld(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),_p(e),e.F=!0,Ld(11))):(kd(t.c,t.f,n,"[Invalid Chunked Response]"),af(t),of(t))}function ef(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Zd:(n=Number(e.substring(n,r)),isNaN(n)?Qd:(r+=1)+n>e.length?Zd:(e=e.substr(r,n),t.D=r+n,e))}function nf(t){t.T=Jl()+t.P,rf(t,t.P)}function rf(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Md(Zl(t.Va,t),e)}function sf(t){t.o&&(ql.clearTimeout(t.o),t.o=null)}function of(t){0==t.g.v||t.A||Op(t.g,t)}function af(t){sf(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,_d(t.R),xd(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function uf(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Bf(n.b,t)))if(n.I=t.N,!t.C&&Bf(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(mS){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Ep(n),hp(n)}vp(n),Ld(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Md(Zl(n.Sa,n),6e3));if(1>=Uf(n.b)&&n.ea){try{n.ea()}catch(mS){}n.ea=void 0}}else Tp(n,11)}else if((t.C||n.a==t)&&Ep(n),!oh(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(ch(l,"spdy")||ch(l,"quic")||ch(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(zf(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,_f(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Jl()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=xp(u,u.C?u.ga:null,u.fa),f.C){qf(u.b,f);var p=f,g=u.D;g&&p.setTimeout(g),p.o&&(sf(p),nf(p)),u.a=f}else bp(u);0<n.g.length&&pp(n)}else"stop"!=i[0]&&"close"!=i[0]||Tp(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Tp(n,7):lp(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Rd(4)}catch(mS){}}function cf(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Yl(t)||"string"==typeof t)rh(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Yl(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Yl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function lf(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof lf)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function hf(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];df(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)df(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function df(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ul=Gd.prototype).setTimeout=function(t){this.P=t},Ul.Xa=function(t){t=t.target;var e=this.F;e&&3==op(t)?e.f():this.Ca(t)},Ul.Ca=function(t){try{if(t==this.a)t:{var e=op(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Oh&&!this.a.$())){this.A||4!=e||7==n||Rd(8==n||0>=r?3:2),sf(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!oh(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,Ld(12),af(this),of(this);break t}kd(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,uf(this,u)}this.I?(tf(this,e,s),Oh&&this.b&&3==e&&(Cd(this.J,this.R,"tick",this.Wa),this.R.start())):(kd(this.c,this.f,s,null),uf(this,s)),4==e&&af(this),this.b&&!this.A&&(4==e?Op(this.g,this):(this.b=!1,nf(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Ld(12)):(this.h=0,Ld(13)),af(this),of(this)}}}catch(c){}},Ul.Wa=function(){if(this.a){var t=op(this.a),e=this.a.$();this.D<e.length&&(sf(this),tf(this,t,e),this.b&&4!=t&&nf(this))}},Ul.cancel=function(){this.A=!0,af(this)},Ul.Va=function(){this.o=null;var t=Jl();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Rd(3),Ld(17)),af(this),this.h=2,of(this)):rf(this,this.T-t)},(Ul=lf.prototype).K=function(){hf(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ul.L=function(){return hf(this),this.a.concat()},Ul.get=function(t,e){return df(this.b,t)?this.b[t]:e},Ul.set=function(t,e){df(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ul.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var ff=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pf(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof pf){this.a=void 0!==e?e:t.a,mf(this,t.f),this.j=t.j,yf(this,t.c),bf(this,t.h),this.g=t.g,e=t.b;var n=new Af;n.c=e.c,e.a&&(n.a=new lf(e.a),n.b=e.b),vf(this,n),this.i=t.i}else t&&(n=String(t).match(ff))?(this.a=!!e,mf(this,n[1]||"",!0),this.j=Ef(n[2]||""),yf(this,n[3]||"",!0),bf(this,n[4]),this.g=Ef(n[5]||"",!0),vf(this,n[6]||"",!0),this.i=Ef(n[7]||"")):(this.a=!!e,this.b=new Af(null,this.a))}function gf(t){return new pf(t)}function mf(t,e,n){t.f=n?Ef(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function yf(t,e,n){t.c=n?Ef(e,!0):e}function bf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function vf(t,e,n){e instanceof Af?(t.b=e,function(t,e){e&&!t.f&&(Df(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(jf(this,e),Rf(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Of(e,If)),t.b=new Af(e,t.a))}function _f(t,e,n){t.b.set(e,n)}function wf(t){return _f(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Jl()).toString(36)),t}function Ef(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Of(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Sf),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Sf(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}pf.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Of(e,Tf,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Of(e,Tf,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Of(n,"/"==n.charAt(0)?xf:Cf,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Of(n,kf)),t.join("")};var Tf=/[#\/\?@]/g,Cf=/[#\?:]/g,xf=/[#\?]/g,If=/[#\?@]/g,kf=/#/g;function Af(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Df(t){t.a||(t.a=new lf,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function jf(t,e){Df(t),e=Nf(t,e),df(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,df((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&hf(t)))}function Pf(t,e){return Df(t),e=Nf(t,e),df(t.a.b,e)}function Rf(t,e,n){jf(t,e),0<n.length&&(t.c=null,t.a.set(Nf(t,e),sh(n)),t.b+=n.length)}function Nf(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ul=Af.prototype).add=function(t,e){Df(this),this.c=null,t=Nf(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ul.forEach=function(t,e){Df(this),this.a.forEach(function(n,r){rh(n,function(n){t.call(e,n,r,this)},this)},this)},Ul.L=function(){Df(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Ul.K=function(t){Df(this);var e=[];if("string"==typeof t)Pf(this,t)&&(e=ih(e,this.a.get(Nf(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=ih(e,t[n])}return e},Ul.set=function(t,e){return Df(this),this.c=null,Pf(this,t=Nf(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ul.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ul.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Lf=function(){return function(t,e){this.b=t,this.a=e}}();function Ff(t){this.g=t||Mf,t=ql.PerformanceNavigationTiming?0<(t=ql.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ql.ia&&ql.ia.ya&&ql.ia.ya()&&ql.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Mf=10;function Vf(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Uf(t){return t.b?1:t.a?t.a.size:0}function Bf(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function zf(t,e){t.a?t.a.add(e):t.b=e}function qf(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Hf(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Vl(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return sh(t.c)}function Yf(){}function $f(){this.a=new Yf}function Wf(t,e,n){var r=n||"";try{cf(t,function(t,n){var i=t;$l(t)&&(i=ud(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Gf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Ff.prototype.cancel=function(){var t,e;if(this.c=Hf(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Vl(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Yf.prototype.stringify=function(t){return ql.JSON.stringify(t,void 0)},Yf.prototype.parse=function(t){return ql.JSON.parse(t,void 0)};var Kf=ql.JSON.parse;function Qf(t){sd.call(this),this.headers=new lf,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Zf,this.D=this.F=!1}th(Qf,sd);var Zf="",Xf=/^https?$/i,Jf=["POST","PUT"];function tp(t){return"content-type"==t.toLowerCase()}function ep(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,np(t),ip(t)}function np(t){t.u||(t.u=!0,od(t,"complete"),od(t,"error"))}function rp(t){if(t.b&&void 0!==zl&&(!t.s[1]||4!=op(t)||2!=t.W()))if(t.l&&4==op(t))wd(t.za,0,t);else if(od(t,"readystatechange"),4==op(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(ff)[1]||null;if(!s&&ql.self&&ql.self.location){var o=ql.self.location.protocol;s=o.substr(0,o.length-1)}i=!Xf.test(s?s.toLowerCase():"")}e=i}if(e)od(t,"complete"),od(t,"success");else{t.h=6;try{var a=2<op(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",np(t)}}finally{ip(t)}}}function ip(t,e){if(t.a){sp(t);var n=t.a,r=t.s[0]?Hl:null;t.a=null,t.s=null,e||od(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function sp(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ql.clearTimeout(t.m),t.m=null)}function op(t){return t.a?t.a.readyState:0}function ap(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return fh(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):_f(t,e,n))}function up(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function cp(t){this.pa=0,this.g=[],this.c=new Id,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=up("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=up("baseRetryDelayMs",5e3,t),this.Ra=up("retryDelaySeedMs",1e4,t),this.Ma=up("forwardChannelMaxRetries",2,t),this.ma=up("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ff(t&&t.concurrentRequestLimit),this.ka=new $f,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function lp(t){if(dp(t),3==t.v){var e=t.R++,n=gf(t.B);_f(n,"SID",t.J),_f(n,"RID",e),_f(n,"TYPE","terminate"),mp(t,n),(e=new Gd(t,t.c,e,void 0)).H=2,e.i=wf(gf(n)),n=!1,ql.navigator&&ql.navigator.sendBeacon&&(n=ql.navigator.sendBeacon(e.i.toString(),"")),!n&&ql.Image&&((new Image).src=e.i,n=!0),n||(e.a=Ip(e.g,null),e.a.ba(e.i)),e.u=Jl(),nf(e)}Cp(t)}function hp(t){t.a&&(_p(t),t.a.cancel(),t.a=null)}function dp(t){hp(t),t.j&&(ql.clearTimeout(t.j),t.j=null),Ep(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ql.clearTimeout(t.h),t.h=null)}function fp(t,e){t.g.push(new Lf(t.Oa++,e)),3==t.v&&pp(t)}function pp(t){Vf(t.b)||t.h||(t.h=!0,gd(t.Ba,t),t.u=0)}function gp(t,e){var n;n=e?e.f:t.R++;var r=gf(t.B);_f(r,"SID",t.J),_f(r,"RID",n),_f(r,"AID",t.P),mp(t,r),t.i&&t.l&&ap(r,t.i,t.l),n=new Gd(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=yp(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),zf(t.b,n),Xd(n,r,e)}function mp(t,e){t.f&&cf({},function(t,n){_f(e,n,t)})}function yp(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Zl(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{Wf(l,o,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function bp(t){t.a||t.j||(t.T=1,gd(t.Aa,t),t.o=0)}function vp(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Md(Zl(t.Aa,t),Sp(t,t.o)),t.o++,0))}function _p(t){null!=t.s&&(ql.clearTimeout(t.s),t.s=null)}function wp(t){t.a=new Gd(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=gf(t.la);_f(e,"RID","rpc"),_f(e,"SID",t.J),_f(e,"CI",t.H?"0":"1"),_f(e,"AID",t.P),mp(t,e),_f(e,"TYPE","xmlhttp"),t.i&&t.l&&ap(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=wf(gf(e)),n.j=null,n.I=!0,Jd(n,t)}function Ep(t){null!=t.m&&(ql.clearTimeout(t.m),t.m=null)}function Op(t,e){var n=null;if(t.a==e){Ep(t),_p(t),t.a=null;var r=2}else{if(!Bf(t.b,e))return;n=e.s,qf(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Jl()-e.u;var i=t.u;od(r=jd(),new Fd(r,n,e,i)),pp(t)}else bp(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Uf(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Md(Zl(t.Ba,t,e),Sp(t,t.u)),t.u++,0)))}(t,e)||2==r&&vp(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Tp(t,5);break;case 4:Tp(t,10);break;case 3:Tp(t,6);break;default:Tp(t,2)}}function Sp(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Tp(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Zl(t.Ya,t);n||(n=new pf("//www.google.com/images/cleardot.gif"),ql.location&&"http"==ql.location.protocol||mf(n,"https"),wf(n)),function(t,e){var n=new Id;if(ql.Image){var r=new Image;r.onload=Xl(Gf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Xl(Gf,n,r,"TestLoadImage: error",!1,e),r.onabort=Xl(Gf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Xl(Gf,n,r,"TestLoadImage: timeout",!1,e),ql.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ld(2);t.v=0,t.f&&t.f.ra(e),Cp(t),dp(t)}function Cp(t){t.v=0,t.I=-1,t.f&&(0==Hf(t.b).length&&0==t.g.length||(t.b.c.length=0,sh(t.g),t.g.length=0),t.f.qa())}function xp(t,e,n){var r=function(t){return t instanceof pf?gf(t):new pf(t,void 0)}(n);if(""!=r.c)e&&yf(r,e+"."+r.c),bf(r,r.h);else{var i=ql.location;r=function(t,e,n,r){var i=new pf(null,void 0);return t&&mf(i,t),e&&yf(i,e),n&&bf(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&fh(t.V,function(t,e){_f(r,e,t)}),n=t.na,(e=t.A)&&n&&_f(r,e,n),_f(r,"VER",t.ha),mp(t,r),r}function Ip(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qf(t.Na)).F=t.C,e}function kp(){}function Ap(){if(wh&&!(10<=Number(jh)))throw Error("Environmental error: no available transport.")}function Dp(t,e){sd.call(this),this.a=new cp(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!oh(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!oh(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Rp(this)}function jp(t){Yd.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Pp(){$d.call(this),this.status=1}function Rp(t){this.a=t}(Ul=Qf.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:qd),this.a.onreadystatechange=Zl(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void ep(this,s)}t=n||"";var i=new lf(this.headers);r&&cf(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=tp,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ql.FormData&&t instanceof ql.FormData,!(0<=nh(Jf,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{sp(this),0<this.o&&((this.D=function(t){return wh&&Dh(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Zl(this.xa,this)):this.m=wd(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){ep(this,s)}},Ul.xa=function(){void 0!==zl&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,od(this,"timeout"),this.abort(8))},Ul.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,od(this,"complete"),od(this,"abort"),ip(this))},Ul.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ip(this,!0)),Qf.X.G.call(this)},Ul.za=function(){this.j||(this.A||this.l||this.g?rp(this):this.Ua())},Ul.Ua=function(){rp(this)},Ul.W=function(){try{return 2<op(this)?this.a.status:-1}catch(vh){return-1}},Ul.$=function(){try{return this.a?this.a.responseText:""}catch(vh){return""}},Ul.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Kf(e)}},Ul.ua=function(){return this.h},Ul.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ul=cp.prototype).ha=8,Ul.v=1,Ul.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Gd(this,this.c,t,void 0),r=this.l;if(this.O&&(r?mh(r=ph(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=yp(this,n,e),_f(i=gf(this.B),"RID",t),_f(i,"CVER",22),this.A&&_f(i,"X-HTTP-Session-Id",this.A),mp(this,i),this.i&&r&&ap(i,this.i,r),zf(this.b,n),this.Ia&&_f(i,"TYPE","init"),this.da?(_f(i,"$req",e),_f(i,"SID","null"),n.U=!0,Xd(n,i,null)):Xd(n,i,e),this.v=2}}else 3==this.v&&(t?gp(this,t):0==this.g.length||Vf(this.b)||gp(this))},Ul.Aa=function(){if(this.j=null,wp(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Md(Zl(this.Ta,this),t)}},Ul.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ld(10),hp(this),wp(this))},Ul.Sa=function(){null!=this.m&&(this.m=null,hp(this),vp(this),Ld(19))},Ul.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ld(2)):(this.c.info("Failed to ping google.com"),Ld(1))},(Ul=kp.prototype).ta=function(){},Ul.sa=function(){},Ul.ra=function(){},Ul.qa=function(){},Ul.Ja=function(){},Ap.prototype.a=function(t,e){return new Dp(t,e)},th(Dp,sd),Dp.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ld(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=xp(t,null,t.fa),pp(t)},Dp.prototype.close=function(){lp(this.a)},Dp.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,fp(this.a,e)}else this.l?((e={}).__data__=ud(t),fp(this.a,e)):fp(this.a,t)},Dp.prototype.G=function(){this.a.f=null,delete this.f,lp(this.a),delete this.a,Dp.X.G.call(this)},th(jp,Yd),th(Pp,$d),th(Rp,kp),Rp.prototype.ta=function(){od(this.a,"a")},Rp.prototype.sa=function(t){od(this.a,new jp(t))},Rp.prototype.ra=function(t){od(this.a,new Pp(t))},Rp.prototype.qa=function(){od(this.a,"b")},Ap.prototype.createWebChannel=Ap.prototype.a,Dp.prototype.send=Dp.prototype.h,Dp.prototype.open=Dp.prototype.g,Dp.prototype.close=Dp.prototype.close,Vd.NO_ERROR=0,Vd.TIMEOUT=8,Vd.HTTP_ERROR=6,Ud.COMPLETE="complete",zd.EventType=Hd,Hd.OPEN="a",Hd.CLOSE="b",Hd.ERROR="c",Hd.MESSAGE="d",sd.prototype.listen=sd.prototype.va,Qf.prototype.listenOnce=Qf.prototype.wa,Qf.prototype.getLastError=Qf.prototype.Qa,Qf.prototype.getLastErrorCode=Qf.prototype.ua,Qf.prototype.getStatus=Qf.prototype.W,Qf.prototype.getResponseJson=Qf.prototype.Pa,Qf.prototype.getResponseText=Qf.prototype.$,Qf.prototype.send=Qf.prototype.ba;var Np=Vd,Lp=Ud,Fp=Ad,Mp=zd,Vp=Qf,Up=n("/6Yf"),Bp=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},zp=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),qp=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();qp.UNAUTHENTICATED=new qp(null),qp.l=new qp("google-credentials-uid"),qp._=new qp("first-party-uid");var Hp=new Ll.b("@firebase/firestore");function Yp(){return Hp.logLevel}function $p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Hp.logLevel<=Ll.a.DEBUG){var r=e.map(Kp);Hp.debug.apply(Hp,Object(Rl.g)(["Firestore (8.1.2): "+t],r))}}function Wp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Hp.logLevel<=Ll.a.ERROR){var r=e.map(Kp);Hp.error.apply(Hp,Object(Rl.g)(["Firestore (8.1.2): "+t],r))}}function Gp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Hp.logLevel<=Ll.a.WARN){var r=e.map(Kp);Hp.warn.apply(Hp,Object(Rl.g)(["Firestore (8.1.2): "+t],r))}}function Kp(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Qp(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.2) INTERNAL ASSERTION FAILED: "+t;throw Wp(e),new Error(e)}function Zp(t,e){t||Qp()}function Xp(t,e){return t}var Jp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},tg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Rl.c)(e,t),e}(Error),eg=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},ng=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(qp.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),rg=function(){function t(t){var e=this;this.P=null,this.currentUser=qp.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then(function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.V!==e?($p("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Zp("string"==typeof n.accessToken),new eg(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return Zp(null===t||"string"==typeof t),new qp(t)},t}(),ig=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=qp._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),sg=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new ig(this.v,this.S))},t.prototype.A=function(t){t(qp._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function og(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ag=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=og(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ug(t,e){return t<e?-1:t>e?1:0}function cg(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function lg(t){return t+"\0"}var hg=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new tg(Jp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new tg(Jp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new tg(Jp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new tg(Jp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?ug(this.nanoseconds,t.nanoseconds):ug(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),dg=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new hg(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),fg=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Qp(),void 0===n?n=t.length-e:n>t.length-e&&Qp(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),pg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rl.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new tg(Jp.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.X=function(){return new e([])},e}(fg),gg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,mg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rl.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return gg.test(t)},e.prototype.J=function(){return this.H().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.Z(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new tg(Jp.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new tg(Jp.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new tg(Jp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new tg(Jp.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(fg),yg=function(){function t(t){this.path=t}return t.st=function(e){return new t(pg.Y(e))},t.it=function(e){return new t(pg.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===pg.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return pg.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new pg(e.slice()))},t}();function bg(t){return null==t}function vg(t){return 0===t&&1/t==-1/0}function _g(t){return"number"==typeof t&&Number.isInteger(t)&&!vg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var wg=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ut=null};function Eg(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new wg(t,e,n,r,i,s,o)}function Og(t){var e=Xp(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.J()+t.op.toString()+bm(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.J()+t.dir}(t)}).join(","),bg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=_b(e.startAt)),e.endAt&&(n+="|ub:",n+=_b(e.endAt)),e.ut=n}return e.ut}function Sg(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Tb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!pm(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Eb(t.startAt,e.startAt)&&Eb(t.endAt,e.endAt)}function Tg(t){return yg.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Cg=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return ug(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();Cg.lt=new Cg("");var xg,Ig,kg=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=dg.min()),void 0===s&&(s=dg.min()),void 0===o&&(o=Cg.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),Ag=function(t){this.count=t};function Dg(t){switch(t){case Jp.OK:return Qp();case Jp.CANCELLED:case Jp.UNKNOWN:case Jp.DEADLINE_EXCEEDED:case Jp.RESOURCE_EXHAUSTED:case Jp.INTERNAL:case Jp.UNAVAILABLE:case Jp.UNAUTHENTICATED:return!1;case Jp.INVALID_ARGUMENT:case Jp.NOT_FOUND:case Jp.ALREADY_EXISTS:case Jp.PERMISSION_DENIED:case Jp.FAILED_PRECONDITION:case Jp.ABORTED:case Jp.OUT_OF_RANGE:case Jp.UNIMPLEMENTED:case Jp.DATA_LOSS:return!0;default:return Qp()}}function jg(t){if(void 0===t)return Wp("GRPC error has no .code"),Jp.UNKNOWN;switch(t){case xg.OK:return Jp.OK;case xg.CANCELLED:return Jp.CANCELLED;case xg.UNKNOWN:return Jp.UNKNOWN;case xg.DEADLINE_EXCEEDED:return Jp.DEADLINE_EXCEEDED;case xg.RESOURCE_EXHAUSTED:return Jp.RESOURCE_EXHAUSTED;case xg.INTERNAL:return Jp.INTERNAL;case xg.UNAVAILABLE:return Jp.UNAVAILABLE;case xg.UNAUTHENTICATED:return Jp.UNAUTHENTICATED;case xg.INVALID_ARGUMENT:return Jp.INVALID_ARGUMENT;case xg.NOT_FOUND:return Jp.NOT_FOUND;case xg.ALREADY_EXISTS:return Jp.ALREADY_EXISTS;case xg.PERMISSION_DENIED:return Jp.PERMISSION_DENIED;case xg.FAILED_PRECONDITION:return Jp.FAILED_PRECONDITION;case xg.ABORTED:return Jp.ABORTED;case xg.OUT_OF_RANGE:return Jp.OUT_OF_RANGE;case xg.UNIMPLEMENTED:return Jp.UNIMPLEMENTED;case xg.DATA_LOSS:return Jp.DATA_LOSS;default:return Qp()}}(Ig=xg||(xg={}))[Ig.OK=0]="OK",Ig[Ig.CANCELLED=1]="CANCELLED",Ig[Ig.UNKNOWN=2]="UNKNOWN",Ig[Ig.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ig[Ig.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ig[Ig.NOT_FOUND=5]="NOT_FOUND",Ig[Ig.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ig[Ig.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ig[Ig.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ig[Ig.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ig[Ig.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ig[Ig.ABORTED=10]="ABORTED",Ig[Ig.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ig[Ig.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ig[Ig.INTERNAL=13]="INTERNAL",Ig[Ig.UNAVAILABLE=14]="UNAVAILABLE",Ig[Ig.DATA_LOSS=15]="DATA_LOSS";var Pg=function(){function t(t,e){this.$=t,this.root=e||Ng.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,Ng.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,Ng.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Pt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new Rg(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new Rg(this.root,t,this.$,!1)},t.prototype.vt=function(){return new Rg(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new Rg(this.root,t,this.$,!0)},t}(),Rg=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),Ng=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw Qp();if(this.right.Mt())throw Qp();var t=this.left.Qt();if(t!==this.right.Qt())throw Qp();return t+(this.Mt()?0:1)},t}();Ng.EMPTY=null,Ng.RED=!0,Ng.It=!1,Ng.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Qp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Qp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Qp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Qp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Qp()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new Ng(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var Lg=function(){function t(t){this.$=t,this.data=new Pg(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt(function(e,n){return t(e),!1})},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new Fg(this.data.yt())},t.prototype.Vt=function(t){return new Fg(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(0!==this.$(i,s))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),Fg=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),Mg=new Pg(yg.$);function Vg(){return Mg}function Ug(){return Vg()}var Bg=new Pg(yg.$);function zg(){return Bg}var qg=new Pg(yg.$),Hg=new Lg(yg.$);function Yg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Hg,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var $g=new Lg(ug);function Wg(){return $g}var Gg=function(){function t(t){this.$=t?function(e,n){return t(e,n)||yg.$(e.key,n.key)}:function(t,e){return yg.$(t.key,e.key)},this.Ht=zg(),this.Jt=new Pg(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),Kg=function(){function t(){this.Xt=new Pg(yg.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):Qp():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt(function(e,n){t.push(n)}),t},t}(),Qg=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=s,this.ne=o,this.se=a}return t.ie=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Gg.Yt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&sb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Zg=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,Xg.he(e,n)),new t(dg.min(),r,Wg(),Vg(),Yg())},t}(),Xg=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(Cg.lt,n,Yg(),Yg(),Yg())},t}(),Jg=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},tm=function(t,e){this.targetId=t,this.Te=e},em=function(t,e,n,r){void 0===n&&(n=Cg.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},nm=function(){function t(){this.Ie=0,this.me=sm(),this.Ae=Cg.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=Yg(),e=Yg(),n=Yg();return this.me.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Qp()}}),new Xg(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=sm()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),rm=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=Vg(),this.Me=im(),this.ke=new Lg(ug)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof Yy?this.Le(r,t.Ee):t.Ee instanceof $y&&this.Be(r,t.key,t.Ee)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Be(s[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:Qp()}})},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach(function(t,r){n.Ke(r)&&e(r)})},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(Tg(i))if(0===n){var s=new yg(i.path);this.Be(e,s,new $y(s,dg.min()))}else Zp(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach(function(r,i){var s=e.Ge(i);if(s){if(r.le&&Tg(s.target)){var o=new yg(s.target.path);null!==e.Oe.get(o)||e.Je(i,o)||e.Be(i,o,new $y(o,t))}r.ye&&(n.set(i,r.pe()),r.ve())}});var r=Yg();this.Me.forEach(function(t,n){var i=!0;n.Wt(function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Zg(t,n,this.ke,this.Oe,r);return this.Oe=Vg(),this.Me=im(),this.ke=new Lg(ug),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new nm,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new Lg(ug),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||$p("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new nm),this.xe.Xe(t).forEach(function(n){e.Be(t,n,null)})},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function im(){return new Pg(yg.$)}function sm(){return new Pg(yg.$)}function om(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function am(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function um(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cm(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function lm(t){var e=t.mapValue.fields.__previous_value__;return cm(e)?lm(e):e}function hm(t){var e=_m(t.mapValue.fields.__local_write_time__.timestampValue);return new hg(e.seconds,e.nanos)}var dm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fm(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cm(t)?4:10:Qp()}function pm(t,e){var n=fm(t);if(n!==fm(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hm(t).isEqual(hm(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=_m(t.timestampValue),r=_m(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Em(t.bytesValue).isEqual(Em(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return wm(t.geoPointValue.latitude)===wm(e.geoPointValue.latitude)&&wm(t.geoPointValue.longitude)===wm(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return wm(t.integerValue)===wm(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=wm(t.doubleValue),r=wm(e.doubleValue);return n===r?vg(n)===vg(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return cg(t.arrayValue.values||[],e.arrayValue.values||[],pm);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(om(n)!==om(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!pm(n[i],r[i])))return!1;return!0}(t,e);default:return Qp()}}function gm(t,e){return void 0!==(t.values||[]).find(function(t){return pm(t,e)})}function mm(t,e){var n=fm(t),r=fm(e);if(n!==r)return ug(n,r);switch(n){case 0:return 0;case 1:return ug(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=wm(t.integerValue||t.doubleValue),r=wm(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ym(t.timestampValue,e.timestampValue);case 4:return ym(hm(t),hm(e));case 5:return ug(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Em(t),r=Em(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=ug(n[i],r[i]);if(0!==s)return s}return ug(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ug(wm(t.latitude),wm(e.latitude));return 0!==n?n:ug(wm(t.longitude),wm(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=mm(n[i],r[i]);if(s)return s}return ug(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=ug(r[o],s[o]);if(0!==a)return a;var u=mm(n[r[o]],i[s[o]]);if(0!==u)return u}return ug(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Qp()}}function ym(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ug(t,e);var n=_m(t),r=_m(e),i=ug(n.seconds,r.seconds);return 0!==i?i:ug(n.nanos,r.nanos)}function bm(t){return vm(t)}function vm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=_m(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Em(t.bytesValue).toBase64():"referenceValue"in t?yg.it(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=vm(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+vm(t.fields[s])}return e+"}"}(t.mapValue):Qp();var e}function _m(t){if(Zp(!!t),"string"==typeof t){var e=0,n=dm.exec(t);if(Zp(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wm(t.seconds),nanos:wm(t.nanos)}}function wm(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Em(t){return"string"==typeof t?Cg.fromBase64String(t):Cg.fromUint8Array(t)}function Om(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function Sm(t){return!!t&&"integerValue"in t}function Tm(t){return!!t&&"arrayValue"in t}function Cm(t){return!!t&&"nullValue"in t}function xm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Im(t){return!!t&&"mapValue"in t}var km={asc:"ASCENDING",desc:"DESCENDING"},Am={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dm=function(t,e){this.t=t,this.tn=e};function jm(t){return{integerValue:""+t}}function Pm(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vg(e)?"-0":e}}function Rm(t,e){return _g(e)?jm(e):Pm(t,e)}function Nm(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lm(t,e){return t.tn?e.toBase64():e.toUint8Array()}function Fm(t,e){return Nm(t,e.M())}function Mm(t){return Zp(!!t),dg.N(function(t){var e=_m(t);return new hg(e.seconds,e.nanos)}(t))}function Vm(t,e){return function(t){return new pg(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function Um(t){var e=pg.Y(t);return Zp(cy(e)),e}function Bm(t,e){return Vm(t.t,e.path)}function zm(t,e){var n=Um(e);if(n.get(1)!==t.t.projectId)throw new tg(Jp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new tg(Jp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new yg($m(n))}function qm(t,e){return Vm(t.t,e)}function Hm(t){var e=Um(t);return 4===e.length?pg.X():$m(e)}function Ym(t){return new pg(["projects",t.t.projectId,"databases",t.t.database]).J()}function $m(t){return Zp(t.length>4&&"documents"===t.get(4)),t.B(5)}function Wm(t,e,n){return{name:Bm(t,e),fields:n.proto.mapValue.fields}}function Gm(t,e){var n;if(e instanceof Py)n={update:Wm(t,e.key,e.value)};else if(e instanceof Vy)n={delete:Bm(t,e.key)};else if(e instanceof Ry)n={update:Wm(t,e.key,e.data),updateMask:uy(e.en)};else if(e instanceof Ly)n={transform:{document:Bm(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof py)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof gy)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof yy)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof vy)return{fieldPath:e.field.J(),increment:n.nn};throw Qp()}(0,t)})}};else{if(!(e instanceof Uy))return Qp();n={verify:Bm(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Fm(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Qp()}(t,e.rn)),n}function Km(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ty.updateTime(Mm(t.updateTime)):void 0!==t.exists?Ty.exists(t.exists):Ty.on()}(e.currentDocument):Ty.on();if(e.update){var r=zm(t,e.update.name),i=new By({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Ey((t.fieldPaths||[]).map(function(t){return mg.nt(t)}))}(e.updateMask);return new Ry(r,i,s,n)}return new Py(r,i,n)}if(e.delete){var o=zm(t,e.delete);return new Vy(o,n)}if(e.transform){var a=zm(t,e.transform.document),u=e.transform.fieldTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Zp("REQUEST_TIME"===e.setToServerValue),n=new py):"appendMissingElements"in e?n=new gy(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new yy(e.removeAllFromArray.values||[]):"increment"in e?n=new vy(t,e.increment):Qp();var r=mg.nt(e.fieldPath);return new Oy(r,n)}(t,e)});return Zp(!0===n.exists),new Ly(a,u)}if(e.verify){var c=zm(t,e.verify);return new Uy(c,n)}return Qp()}function Qm(t,e){return{documents:[qm(t,e.path)]}}function Zm(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=qm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=qm(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(xm(t.value))return{unaryFilter:{field:iy(t.field),op:"IS_NAN"}};if(Cm(t.value))return{unaryFilter:{field:iy(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(xm(t.value))return{unaryFilter:{field:iy(t.field),op:"IS_NOT_NAN"}};if(Cm(t.value))return{unaryFilter:{field:iy(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:iy(t.field),op:ry(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:iy(t.field),direction:ny(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.tn||bg(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=ty(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ty(e.endAt)),n}function Xm(t){var e=Hm(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Zp(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Jm(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Ob(sy(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return bg(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=ey(n.startAt));var l=null;return n.endAt&&(l=ey(n.endAt)),Ky(e,i,a,o,u,"F",c,l)}function Jm(t){return t?void 0!==t.unaryFilter?[ay(t)]:void 0!==t.fieldFilter?[oy(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Jm(t)}).reduce(function(t,e){return t.concat(e)}):Qp():[]}function ty(t){return{before:t.before,values:t.position}}function ey(t){return new vb(t.values||[],!!t.before)}function ny(t){return km[t]}function ry(t){return Am[t]}function iy(t){return{fieldPath:t.J()}}function sy(t){return mg.nt(t.fieldPath)}function oy(t){return lb.create(sy(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Qp()}}(t.fieldFilter.op),t.fieldFilter.value)}function ay(t){switch(t.unaryFilter.op){case"IS_NAN":var e=sy(t.unaryFilter.field);return lb.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=sy(t.unaryFilter.field);return lb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=sy(t.unaryFilter.field);return lb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=sy(t.unaryFilter.field);return lb.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Qp()}}function uy(t){var e=[];return t.fields.forEach(function(t){return e.push(t.J())}),{fieldPaths:e}}function cy(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var ly=function(){this.cn=void 0};function hy(t,e,n){return t instanceof py?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof gy?my(t,e):t instanceof yy?by(t,e):function(t,e){var n=fy(t,e),r=_y(n)+_y(t.nn);return Sm(n)&&Sm(t.nn)?jm(r):Pm(t.serializer,r)}(t,e)}function dy(t,e,n){return t instanceof gy?my(t,e):t instanceof yy?by(t,e):n}function fy(t,e){return t instanceof vy?Sm(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var py=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rl.c)(e,t),e}(ly),gy=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Rl.c)(e,t),e}(ly);function my(t,e){for(var n=wy(e),r=function(t){n.some(function(e){return pm(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var yy=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Rl.c)(e,t),e}(ly);function by(t,e){for(var n=wy(e),r=function(t){n=n.filter(function(e){return!pm(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var vy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(Rl.c)(e,t),e}(ly);function _y(t){return wm(t.integerValue||t.doubleValue)}function wy(t){return Tm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ey=function(){function t(t){this.fields=t,t.sort(mg.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return cg(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Oy=function(t,e){this.field=t,this.transform=e},Sy=function(t,e){this.version=t,this.transformResults=e},Ty=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Cy(t,e){return void 0!==t.updateTime?e instanceof Yy&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Yy}var xy=function(){};function Iy(t,e,n){return t instanceof Py?function(t,e,n){return new Yy(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Ry?function(t,e,n){if(!Cy(t.rn,e))return new Wy(t.key,n.version);var r=Ny(t,e);return new Yy(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ly?function(t,e,n){if(Zp(null!=n.transformResults),!Cy(t.rn,e))return new Wy(t.key,n.version);var r=Fy(0,e),i=function(t,e,n){var r=[];Zp(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof Yy&&(a=e.field(s.field)),r.push(dy(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=My(t,r.data(),i);return new Yy(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new $y(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function ky(t,e,n,r){return t instanceof Py?function(t,e){if(!Cy(t.rn,e))return e;var n=jy(e);return new Yy(t.key,n,t.value,{an:!0})}(t,e):t instanceof Ry?function(t,e){if(!Cy(t.rn,e))return e;var n=jy(e),r=Ny(t,e);return new Yy(t.key,n,r,{an:!0})}(t,e):t instanceof Ly?function(t,e,n,r){if(!Cy(t.rn,e))return e;var i=Fy(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof Yy&&(c=n.field(a.field)),null===c&&r instanceof Yy&&(c=r.field(a.field)),i.push(hy(u,c,e))}return i}(t.fieldTransforms,n,e,r),o=My(t,i.data(),s);return new Yy(t.key,i.version,o,{an:!0})}(t,e,r,n):function(t,e){return Cy(t.rn,e)?new $y(t.key,dg.min()):e}(t,e)}function Ay(t,e){return t instanceof Ly?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof Yy?e.field(s.field):void 0,a=fy(s.transform,o||null);null!=a&&(n=null==n?(new zy).set(s.field,a):n.set(s.field,a))}return n?n.hn():null}(t,e):null}function Dy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||cg(t.fieldTransforms,t.fieldTransforms,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof gy&&e instanceof gy||t instanceof yy&&e instanceof yy?cg(t.elements,e.elements,pm):t instanceof vy&&e instanceof vy?pm(t.nn,e.nn):t instanceof py&&e instanceof py}(t.transform,e.transform)}(t,e)}))}function jy(t){return t instanceof Yy?t.version:dg.min()}var Py=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(Rl.c)(e,t),e}(xy),Ry=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.en=r,s.rn=i,s.type=1,s}return Object(Rl.c)(e,t),e}(xy);function Ny(t,e){return function(t,e){var n=new zy(e);return t.en.fields.forEach(function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.hn()}(t,e instanceof Yy?e.data():By.empty())}var Ly=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=Ty.exists(!0),r}return Object(Rl.c)(e,t),e}(xy);function Fy(t,e){return e}function My(t,e,n){for(var r=new zy(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var Vy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(Rl.c)(e,t),e}(xy),Uy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(Rl.c)(e,t),e}(xy),By=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Im(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return pm(this.proto,t.proto)},t}(),zy=function(){function t(t){void 0===t&&(t=By.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===fm(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(mg.X(),this._n);return null!=t?new By(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),s=Im(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.dn(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function qy(t){var e=[];return am(t.fields||{},function(t,n){var r=new mg([t]);if(Im(n)){var i=qy(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new Ey(e)}var Hy=function(t,e){this.key=t,this.version=e},Yy=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).wn=r,s.an=!!i.an,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(Rl.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Hy),$y=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Rl.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Hy),Wy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rl.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Hy),Gy=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.In=null,this.mn=null};function Ky(t,e,n,r,i,s,o,a){return new Gy(t,e,n,r,i,s,o,a)}function Qy(t){return new Gy(t)}function Zy(t){return!bg(t.limit)&&"F"===t.limitType}function Xy(t){return!bg(t.limit)&&"L"===t.limitType}function Jy(t){return t.Tn.length>0?t.Tn[0].field:null}function tb(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function eb(t){return null!==t.collectionGroup}function nb(t){var e=Xp(t);if(null===e.In){e.In=[];var n=tb(e),r=Jy(e);if(null!==n&&null===r)n.tt()||e.In.push(new Ob(n)),e.In.push(new Ob(mg.et(),"asc"));else{for(var i=!1,s=0,o=e.Tn;s<o.length;s++){var a=o[s];e.In.push(a),a.field.tt()&&(i=!0)}if(!i){var u=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new Ob(mg.et(),u))}}}return e.In}function rb(t){var e=Xp(t);if(!e.mn)if("F"===e.limitType)e.mn=Eg(e.path,e.collectionGroup,nb(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=nb(e);r<i.length;r++){var s=i[r];n.push(new Ob(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new vb(e.endAt.position,!e.endAt.before):null,a=e.startAt?new vb(e.startAt.position,!e.startAt.before):null;e.mn=Eg(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.mn}function ib(t,e,n){return new Gy(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sb(t,e){return Sg(rb(t),rb(e))&&t.limitType===e.limitType}function ob(t){return Og(rb(t))+"|lt:"+t.limitType}function ab(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.J()+" "+e.op+" "+bm(e.value);var e}).join(", ")+"]"),bg(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+_b(t.startAt)),t.endAt&&(e+=", endAt: "+_b(t.endAt)),"Target("+e+")"}(rb(t))+"; limitType="+t.limitType+")"}function ub(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):yg.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!wb(t.startAt,nb(t),e)||t.endAt&&wb(t.endAt,nb(t),e))}(t,e)}function cb(t){return function(e,n){for(var r=!1,i=0,s=nb(t);i<s.length;i++){var o=s[i],a=Sb(o,e,n);if(0!==a)return a;r=r||o.field.tt()}return 0}}var lb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Rl.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new hb(t,n,r):"array-contains"===n?new gb(t,r):"in"===n?new mb(t,r):"not-in"===n?new yb(t,r):"array-contains-any"===n?new bb(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new db(t,n):new fb(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(mm(e,this.value)):null!==e&&fm(this.value)===fm(e)&&this.Pn(mm(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Qp()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),hb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=yg.it(r.referenceValue),i}return Object(Rl.c)(e,t),e.prototype.matches=function(t){var e=yg.$(t.key,this.key);return this.Pn(e)},e}(lb),db=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=pb(0,n),r}return Object(Rl.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(lb),fb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=pb(0,n),r}return Object(Rl.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(lb);function pb(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return yg.it(t.referenceValue)})}var gb=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Rl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Tm(e)&&gm(e.arrayValue,this.value)},e}(lb),mb=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Rl.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&gm(this.value.arrayValue,e)},e}(lb),yb=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Rl.c)(e,t),e.prototype.matches=function(t){if(gm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!gm(this.value.arrayValue,e)},e}(lb),bb=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Rl.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Tm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return gm(e.value.arrayValue,t)})},e}(lb),vb=function(t,e){this.position=t,this.before=e};function _b(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return bm(t)}).join(",")}function wb(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.tt()?yg.$(yg.it(o.referenceValue),n.key):mm(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Eb(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!pm(t.position[n],e.position[n]))return!1;return!0}var Ob=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Sb(t,e,n){var r=t.field.tt()?yg.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?mm(r,i):Qp()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Qp()}}function Tb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Cb=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=Iy(s,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=ky(i,e,e,this.gn))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=ky(u,e,s,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Yg())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&cg(this.mutations,t.mutations,function(t,e){return Dy(t,e)})&&cg(this.baseMutations,t.baseMutations,function(t,e){return Dy(t,e)})},t}(),xb=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){Zp(e.mutations.length===r.length);for(var i=qg,s=e.mutations,o=0;o<s.length;o++)i=i.Tt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Ib=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.Cn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){am(this.Nn,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.W=function(){return um(this.Nn)},t}(),kb=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t(function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)},function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&Qp(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t(function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}})},t.prototype.Ln=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn(function(){return e(n)}):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.qn=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.qn(r)},t}(),Ab=function(){function t(){this.Qn=new Ib(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:dg.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?kb.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),Db=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function jb(t){return new Dm(t,!0)}function Pb(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var Rb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Nb=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach(function(t){return t()})},t}(),Lb=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next(function(r){return n.hs(t,e,r)})},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t})},t.prototype.ls=function(t,e,n){var r=Ug();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].pn(t,e);r=r.Tt(t,e)}),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next(function(e){return n.fs(t,e)})},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next(function(r){var i=n.ls(t,e,r),s=Vg();return i.forEach(function(t,e){e||(e=new $y(t,dg.min())),s=s.Tt(t,e)}),s})},t.prototype.ws=function(t,e,n){return function(t){return yg.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):eb(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new yg(e)).next(function(t){var e=zg();return t instanceof Yy&&(e=e.Tt(t.key,t)),e})},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,s=zg();return this.os.As(t,i).next(function(o){return kb.forEach(o,function(o){var a=function(t,e){return new Gy(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.Is(t,a,n).next(function(t){t.forEach(function(t,e){s=s.Tt(t,e)})})}).next(function(){return s})})},t.prototype.Is=function(t,e,n){var r,i,s=this;return this.ss.ws(t,e,n).next(function(n){return r=n,s.rs.Rs(t,e)}).next(function(e){return s.Ps(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c),h=ky(u,l,l,s.gn);r=h instanceof Yy?r.Tt(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){ub(e,n)||(r=r.remove(t))}),r})},t.prototype.Ps=function(t,e,n){for(var r=Yg(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Ry&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ss.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Yy&&(c=c.Tt(t,e))}),c})},t}(),Fb=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=Yg(),i=Yg(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Mb=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();Mb.Ds=-1;var Vb=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&$p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,function(){return e.$s=Date.now(),t()}),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),Ub=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(Fl.j)())&&Wp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return $p("SimpleDb","Removing database:",t),$b(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(Fl.j)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(Rl.b)(this,void 0,void 0,function(){var e,n=this;return Object(Rl.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:($p("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new zb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new tg(Jp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new zb(t,n))},i.onupgradeneeded=function(t){$p("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){$p("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}})})},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Rl.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(Rl.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(Rl.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Xs(t)];case 2:return a.db=h.sent(),e=Hb.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),kb.reject(t)}).Ln(),u={},o.catch(function(){}),[4,e.ei];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return $p("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Bb=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return $b(this.ni.delete())},t}(),zb=function(t){function e(e,n){var r=this;return(r=t.call(this,Jp.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Rl.c)(e,t),e}(tg);function qb(t){return"IndexedDbTransactionError"===t.name}var Hb=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new Db,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new zb(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=Gb(e.target.error);n.ci.reject(new zb(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new zb(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||($p("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Yb(e)},t}(),Yb=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?($p("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):($p("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),$b(n)},t.prototype.add=function(t){return $p("SimpleDb","ADD",this.store.name,t,t),$b(this.store.add(t))},t.prototype.get=function(t){var e=this;return $b(this.store.get(t)).next(function(n){return void 0===n&&(n=null),$p("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return $p("SimpleDb","DELETE",this.store.name,t),$b(this.store.delete(t))},t.prototype.count=function(){return $p("SimpleDb","COUNT",this.store.name),$b(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.hi=function(t,e){$p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,function(t,e,n){return n.delete()})},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new kb(function(n,r){e.onerror=function(t){var e=Gb(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.ai=function(t,e){var n=[];return new kb(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Bb(i),o=e(i.primaryKey,i.value,s);if(o instanceof kb){var a=o.catch(function(t){return s.done(),kb.reject(t)});n.push(a)}s.On?r():null===s.ri?i.continue():i.continue(s.ri)}else r()}}).next(function(){return kb.qn(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function $b(t){return new kb(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Gb(t.target.error);n(e)}})}var Wb=!1;function Gb(t){var e=Ub.js(Object(Fl.j)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new tg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Wb||(Wb=!0,setTimeout(function(){throw r},0)),r}}return t}function Kb(){return"undefined"!=typeof window?window:null}function Qb(){return"undefined"!=typeof document?document:null}var Zb=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new Db,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch(function(t){})}return t.Ii=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.mi=setTimeout(function(){return e.Ai()},t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new tg(Jp.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri(function(){return null!==t.mi?(t.clearTimeout(),t.op().then(function(e){return t.Ti.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),Xb=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new Vb(this,"async_queue_retry"),this.Di=function(){var e=Qb();e&&$p("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=Qb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=Qb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise(function(t){}):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri(function(){return e.gi.push(t),e.ki()})},t.prototype.ki=function(){return Object(Rl.b)(this,void 0,void 0,function(){var t,e=this;return Object(Rl.d)(this,function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!qb(t=n.sent()))throw t;return $p("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs(function(){return e.ki()}),n.label=5;case 5:return[2]}})})},t.prototype.Fi=function(t){var e=this,n=this.Pi.then(function(){return e.vi=!0,t().catch(function(t){throw e.pi=t,e.vi=!1,Wp("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.vi=!1,t})});return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=Zb.Ii(this,t,e,n,function(t){return r.$i(t)});return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&Qp()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(Rl.b)(this,void 0,void 0,function(){var t;return Object(Rl.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then(function(){e.Vi.sort(function(t,e){return t.wi-e.wi});for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()})},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function Jb(t,e){if(Wp("AsyncQueue",e+": "+t),qb(t))return new tg(Jp.UNAVAILABLE,e+": "+t);throw t}function tv(t,e){var n=t[1],r=e[1],i=ug(t[0],e[0]);return 0===i?ug(n,r):i}var ev=function(){function t(t){this.Ki=t,this.buffer=new Lg(tv),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();tv(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),nv={zi:!1,Hi:0,Ji:0,Yi:0},rv=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();rv.nr=10,rv.sr=1e3,rv.ir=new rv(41943040,rv.nr,rv.sr),rv.rr=new rv(-1,0,0);var iv=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;$p("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,function(){return Object(Rl.b)(e,void 0,void 0,function(){var e;return Object(Rl.d)(this,function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return qb(e=n.sent())?($p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,j_(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}})})})},t}(),sv=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Tr=function(t,e){var n=this;if(0===e)return kb.resolve(Mb.Ds);var r=new ev(e);return this.dr.Ue(t,function(t){return r.Gi(t.sequenceNumber)}).next(function(){return n.dr.Ir(t,function(t){return r.Gi(t)})}).next(function(){return r.maxValue})},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?($p("LruGarbageCollector","Garbage collection skipped; disabled"),kb.resolve(nv)):this.Pr(t).next(function(r){return r<n.params.Xi?($p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),nv):n.gr(t,e)})},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.wr(t,this.params.Zi).next(function(e){return e>c.params.tr?($p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,s=Date.now(),c.Tr(t,r)}).next(function(r){return n=r,o=Date.now(),c.mr(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.Ar(t,n)}).next(function(t){return u=Date.now(),Yp()<=Ll.a.DEBUG&&$p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),kb.resolve({zi:!0,Hi:r,Ji:i,Yi:t})})},t}(),ov=function(){function t(){}return t.prototype.yr=function(t){this.Vr=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(dg.min())?this.pr(t,e):this.Vr._s(t,r).next(function(s){var o=i.vr(e,s);return(Zy(e)||Xy(e))&&i.br(e.limitType,o,r,n)?i.pr(t,e):(Yp()<=Ll.a.DEBUG&&$p("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ab(e)),i.Vr.ws(t,e,n).next(function(t){return o.forEach(function(e){t=t.Tt(e.key,e)}),t}))})},t.prototype.vr=function(t,e){var n=new Lg(cb(t));return e.forEach(function(e,r){r instanceof Yy&&ub(t,r)&&(n=n.add(r))}),n},t.prototype.br=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.pr=function(t,e){return Yp()<=Ll.a.DEBUG&&$p("QueryEngine","Using full collection scan to execute query:",ab(e)),this.Vr.ws(t,e,dg.min())},t}();function av(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=cv(e)),e=uv(t.get(n),e);return cv(e)}function uv(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function cv(t){return t+"\x01\x01"}function lv(t){var e=t.length;if(Zp(e>=2),2===e)return Zp("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),pg.X();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Qp(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Qp()}s=o+2}return new pg(r)}var hv=function(t){this.Sr=t};function dv(t,e){if(e.document)return function(t,e,n){var r=zm(t,e.name),i=Mm(e.updateTime),s=new By({mapValue:{fields:e.fields}});return new Yy(r,i,s,{hasCommittedMutations:!!n})}(t.Sr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=yg.ct(e.noDocument.path),r=yv(e.noDocument.readTime);return new $y(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=yg.ct(e.unknownDocument.path),s=yv(e.unknownDocument.version);return new Wy(i,s)}return Qp()}function fv(t,e,n){var r=pv(n),i=e.key.path.q().H();if(e instanceof Yy){var s=function(t,e){return{name:Bm(t,e.key),fields:e.En().mapValue.fields,updateTime:Nm(t,e.version.M())}}(t.Sr,e);return new Hv(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof $y){var o=e.key.path.H(),a=mv(e.version),u=e.hasCommittedMutations;return new Hv(null,new zv(o,a),null,u,r,i)}if(e instanceof Wy){var c=e.key.path.H(),l=mv(e.version);return new Hv(new qv(c,l),null,null,!0,r,i)}return Qp()}function pv(t){var e=t.M();return[e.seconds,e.nanoseconds]}function gv(t){var e=new hg(t[0],t[1]);return dg.N(e)}function mv(t){var e=t.M();return new Fv(e.seconds,e.nanoseconds)}function yv(t){var e=new hg(t.seconds,t.nanoseconds);return dg.N(e)}function bv(t,e){var n=(e.baseMutations||[]).map(function(e){return Km(t.Sr,e)}),r=e.mutations.map(function(e){return Km(t.Sr,e)}),i=hg.fromMillis(e.localWriteTimeMs);return new Cb(e.batchId,i,n,r)}function vv(t){var e,n,r=yv(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?yv(t.lastLimboFreeSnapshotVersion):dg.min();return void 0!==t.query.documents?(Zp(1===(n=t.query).documents.length),e=rb(Qy(Hm(n.documents[0])))):e=function(t){return rb(Xm(t))}(t.query),new kg(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Cg.fromBase64String(t.resumeToken))}function _v(t,e){var n,r=mv(e.ft),i=mv(e.lastLimboFreeSnapshotVersion);n=Tg(e.target)?Qm(t.Sr,e.target):Zm(t.Sr,e.target);var s=e.resumeToken.toBase64();return new $v(e.targetId,Og(e.target),r,s,e.sequenceNumber,i,n)}function wv(t){var e=Xm({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ib(e,e.limit,"L"):e}var Ev=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Dr=r,this.Cr={}}return t.Nr=function(e,n,r,i){return Zp(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.Fr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tv(t)._i({index:Uv.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Or=function(t,e,n,r){var i=this,s=Cv(t),o=Tv(t);return o.add({}).next(function(a){Zp("number"==typeof a);for(var u=new Cb(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Gm(t.Sr,e)}),i=n.mutations.map(function(e){return Gm(t.Sr,e)});return new Uv(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new Lg(function(t,e){return ug(t.J(),e.J())}),d=0,f=r;d<f.length;d++){var p=f[d],g=Bv.key(i.userId,p.key.path,a);h=h.add(p.key.path.q()),l.push(o.put(c)),l.push(s.put(g,Bv.PLACEHOLDER))}return h.forEach(function(e){l.push(i.os.Mr(t,e))}),t.es(function(){i.Cr[a]=u.keys()}),kb.qn(l).next(function(){return u})})},t.prototype.kr=function(t,e){var n=this;return Tv(t).get(e).next(function(t){return t?(Zp(t.userId===n.userId),bv(n.serializer,t)):null})},t.prototype.$r=function(t,e){var n=this;return this.Cr[e]?kb.resolve(this.Cr[e]):this.kr(t,e).next(function(t){if(t){var r=t.keys();return n.Cr[e]=r,r}return null})},t.prototype.Lr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Tv(t)._i({index:Uv.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Zp(e.batchId>=r),s=bv(n.serializer,e)),i.done()}).next(function(){return s})},t.prototype.Br=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Tv(t)._i({index:Uv.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.qr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tv(t).ui(Uv.userMutationsIndex,n).next(function(t){return t.map(function(t){return bv(e.serializer,t)})})},t.prototype.us=function(t,e){var n=this,r=Bv.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Cv(t)._i({range:i},function(r,i,o){var a=r[0],u=r[2],c=lv(r[1]);if(a===n.userId&&e.path.isEqual(c))return Tv(t).get(u).next(function(t){if(!t)throw Qp();Zp(t.userId===n.userId),s.push(bv(n.serializer,t))});o.done()}).next(function(){return s})},t.prototype.ds=function(t,e){var n=this,r=new Lg(ug),i=[];return e.forEach(function(e){var s=Bv.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Cv(t)._i({range:o},function(t,i,s){var o=t[0],a=t[2],u=lv(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),kb.qn(i).next(function(){return n.Ur(t,r)})},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,s=Bv.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Lg(ug);return Cv(t)._i({range:o},function(t,e,s){var o=t[0],u=t[2],c=lv(t[1]);o===n.userId&&r.j(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Ur(t,a)})},t.prototype.Ur=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Tv(t).get(e).next(function(t){if(null===t)throw Qp();Zp(t.userId===n.userId),r.push(bv(n.serializer,t))}))}),kb.qn(i).next(function(){return r})},t.prototype.Qr=function(t,e){var n=this;return Sv(t.Kr,this.userId,e).next(function(r){return t.es(function(){n.Wr(e.batchId)}),kb.forEach(r,function(e){return n.Dr.jr(t,e)})})},t.prototype.Wr=function(t){delete this.Cr[t]},t.prototype.Gr=function(t){var e=this;return this.Fr(t).next(function(n){if(!n)return kb.resolve();var r=IDBKeyRange.lowerBound(Bv.prefixForUser(e.userId)),i=[];return Cv(t)._i({range:r},function(t,n,r){if(t[0]===e.userId){var s=lv(t[1]);i.push(s)}else r.done()}).next(function(){Zp(0===i.length)})})},t.prototype.zr=function(t,e){return Ov(t,this.userId,e)},t.prototype.Hr=function(t){var e=this;return xv(t).get(this.userId).next(function(t){return t||new Vv(e.userId,-1,"")})},t}();function Ov(t,e,n){var r=Bv.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Cv(t)._i({range:s,li:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Sv(t,e,n){var r=t.store(Uv.store),i=t.store(Bv.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r._i({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){Zp(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Bv.key(e,d.key.path,n.batchId);s.push(i.delete(f)),c.push(d.key)}return kb.qn(s).next(function(){return c})}function Tv(t){return f_.Ys(t,Uv.store)}function Cv(t){return f_.Ys(t,Bv.store)}function xv(t){return f_.Ys(t,Vv.store)}var Iv=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return Dv(t).put(jv(e),n)},t.prototype.Hn=function(t,e){var n=Dv(t),r=jv(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Jr(t,r)})},t.prototype.Jn=function(t,e){var n=this;return Dv(t).get(jv(e)).next(function(t){return n.Yr(t)})},t.prototype.Xr=function(t,e){var n=this;return Dv(t).get(jv(e)).next(function(t){var e=n.Yr(t);return e?{zn:e,size:Pv(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Ug();return this.Zr(t,e,function(t,e){var i=n.Yr(e);r=r.Tt(t,i)}).next(function(){return r})},t.prototype.eo=function(t,e){var n=this,r=Ug(),i=new Pg(yg.$);return this.Zr(t,e,function(t,e){var s=n.Yr(e);s?(r=r.Tt(t,s),i=i.Tt(t,Pv(e))):(r=r.Tt(t,null),i=i.Tt(t,0))}).next(function(){return{no:r,so:i}})},t.prototype.Zr=function(t,e,n){if(e.W())return kb.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),s=i.Ct();return Dv(t)._i({range:r},function(t,e,r){for(var o=yg.ct(t);s&&yg.$(s,o)<0;)n(s,null),s=i.Ct();s&&s.isEqual(o)&&(n(s,e),s=i.Nt()?i.Ct():null),s?r.oi(s.path.H()):r.done()}).next(function(){for(;s;)n(s,null),s=i.Nt()?i.Ct():null})},t.prototype.ws=function(t,e,n){var r=this,i=zg(),s=e.path.length+1,o={};if(n.isEqual(dg.min())){var a=e.path.H();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.H(),c=pv(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Hv.collectionReadTimeIndex}return Dv(t)._i(o,function(t,n,o){if(t.length===s){var a=dv(r.serializer,n);e.path.j(a.key.path)?a instanceof Yy&&ub(e,a)&&(i=i.Tt(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.io=function(t){return new kv(this,!!t&&t.ro)},t.prototype.oo=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Av(t).get(Yv.key).next(function(t){return Zp(!!t),t})},t.prototype.Jr=function(t,e){return Av(t).put(Yv.key,e)},t.prototype.Yr=function(t){if(t){var e=dv(this.serializer,t);return e instanceof $y&&e.version.isEqual(dg.min())?null:e}return null},t}(),kv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).co=e,r.ro=n,r.uo=new Ib(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Rl.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new Lg(function(t,e){return ug(t.J(),e.J())});return this.Qn.forEach(function(s,o){var a=e.uo.get(s);if(o.zn){var u=fv(e.co.serializer,o.zn,e.Wn(s));i=i.add(s.path.q());var c=Pv(u);r+=c-a,n.push(e.co.jn(t,s,u))}else if(r-=a,e.ro){var l=fv(e.co.serializer,new $y(s,dg.min()),e.Wn(s));n.push(e.co.jn(t,s,l))}else n.push(e.co.Hn(t,s))}),i.forEach(function(r){n.push(e.co.os.Mr(t,r))}),n.push(this.co.updateMetadata(t,r)),kb.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.co.Xr(t,e).next(function(t){return null===t?(n.uo.set(e,0),null):(n.uo.set(e,t.size),t.zn)})},e.prototype.Xn=function(t,e){var n=this;return this.co.eo(t,e).next(function(t){var e=t.no;return t.so.forEach(function(t,e){n.uo.set(t,e)}),e})},e}(Ab);function Av(t){return f_.Ys(t,Yv.store)}function Dv(t){return f_.Ys(t,Hv.store)}function jv(t){return t.path.H()}function Pv(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Qp();e=t.noDocument}return JSON.stringify(e).length}var Rv=function(){function t(){this.ao=new Nv}return t.prototype.Mr=function(t,e){return this.ao.add(e),kb.resolve()},t.prototype.As=function(t,e){return kb.resolve(this.ao.getEntries(e))},t}(),Nv=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new Lg(pg.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Lg(pg.$)).H()},t}(),Lv=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Zp(n<r&&n>=0&&r<=11);var s=new Hb("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Mv.store)}(t),function(t){t.createObjectStore(Vv.store,{keyPath:Vv.keyPath}),t.createObjectStore(Uv.store,{keyPath:Uv.keyPath,autoIncrement:!0}).createIndex(Uv.userMutationsIndex,Uv.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Bv.store)}(t),Qv(t),function(t){t.createObjectStore(Hv.store)}(t));var o=kb.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Wv.store),t.deleteObjectStore($v.store),t.deleteObjectStore(Gv.store)}(t),Qv(t)),o=o.next(function(){return function(t){var e=t.store(Gv.store),n=new Gv(0,0,dg.min().M(),0);return e.put(Gv.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Uv.store).ui().next(function(n){t.deleteObjectStore(Uv.store),t.createObjectStore(Uv.store,{keyPath:Uv.keyPath,autoIncrement:!0}).createIndex(Uv.userMutationsIndex,Uv.userMutationsKeyPath,{unique:!0});var r=e.store(Uv.store),i=n.map(function(t){return r.put(t)});return kb.qn(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Zv.store,{keyPath:Zv.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Yv.store)}(t),i.addDocumentGlobal(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(s)})),n<8&&r>=8&&(o=o.next(function(){return i.createCollectionParentIndex(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Hv.store);e.createIndex(Hv.readTimeIndex,Hv.readTimeIndexPath,{unique:!1}),e.createIndex(Hv.collectionReadTimeIndex,Hv.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.rewriteCanonicalIds(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Xv.store,{keyPath:Xv.keyPath})}(t),function(t){t.createObjectStore(Jv.store,{keyPath:Jv.keyPath})}(t)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Hv.store)._i(function(t,n){e+=Pv(n)}).next(function(){var n=new Yv(e);return t.store(Yv.store).put(Yv.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Vv.store),r=t.store(Uv.store);return n.ui().next(function(n){return kb.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(Uv.userMutationsIndex,i).next(function(r){return kb.forEach(r,function(r){Zp(r.userId===n.userId);var i=bv(e.serializer,r);return Sv(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Wv.store),n=t.store(Hv.store);return t.store(Gv.store).get(Gv.key).next(function(t){var r=[];return n._i(function(n,i){var s=new pg(n),o=function(t){return[0,av(t)]}(s);r.push(e.get(o).next(function(n){return n?kb.resolve():function(n){return e.put(new Wv(0,av(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return kb.qn(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Kv.store,{keyPath:Kv.keyPath});var n=e.store(Kv.store),r=new Nv,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:av(i)})}};return e.store(Hv.store)._i({li:!0},function(t,e){var n=new pg(t);return i(n.q())}).next(function(){return e.store(Bv.store)._i({li:!0},function(t,e){var n=lv(t[1]);return i(n.q())})})},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store($v.store);return n._i(function(t,r){var i=vv(r),s=_v(e.serializer,i);return n.put(s)})},t}(),Fv=function(t,e){this.seconds=t,this.nanoseconds=e},Mv=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Mv.store="owner",Mv.key="owner";var Vv=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Vv.store="mutationQueues",Vv.keyPath="userId";var Uv=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Uv.store="mutations",Uv.keyPath="batchId",Uv.userMutationsIndex="userMutationsIndex",Uv.userMutationsKeyPath=["userId","batchId"];var Bv=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,av(e)]},t.key=function(t,e,n){return[t,av(e),n]},t}();Bv.store="documentMutations",Bv.PLACEHOLDER=new Bv;var zv=function(t,e){this.path=t,this.readTime=e},qv=function(t,e){this.path=t,this.version=e},Hv=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Hv.store="remoteDocuments",Hv.readTimeIndex="readTimeIndex",Hv.readTimeIndexPath="readTime",Hv.collectionReadTimeIndex="collectionReadTimeIndex",Hv.collectionReadTimeIndexPath=["parentPath","readTime"];var Yv=function(t){this.byteSize=t};Yv.store="remoteDocumentGlobal",Yv.key="remoteDocumentGlobalKey";var $v=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};$v.store="targets",$v.keyPath="targetId",$v.queryTargetsIndexName="queryTargetsIndex",$v.queryTargetsKeyPath=["canonicalId","targetId"];var Wv=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Wv.store="targetDocuments",Wv.keyPath=["targetId","path"],Wv.documentTargetsIndex="documentTargetsIndex",Wv.documentTargetsKeyPath=["path","targetId"];var Gv=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Gv.key="targetGlobalKey",Gv.store="targetGlobal";var Kv=function(t,e){this.collectionId=t,this.parent=e};function Qv(t){t.createObjectStore(Wv.store,{keyPath:Wv.keyPath}).createIndex(Wv.documentTargetsIndex,Wv.documentTargetsKeyPath,{unique:!0}),t.createObjectStore($v.store,{keyPath:$v.keyPath}).createIndex($v.queryTargetsIndexName,$v.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Gv.store)}Kv.store="collectionParents",Kv.keyPath=["collectionId","parent"];var Zv=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Zv.store="clientMetadata",Zv.keyPath="clientId";var Xv=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Xv.store="bundles",Xv.keyPath="bundleId";var Jv=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Jv.store="namedQueries",Jv.keyPath="name";var t_=Object(Rl.g)(Object(Rl.g)(Object(Rl.g)(Object(Rl.g)([Vv.store,Uv.store,Bv.store,Hv.store,$v.store,Mv.store,Gv.store,Wv.store],[Zv.store]),[Yv.store]),[Kv.store]),[Xv.store,Jv.store]),e_=function(){function t(t){this.serializer=t}return t.prototype.ho=function(t,e){return n_(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:yv(e.createTime),version:e.version};var e})},t.prototype.lo=function(t,e){return n_(t).put({bundleId:(n=e).id,createTime:mv(Mm(n.createTime)),version:n.version});var n},t.prototype._o=function(t,e){return r_(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:wv(e.bundledQuery),readTime:yv(e.readTime)};var e})},t.prototype.fo=function(t,e){return r_(t).put(function(t){return{name:t.name,readTime:mv(Mm(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function n_(t){return f_.Ys(t,Xv.store)}function r_(t){return f_.Ys(t,Jv.store)}var i_=function(){function t(){this.wo=new Nv}return t.prototype.Mr=function(t,e){var n=this;if(!this.wo.has(e)){var r=e.K(),i=e.q();t.es(function(){n.wo.add(e)});var s={collectionId:r,parent:av(i)};return s_(t).put(s)}return kb.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[lg(e),""],!1,!0);return s_(t).ui(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(lv(s.parent))}return n})},t}();function s_(t){return f_.Ys(t,Kv.store)}var o_=function(){function t(t){this.Eo=t}return t.prototype.next=function(){return this.Eo+=2,this.Eo},t.To=function(){return new t(0)},t.Io=function(){return new t(-1)},t}(),a_=function(){function t(t,e){this.Dr=t,this.serializer=e}return t.prototype.mo=function(t){var e=this;return this.Ao(t).next(function(n){var r=new o_(n.highestTargetId);return n.highestTargetId=r.next(),e.Ro(t,n).next(function(){return n.highestTargetId})})},t.prototype.Po=function(t){return this.Ao(t).next(function(t){return dg.N(new hg(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.yo=function(t){return this.Ao(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Vo=function(t,e,n){var r=this;return this.Ao(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ro(t,i)})},t.prototype.po=function(t,e){var n=this;return this.vo(t,e).next(function(){return n.Ao(t).next(function(r){return r.targetCount+=1,n.bo(e,r),n.Ro(t,r)})})},t.prototype.So=function(t,e){return this.vo(t,e)},t.prototype.Do=function(t,e){var n=this;return this.Co(t,e.targetId).next(function(){return u_(t).delete(e.targetId)}).next(function(){return n.Ao(t)}).next(function(e){return Zp(e.targetCount>0),e.targetCount-=1,n.Ro(t,e)})},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return u_(t)._i(function(o,a){var u=vv(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Do(t,u)))}).next(function(){return kb.qn(s)}).next(function(){return i})},t.prototype.Ue=function(t,e){return u_(t)._i(function(t,n){var r=vv(n);e(r)})},t.prototype.Ao=function(t){return c_(t).get(Gv.key).next(function(t){return Zp(null!==t),t})},t.prototype.Ro=function(t,e){return c_(t).put(Gv.key,e)},t.prototype.vo=function(t,e){return u_(t).put(_v(this.serializer,e))},t.prototype.bo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.No=function(t){return this.Ao(t).next(function(t){return t.targetCount})},t.prototype.xo=function(t,e){var n=Og(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return u_(t)._i({range:r,index:$v.queryTargetsIndexName},function(t,n,r){var s=vv(n);Sg(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.Fo=function(t,e,n){var r=this,i=[],s=l_(t);return e.forEach(function(e){var o=av(e.path);i.push(s.put(new Wv(n,o))),i.push(r.Dr.Oo(t,n,e))}),kb.qn(i)},t.prototype.Mo=function(t,e,n){var r=this,i=l_(t);return kb.forEach(e,function(e){var s=av(e.path);return kb.qn([i.delete([n,s]),r.Dr.ko(t,n,e)])})},t.prototype.Co=function(t,e){var n=l_(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.$o=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=l_(t),i=Yg();return r._i({range:n,li:!0},function(t,e,n){var r=lv(t[1]),s=new yg(r);i=i.add(s)}).next(function(){return i})},t.prototype.zr=function(t,e){var n=av(e.path),r=IDBKeyRange.bound([n],[lg(n)],!1,!0),i=0;return l_(t)._i({index:Wv.documentTargetsIndex,li:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Ze=function(t,e){return u_(t).get(e).next(function(t){return t?vv(t):null})},t}();function u_(t){return f_.Ys(t,$v.store)}function c_(t){return f_.Ys(t,Gv.store)}function l_(t){return f_.Ys(t,Wv.store)}var h_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",d_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kr=e,r.Lo=n,r}return Object(Rl.c)(e,t),e}(Nb),f_=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=s,this.window=o,this.document=a,this.Bo=c,this.qo=l,this.Uo=null,this.Qo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ko=null,this.inForeground=!1,this.Wo=null,this.jo=null,this.Go=Number.NEGATIVE_INFINITY,this.zo=function(t){return Promise.resolve()},!t.Gs())throw new tg(Jp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Dr=new m_(this,i),this.Ho=n+"main",this.serializer=new hv(u),this.Jo=new Ub(this.Ho,11,new Lv(this.serializer)),this.Yo=new a_(this.Dr,this.serializer),this.os=new i_,this.ss=function(t,e){return new Iv(t,e)}(this.serializer,this.os),this.Xo=new e_(this.serializer),this.window&&this.window.localStorage?this.Zo=this.window.localStorage:(this.Zo=null,!1===l&&Wp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof d_)return Ub.Ys(t.Kr,e);throw Qp()},t.prototype.start=function(){var t=this;return this.tc().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new tg(Jp.FAILED_PRECONDITION,h_);return t.ec(),t.nc(),t.sc(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Yo.yo(e)})}).then(function(e){t.Uo=new Mb(e,t.Bo)}).then(function(){t.Qo=!0}).catch(function(e){return t.Jo&&t.Jo.close(),Promise.reject(e)})},t.prototype.ic=function(t){var e=this;return this.zo=function(n){return Object(Rl.b)(e,void 0,void 0,function(){return Object(Rl.d)(this,function(e){return this.lr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.rc=function(t){var e=this;this.Jo.ti(function(n){return Object(Rl.b)(e,void 0,void 0,function(){return Object(Rl.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.oc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri(function(){return Object(Rl.b)(e,void 0,void 0,function(){return Object(Rl.d)(this,function(t){switch(t.label){case 0:return this.lr?[4,this.tc()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.tc=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return g_(e).put(new Zv(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.cc(e).next(function(e){e||(t.isPrimary=!1,t.Cs.Mi(function(){return t.zo(!1)}))})}).next(function(){return t.uc(e)}).next(function(n){return t.isPrimary&&!n?t.ac(e).next(function(){return!1}):!!n&&t.hc(e).next(function(){return!0})})}).catch(function(e){if(qb(e))return $p("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return $p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Cs.Mi(function(){return t.zo(e)}),t.isPrimary=e})},t.prototype.cc=function(t){var e=this;return p_(t).get(Mv.key).next(function(t){return kb.resolve(e.lc(t))})},t.prototype._c=function(t){return g_(t).delete(this.clientId)},t.prototype.fc=function(){return Object(Rl.b)(this,void 0,void 0,function(){var e,n,r,i=this;return Object(Rl.d)(this,function(s){switch(s.label){case 0:return!this.isPrimary||this.dc(this.Go,18e5)?[3,2]:(this.Go=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var n=t.Ys(e,Zv.store);return n.ui().next(function(t){var e=i.wc(t,18e5),r=t.filter(function(t){return-1===e.indexOf(t)});return kb.forEach(r,function(t){return n.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=s.sent(),this.Zo)for(n=0,r=e;n<r.length;n++)this.Zo.removeItem(this.Ec(r[n].clientId));s.label=2;case 2:return[2]}})})},t.prototype.sc=function(){var t=this;this.jo=this.Cs.Us("client_metadata_refresh",4e3,function(){return t.tc().then(function(){return t.fc()}).then(function(){return t.sc()})})},t.prototype.lc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.uc=function(t){var e=this;return this.qo?kb.resolve(!0):p_(t).get(Mv.key).next(function(n){if(null!==n&&e.dc(n.leaseTimestampMs,5e3)&&!e.Tc(n.ownerId)){if(e.lc(n)&&e.networkEnabled)return!0;if(!e.lc(n)){if(!n.allowTabSynchronization)throw new tg(Jp.FAILED_PRECONDITION,h_);return!1}}return!(!e.networkEnabled||!e.inForeground)||g_(t).ui().next(function(t){return void 0===e.wc(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&$p("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Ic=function(){return Object(Rl.b)(this,void 0,void 0,function(){var t=this;return Object(Rl.d)(this,function(e){switch(e.label){case 0:return this.Qo=!1,this.mc(),this.jo&&(this.jo.cancel(),this.jo=null),this.Ac(),this.Rc(),[4,this.Jo.runTransaction("shutdown","readwrite",[Mv.store,Zv.store],function(e){var n=new d_(e,Mb.Ds);return t.ac(n).next(function(){return t._c(n)})})];case 1:return e.sent(),this.Jo.close(),this.Pc(),[2]}})})},t.prototype.wc=function(t,e){var n=this;return t.filter(function(t){return n.dc(t.updateTimeMs,e)&&!n.Tc(t.clientId)})},t.prototype.gc=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return g_(e).ui().next(function(e){return t.wc(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.yc=function(t){return Ev.Nr(t,this.serializer,this.os,this.Dr)},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.bc=function(){return this.os},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return $p("IndexedDbPersistence","Starting transaction:",t),this.Jo.runTransaction(t,"readonly"===e?"readonly":"readwrite",t_,function(s){return r=new d_(s,i.Uo?i.Uo.next():Mb.Ds),"readwrite-primary"===e?i.cc(r).next(function(t){return!!t||i.uc(r)}).next(function(e){if(!e)throw Wp("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi(function(){return i.zo(!1)}),new tg(Jp.FAILED_PRECONDITION,Rb);return n(r)}).next(function(t){return i.hc(r).next(function(){return t})}):i.Dc(r).next(function(){return n(r)})}).then(function(t){return r.ns(),t})},t.prototype.Dc=function(t){var e=this;return p_(t).get(Mv.key).next(function(t){if(null!==t&&e.dc(t.leaseTimestampMs,5e3)&&!e.Tc(t.ownerId)&&!e.lc(t)&&!(e.qo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new tg(Jp.FAILED_PRECONDITION,h_)})},t.prototype.hc=function(t){var e=new Mv(this.clientId,this.allowTabSynchronization,Date.now());return p_(t).put(Mv.key,e)},t.Gs=function(){return Ub.Gs()},t.prototype.ac=function(t){var e=this,n=p_(t);return n.get(Mv.key).next(function(t){return e.lc(t)?($p("IndexedDbPersistence","Releasing primary lease."),n.delete(Mv.key)):kb.resolve()})},t.prototype.dc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Wp("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ec=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Wo=function(){t.Cs.Ri(function(){return t.inForeground="visible"===t.document.visibilityState,t.tc()})},this.document.addEventListener("visibilitychange",this.Wo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Ac=function(){this.Wo&&(this.document.removeEventListener("visibilitychange",this.Wo),this.Wo=null)},t.prototype.nc=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ko=function(){e.mc(),e.Cs.Ri(function(){return e.Ic()})},this.window.addEventListener("unload",this.Ko))},t.prototype.Rc=function(){this.Ko&&(this.window.removeEventListener("unload",this.Ko),this.Ko=null)},t.prototype.Tc=function(t){var e;try{var n=null!==(null===(e=this.Zo)||void 0===e?void 0:e.getItem(this.Ec(t)));return $p("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Wp("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.mc=function(){if(this.Zo)try{this.Zo.setItem(this.Ec(this.clientId),String(Date.now()))}catch(t){Wp("Failed to set zombie client id.",t)}},t.prototype.Pc=function(){if(this.Zo)try{this.Zo.removeItem(this.Ec(this.clientId))}catch(t){}},t.prototype.Ec=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function p_(t){return f_.Ys(t,Mv.store)}function g_(t){return f_.Ys(t,Zv.store)}var m_=function(){function t(t,e){this.db=t,this.cr=new sv(this,e)}return t.prototype.Er=function(t){var e=this.Cc(t);return this.db.Vc().No(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Cc=function(t){var e=0;return this.Ir(t,function(t){e++}).next(function(){return e})},t.prototype.Ue=function(t,e){return this.db.Vc().Ue(t,e)},t.prototype.Ir=function(t,e){return this.Nc(t,function(t,n){return e(n)})},t.prototype.Oo=function(t,e,n){return y_(t,n)},t.prototype.ko=function(t,e,n){return y_(t,n)},t.prototype.mr=function(t,e,n){return this.db.Vc().mr(t,e,n)},t.prototype.jr=function(t,e){return y_(t,e)},t.prototype.xc=function(t,e){return function(t,e){var n=!1;return xv(t).fi(function(r){return Ov(t,r,e).next(function(t){return t&&(n=!0),kb.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.vc().io(),i=[],s=0;return this.Nc(t,function(o,a){if(a<=e){var u=n.xc(t,o).next(function(e){if(!e)return s++,r.Jn(t,o).next(function(){return r.Hn(o),l_(t).delete([0,av(o.path)])})});i.push(u)}}).next(function(){return kb.qn(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Lo);return this.db.Vc().So(t,n)},t.prototype.Fc=function(t,e){return y_(t,e)},t.prototype.Nc=function(t,e){var n,r=l_(t),i=Mb.Ds;return r._i({index:Wv.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Mb.Ds&&e(new yg(lv(n)),i),i=o,n=s):i=Mb.Ds}).next(function(){i!==Mb.Ds&&e(new yg(lv(n)),i)})},t.prototype.Pr=function(t){return this.db.vc().oo(t)},t}();function y_(t,e){return l_(t).put(function(t,e){return new Wv(0,av(t.path),e)}(e,t.Lo))}function b_(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var v_=function(){function t(t,e,n,r){this.persistence=t,this.Oc=e,this.serializer=r,this.Mc=new Pg(ug),this.kc=new Ib(function(t){return Og(t)},Sg),this.$c=dg.min(),this.rs=t.yc(n),this.Lc=t.vc(),this.Yo=t.Vc(),this.Bc=new Lb(this.Lc,this.rs,this.persistence.bc()),this.Xo=t.Sc(),this.Oc.yr(this.Bc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Rr(n,e.Mc)})},t}();function __(t,e,n,r){return new v_(t,e,n,r)}function w_(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Rl.d)(this,function(o){switch(o.label){case 0:return n=Xp(t),r=n.rs,i=n.Bc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.rs.qr(t).next(function(o){return s=o,r=n.persistence.yc(e),i=new Lb(n.Lc,r,n.persistence.bc()),r.qr(t)}).next(function(e){for(var n=[],r=[],o=Yg(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i._s(t,o).next(function(t){return{qc:t,Uc:n,Qc:r}})})})];case 1:return s=o.sent(),[2,(n.rs=r,n.Bc=i,n.Oc.yr(n.Bc),s)]}})})}function E_(t,e){var n=Xp(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Lc.io({ro:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=kb.resolve();return s.forEach(function(t){o=o.next(function(){return r.Jn(e,t)}).next(function(e){var s=e,o=n.Sn.get(t);Zp(null!==o),(!s||s.version.F(o)<0)&&(s=i.yn(t,s,n))&&r.jn(s,n.bn)})}),o.next(function(){return t.rs.Qr(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.rs.Gr(t)}).next(function(){return n.Bc._s(t,r)})})}function O_(t){var e=Xp(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Yo.Po(t)})}function S_(t,e){var n=Xp(t),r=e.ft,i=n.Mc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Lc.io({ro:!0});i=n.Mc;var o=[];e.re.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.Yo.Mo(t,e.de,s).next(function(){return n.Yo.Fo(t,e._e,s)}));var u=e.resumeToken;if(u.ht()>0){var c=a.wt(u,r).dt(t.Lo);i=i.Tt(s,c),function(t,e,n){return Zp(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(a,c,e)&&o.push(n.Yo.So(t,c))}}});var a=Vg();if(e.ce.forEach(function(r,i){e.ue.has(r)&&o.push(n.persistence.Dr.Fc(t,r))}),o.push(function(t,e,n,r,i){var s=Yg();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var i=Vg();return n.forEach(function(n,s){var o=t.get(n),a=r;s instanceof $y&&s.version.isEqual(dg.min())?(e.Hn(n,a),i=i.Tt(n,s)):null==o||s.version.F(o.version)>0||0===s.version.F(o.version)&&o.hasPendingWrites?(e.jn(s,a),i=i.Tt(n,s)):$p("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),i})}(t,s,e.ce,r).next(function(t){a=t})),!r.isEqual(dg.min())){var u=n.Yo.Po(t).next(function(e){return n.Yo.Vo(t,t.Lo,r)});o.push(u)}return kb.qn(o).next(function(){return s.apply(t)}).next(function(){return n.Bc.fs(t,a)})}).then(function(t){return n.Mc=i,t})}function T_(t,e){var n=Xp(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.rs.Lr(t,e)})}function C_(t,e){var n=Xp(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Yo.xo(t,e).next(function(i){return i?kb.resolve(r=i):n.Yo.mo(t).next(function(i){return r=new kg(e,i,0,t.Lo),n.Yo.po(t,r).next(function(){return r})})})}).then(function(t){var r=n.Mc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Mc=n.Mc.Tt(t.targetId,t),n.kc.set(e,t.targetId)),t})}function x_(t,e,n){return Object(Rl.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Rl.d)(this,function(a){switch(a.label){case 0:r=Xp(t),i=r.Mc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.Dr.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!qb(o=a.sent()))throw o;return $p("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Mc=r.Mc.remove(e),r.kc.delete(i.target),[2]}})})}function I_(t,e,n){var r=Xp(t),i=dg.min(),s=Yg();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Xp(t),i=r.kc.get(n);return void 0!==i?kb.resolve(r.Mc.get(i)):r.Yo.xo(e,n)}(r,t,rb(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Yo.$o(t,e.targetId).next(function(t){s=t})}).next(function(){return r.Oc.ws(t,e,n?i:dg.min(),n?s:Yg())}).next(function(t){return{documents:t,Kc:s}})})}function k_(t,e){var n=Xp(t),r=Xp(n.Yo),i=n.Mc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Ze(t,e).next(function(t){return t?t.target:null})})}function A_(t){var e=Xp(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Xp(t),i=Vg(),s=pv(n),o=Dv(e),a=IDBKeyRange.lowerBound(s,!0);return o._i({index:Hv.readTimeIndex,range:a},function(t,e){var n=dv(r.serializer,e);i=i.Tt(n.key,n),s=e.readTime}).next(function(){return{Wc:i,readTime:gv(s)}})}(e.Lc,t,e.$c)}).then(function(t){var n=t.Wc;return e.$c=t.readTime,n})}function D_(t){return Object(Rl.b)(this,void 0,void 0,function(){var e;return Object(Rl.d)(this,function(n){return[2,(e=Xp(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Dv(t),n=dg.min();return e._i({index:Hv.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=gv(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$c=t})]})})}function j_(t){return Object(Rl.b)(this,void 0,void 0,function(){return Object(Rl.d)(this,function(e){if(t.code!==Jp.FAILED_PRECONDITION||t.message!==Rb)throw t;return $p("LocalStore","Unexpectedly lost primary lease"),[2]})})}var P_=function(){function t(t,e,n,r,i,s){this.Cs=t,this.jc=n,this.Gc=r,this.zc=i,this.listener=s,this.state=0,this.Hc=0,this.Jc=null,this.stream=null,this.Si=new Vb(t,e)}return t.prototype.Yc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Xc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Zc()},t.prototype.stop=function(){return Object(Rl.b)(this,void 0,void 0,function(){return Object(Rl.d)(this,function(t){switch(t.label){case 0:return this.Yc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.tu=function(){this.state=0,this.Si.reset()},t.prototype.eu=function(){var t=this;this.Xc()&&null===this.Jc&&(this.Jc=this.Cs.Us(this.jc,6e4,function(){return t.nu()}))},t.prototype.su=function(t){this.iu(),this.stream.send(t)},t.prototype.nu=function(){return Object(Rl.b)(this,void 0,void 0,function(){return Object(Rl.d)(this,function(t){return this.Xc()?[2,this.close(0)]:[2]})})},t.prototype.iu=function(){this.Jc&&(this.Jc.cancel(),this.Jc=null)},t.prototype.close=function(t,e){return Object(Rl.b)(this,void 0,void 0,function(){return Object(Rl.d)(this,function(n){switch(n.label){case 0:return this.iu(),this.Si.cancel(),this.Hc++,3!==t?this.Si.reset():e&&e.code===Jp.RESOURCE_EXHAUSTED?(Wp(e.toString()),Wp("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===Jp.UNAUTHENTICATED&&this.zc.m(),null!==this.stream&&(this.ru(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ou(e)];case 1:return n.sent(),[2]}})})},t.prototype.ru=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.cu(this.Hc),n=this.Hc;this.zc.getToken().then(function(e){t.Hc===n&&t.uu(e)},function(n){e(function(){var e=new tg(Jp.UNKNOWN,"Fetching auth token failed: "+n.message);return t.au(e)})})},t.prototype.uu=function(t){var e=this,n=this.cu(this.Hc);this.stream=this.hu(t),this.stream.lu(function(){n(function(){return e.state=2,e.listener.lu()})}),this.stream.ou(function(t){n(function(){return e.au(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Zc=function(){var t=this;this.state=4,this.Si.Bs(function(){return Object(Rl.b)(t,void 0,void 0,function(){return Object(Rl.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.au=function(t){return $p("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.cu=function(t){var e=this;return function(n){e.Cs.Ri(function(){return e.Hc===t?n():($p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),R_=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return Object(Rl.c)(e,t),e.prototype.hu=function(t){return this.Gc._u("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Qp()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.tn?(Zp(void 0===e||"string"==typeof e),Cg.fromBase64String(e||"")):(Zp(void 0===e||e instanceof Uint8Array),Cg.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?Jp.UNKNOWN:jg(t.code);return new tg(e,t.message||"")}(o);n=new em(r,i,s,a||null)}else if("documentChange"in e){var u=e.documentChange,c=zm(t,u.document.name),l=Mm(u.document.updateTime),h=new By({mapValue:{fields:u.document.fields}}),d=new Yy(c,l,h,{});n=new Jg(u.targetIds||[],u.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){var f=e.documentDelete,p=zm(t,f.document),g=f.readTime?Mm(f.readTime):dg.min(),m=new $y(p,g);n=new Jg([],f.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){var y=e.documentRemove,b=zm(t,y.document);n=new Jg([],y.removedTargetIds||[],b,null)}else{if(!("filter"in e))return Qp();var v=e.filter,_=new Ag(v.count||0);n=new tm(v.targetId,_)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return dg.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?dg.min():e.readTime?Mm(e.readTime):dg.min()}(t);return this.listener.fu(e,n)},e.prototype.du=function(t){var e={};e.database=Ym(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=Tg(r)?{documents:Qm(t,r)}:{query:Zm(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=Lm(t,e.resumeToken):e.ft.F(dg.min())>0&&(n.readTime=Nm(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Qp()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.su(e)},e.prototype.wu=function(t){var e={};e.database=Ym(this.serializer),e.removeTarget=t,this.su(e)},e}(P_),N_=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o.Eu=!1,o}return Object(Rl.c)(e,t),Object.defineProperty(e.prototype,"Tu",{get:function(){return this.Eu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Eu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ru=function(){this.Eu&&this.Iu([])},e.prototype.hu=function(t){return this.Gc._u("Write",t)},e.prototype.onMessage=function(t){if(Zp(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Eu){this.Si.reset();var e=function(t,e){return t&&t.length>0?(Zp(void 0!==e),t.map(function(t){return function(t,e){var n=Mm(t.updateTime?t.updateTime:e);n.isEqual(dg.min())&&(n=Mm(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Sy(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Mm(t.commitTime);return this.listener.mu(n,e)}return Zp(!t.writeResults||0===t.writeResults.length),this.Eu=!0,this.listener.Au()},e.prototype.Ru=function(){var t={};t.database=Ym(this.serializer),this.su(t)},e.prototype.Iu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Gm(e.serializer,t)})};this.su(n)},e}(P_),L_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Gc=n,i.serializer=r,i.Pu=!1,i}return Object(Rl.c)(e,t),e.prototype.gu=function(){if(this.Pu)throw new tg(Jp.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.yu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then(function(i){return r.Gc.yu(t,e,n,i)}).catch(function(t){throw t.code===Jp.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.Vu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then(function(i){return r.Gc.Vu(t,e,n,i)}).catch(function(t){throw t.code===Jp.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.terminate=function(){this.Pu=!1},e}(function(){}),F_=function(){function t(t,e){this.di=t,this.pu=e,this.state="Unknown",this.vu=0,this.bu=null,this.Su=!0}return t.prototype.Du=function(){var t=this;0===this.vu&&(this.Cu("Unknown"),this.bu=this.di.Us("online_state_timeout",1e4,function(){return t.bu=null,t.Nu("Backend didn't respond within 10 seconds."),t.Cu("Offline"),Promise.resolve()}))},t.prototype.xu=function(t){"Online"===this.state?this.Cu("Unknown"):(this.vu++,this.vu>=1&&(this.Fu(),this.Nu("Connection failed 1 times. Most recent error: "+t.toString()),this.Cu("Offline")))},t.prototype.set=function(t){this.Fu(),this.vu=0,"Online"===t&&(this.Su=!1),this.Cu(t)},t.prototype.Cu=function(t){t!==this.state&&(this.state=t,this.pu(t))},t.prototype.Nu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Su?(Wp(e),this.Su=!1):$p("OnlineStateTracker",e)},t.prototype.Fu=function(){null!==this.bu&&(this.bu.cancel(),this.bu=null)},t}(),M_=function(t,e,n,r,i){var s=this;this.Ou=t,this.Mu=e,this.di=n,this.ku={},this.$u=[],this.Lu=new Map,this.Bu=new Set,this.qu=[],this.Uu=i,this.Uu.Qu(function(t){n.Ri(function(){return Object(Rl.b)(s,void 0,void 0,function(){return Object(Rl.d)(this,function(t){switch(t.label){case 0:return W_(this)?($p("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Rl.b)(this,void 0,void 0,function(){var e;return Object(Rl.d)(this,function(n){switch(n.label){case 0:return(e=Xp(t)).Bu.add(4),[4,U_(e)];case 1:return n.sent(),e.Ku.set("Unknown"),e.Bu.delete(4),[4,V_(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Ku=new F_(n,r)};function V_(t){return Object(Rl.b)(this,void 0,void 0,function(){var e,n;return Object(Rl.d)(this,function(r){switch(r.label){case 0:if(!W_(t))return[3,4];e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function U_(t){return Object(Rl.b)(this,void 0,void 0,function(){var e,n;return Object(Rl.d)(this,function(r){switch(r.label){case 0:e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function B_(t,e){var n=Xp(t);n.Lu.has(e.targetId)||(n.Lu.set(e.targetId,e),$_(n)?Y_(n):uw(n).Xc()&&q_(n,e))}function z_(t,e){var n=Xp(t),r=uw(n);n.Lu.delete(e),r.Xc()&&H_(n,e),0===n.Lu.size&&(r.Xc()?r.eu():W_(n)&&n.Ku.set("Unknown"))}function q_(t,e){t.Wu.De(e.targetId),uw(t).du(e)}function H_(t,e){t.Wu.De(e),uw(t).wu(e)}function Y_(t){t.Wu=new rm({Xe:function(e){return t.ku.Xe(e)},Ze:function(e){return t.Lu.get(e)||null}}),uw(t).start(),t.Ku.Du()}function $_(t){return W_(t)&&!uw(t).Yc()&&t.Lu.size>0}function W_(t){return 0===Xp(t).Bu.size}function G_(t){t.Wu=void 0}function K_(t){return Object(Rl.b)(this,void 0,void 0,function(){return Object(Rl.d)(this,function(e){return t.Lu.forEach(function(e,n){q_(t,e)}),[2]})})}function Q_(t,e){return Object(Rl.b)(this,void 0,void 0,function(){return Object(Rl.d)(this,function(n){return G_(t),$_(t)?(t.Ku.xu(e),Y_(t)):t.Ku.set("Unknown"),[2]})})}function Z_(t,e,n){return Object(Rl.b)(this,void 0,void 0,function(){var r,i,s;return Object(Rl.d)(this,function(o){switch(o.label){case 0:if(t.Ku.set("Online"),!(e instanceof em&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Rl.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Lu.has(s=i[r])?[4,t.ku.ju(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Lu.delete(s),t.Wu.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),$p("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,X_(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Jg?t.Wu.$e(e):e instanceof tm?t.Wu.je(e):t.Wu.qe(e),n.isEqual(dg.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,O_(t.Ou)];case 8:return i=o.sent(),n.F(i)>=0?[4,function(t,e){var n=t.Wu.He(e);return n.re.forEach(function(n,r){if(n.resumeToken.ht()>0){var i=t.Lu.get(r);i&&t.Lu.set(r,i.wt(n.resumeToken,e))}}),n.oe.forEach(function(e){var n=t.Lu.get(e);if(n){t.Lu.set(e,n.wt(Cg.lt,n.ft)),H_(t,e);var r=new kg(n.target,e,1,n.sequenceNumber);q_(t,r)}}),t.ku.Gu(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return $p("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,X_(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function X_(t,e,n){return Object(Rl.b)(this,void 0,void 0,function(){var r=this;return Object(Rl.d)(this,function(i){switch(i.label){case 0:if(!qb(e))throw e;return t.Bu.add(1),[4,U_(t)];case 1:return i.sent(),t.Ku.set("Offline"),n||(n=function(){return O_(t.Ou)}),t.di.Mi(function(){return Object(Rl.b)(r,void 0,void 0,function(){return Object(Rl.d)(this,function(e){switch(e.label){case 0:return $p("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Bu.delete(1),[4,V_(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function J_(t,e){return e().catch(function(n){return X_(t,n,e)})}function tw(t){return Object(Rl.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(Rl.d)(this,function(o){switch(o.label){case 0:e=Xp(t),n=cw(e),r=e.$u.length>0?e.$u[e.$u.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return W_(t)&&t.$u.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,T_(e.Ou,r)];case 3:return null===(i=o.sent())?(0===e.$u.length&&n.eu(),[3,7]):(r=i.batchId,function(t,e){t.$u.push(e);var n=cw(t);n.Xc()&&n.Tu&&n.Iu(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,X_(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return ew(e)&&nw(e),[2]}})})}function ew(t){return W_(t)&&!cw(t).Yc()&&t.$u.length>0}function nw(t){cw(t).start()}function rw(t){return Object(Rl.b)(this,void 0,void 0,function(){return Object(Rl.d)(this,function(e){return cw(t).Ru(),[2]})})}function iw(t){return Object(Rl.b)(this,void 0,void 0,function(){var e,n,r;return Object(Rl.d)(this,function(i){for(e=cw(t),n=0,r=t.$u;n<r.length;n++)e.Iu(r[n].mutations);return[2]})})}function sw(t,e,n){return Object(Rl.b)(this,void 0,void 0,function(){var r,i;return Object(Rl.d)(this,function(s){switch(s.label){case 0:return r=t.$u.shift(),i=xb.from(r,e,n),[4,J_(t,function(){return t.ku.zu(i)})];case 1:return s.sent(),[4,tw(t)];case 2:return s.sent(),[2]}})})}function ow(t,e){return Object(Rl.b)(this,void 0,void 0,function(){return Object(Rl.d)(this,function(n){switch(n.label){case 0:return e&&cw(t).Tu?[4,function(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n,r;return Object(Rl.d)(this,function(i){switch(i.label){case 0:return Dg(r=e.code)&&r!==Jp.ABORTED?(n=t.$u.shift(),cw(t).tu(),[4,J_(t,function(){return t.ku.Hu(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,tw(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ew(t)&&nw(t),[2]}})})}function aw(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n;return Object(Rl.d)(this,function(r){switch(r.label){case 0:return n=Xp(t),e?(n.Bu.delete(2),[4,V_(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Bu.add(2),[4,U_(n)]);case 3:r.sent(),n.Ku.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function uw(t){var e=this;return t.Ju||(t.Ju=function(t,e,n){var r=Xp(t);return r.gu(),new R_(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:K_.bind(null,t),ou:Q_.bind(null,t),fu:Z_.bind(null,t)}),t.qu.push(function(n){return Object(Rl.b)(e,void 0,void 0,function(){return Object(Rl.d)(this,function(e){switch(e.label){case 0:return n?(t.Ju.tu(),$_(t)?Y_(t):t.Ku.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ju.stop()];case 2:e.sent(),G_(t),e.label=3;case 3:return[2]}})})})),t.Ju}function cw(t){var e=this;return t.Yu||(t.Yu=function(t,e,n){var r=Xp(t);return r.gu(),new N_(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:rw.bind(null,t),ou:ow.bind(null,t),Au:iw.bind(null,t),mu:sw.bind(null,t)}),t.qu.push(function(n){return Object(Rl.b)(e,void 0,void 0,function(){return Object(Rl.d)(this,function(e){switch(e.label){case 0:return n?(t.Yu.tu(),[4,tw(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Yu.stop()];case 3:e.sent(),t.$u.length>0&&($p("RemoteStore","Stopping write stream with "+t.$u.length+" pending writes"),t.$u=[]),e.label=4;case 4:return[2]}})})})),t.Yu}var lw=function(){this.Xu=void 0,this.listeners=[]},hw=function(){this.queries=new Ib(function(t){return ob(t)},sb),this.onlineState="Unknown",this.Zu=new Set};function dw(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Rl.d)(this,function(c){switch(c.label){case 0:if(n=Xp(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new lw),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.ta(r)];case 2:return o.Xu=c.sent(),[3,4];case 3:return a=c.sent(),u=Jb(a,"Initialization of query '"+ab(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.ea(n.onlineState),s.Xu&&e.na(s.Xu)&&mw(n),[2]}})})}function fw(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Rl.d)(this,function(a){return n=Xp(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.sa(r))]:[2]})})}function pw(t,e){for(var n=Xp(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].na(o)&&(r=!0);a.Xu=o}}r&&mw(n)}function gw(t,e,n){var r=Xp(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function mw(t){t.Zu.forEach(function(t){t.next()})}var yw=function(){function t(t,e,n){this.query=t,this.ia=e,this.ra=!1,this.oa=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.na=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Qg(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var s=!1;return this.ra?this.ca(t)&&(this.ia.next(t),s=!0):this.ua(t,this.onlineState)&&(this.aa(t),s=!0),this.oa=t,s},t.prototype.onError=function(t){this.ia.error(t)},t.prototype.ea=function(t){this.onlineState=t;var e=!1;return this.oa&&!this.ra&&this.ua(this.oa,t)&&(this.aa(this.oa),e=!0),e},t.prototype.ua=function(t,e){return!t.fromCache||!(this.options.ha&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.ca=function(t){return t.docChanges.length>0||!!(t.ne||this.oa&&this.oa.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.aa=function(t){t=Qg.ie(t.query,t.docs,t.ee,t.fromCache),this.ra=!0,this.ia.next(t)},t}(),bw=function(){function t(){this.la=new Lg(vw._a),this.fa=new Lg(vw.da)}return t.prototype.W=function(){return this.la.W()},t.prototype.Oo=function(t,e){var n=new vw(t,e);this.la=this.la.add(n),this.fa=this.fa.add(n)},t.prototype.wa=function(t,e){var n=this;t.forEach(function(t){return n.Oo(t,e)})},t.prototype.ko=function(t,e){this.Ea(new vw(t,e))},t.prototype.Ta=function(t,e){var n=this;t.forEach(function(t){return n.ko(t,e)})},t.prototype.Ia=function(t){var e=this,n=new yg(new pg([])),r=new vw(n,t),i=new vw(n,t+1),s=[];return this.fa.Kt([r,i],function(t){e.Ea(t),s.push(t.key)}),s},t.prototype.ma=function(){var t=this;this.la.forEach(function(e){return t.Ea(e)})},t.prototype.Ea=function(t){this.la=this.la.delete(t),this.fa=this.fa.delete(t)},t.prototype.Aa=function(t){var e=new yg(new pg([])),n=new vw(e,t),r=new vw(e,t+1),i=Yg();return this.fa.Kt([n,r],function(t){i=i.add(t.key)}),i},t.prototype.zr=function(t){var e=new vw(t,0),n=this.la.jt(e);return null!==n&&t.isEqual(n.key)},t}(),vw=function(){function t(t,e){this.key=t,this.Ra=e}return t._a=function(t,e){return yg.$(t.key,e.key)||ug(t.Ra,e.Ra)},t.da=function(t,e){return ug(t.Ra,e.Ra)||yg.$(t.key,e.key)},t}();function _w(t,e){return"firestore_clients_"+t+"_"+e}function ww(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function Ew(t,e){return"firestore_targets_"+t+"_"+e}var Ow=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Pa=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new tg(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(Wp("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Sw=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Pa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new tg(r.error.code,r.error.message)),i?new t(e,r.state,s):(Wp("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Tw=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Pa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Wg(),o=0;i&&o<r.activeTargetIds.length;++o)i=_g(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Wp("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Cw=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Pa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Wp("SharedClientState","Failed to parse online state: "+e),null)},t}(),xw=function(){function t(){this.activeTargetIds=Wg()}return t.prototype.ya=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Va=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ga=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Iw=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.pa=r,this.va=null,this.pu=null,this.ps=null,this.ba=this.Sa.bind(this),this.Da=new Pg(ug),this.lr=!1,this.Ca=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Na=_w(this.persistenceKey,this.pa),this.xa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Da=this.Da.Tt(this.pa,new xw),this.Fa=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Oa=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Ma=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ka=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.$a=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ba)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Rl.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(Rl.d)(this,function(h){switch(h.label){case 0:return[4,this.va.gc()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.pa&&(i=this.getItem(_w(this.persistenceKey,r)))&&(s=Tw.Pa(r,i))&&(this.Da=this.Da.Tt(s.clientId,s));for(this.La(),(o=this.storage.getItem(this.ka))&&(a=this.Ba(o))&&this.qa(a),u=0,c=this.Ca;u<c.length;u++)this.Sa(c[u]);return this.Ca=[],this.window.addEventListener("unload",function(){return l.Ic()}),this.lr=!0,[2]}})})},t.prototype.Ss=function(t){this.setItem(this.xa,JSON.stringify(t))},t.prototype.Ua=function(){return this.Qa(this.Da)},t.prototype.Ka=function(t){var e=!1;return this.Da.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Wa=function(t){this.ja(t,"pending")},t.prototype.Ga=function(t,e,n){this.ja(t,e,n),this.za(t)},t.prototype.Ha=function(t){var e="not-current";if(this.Ka(t)){var n=this.storage.getItem(Ew(this.persistenceKey,t));if(n){var r=Sw.Pa(t,n);r&&(e=r.state)}}return this.Ja.ya(t),this.La(),e},t.prototype.Ya=function(t){this.Ja.Va(t),this.La()},t.prototype.Xa=function(t){return this.Ja.activeTargetIds.has(t)},t.prototype.Za=function(t){this.removeItem(Ew(this.persistenceKey,t))},t.prototype.th=function(t,e,n){this.eh(t,e,n)},t.prototype.nh=function(t,e,n){var r=this;e.forEach(function(t){r.za(t)}),this.currentUser=t,n.forEach(function(t){r.Wa(t)})},t.prototype.sh=function(t){this.ih(t)},t.prototype.rh=function(){this.oh()},t.prototype.Ic=function(){this.lr&&(this.window.removeEventListener("storage",this.ba),this.removeItem(this.Na),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return $p("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){$p("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){$p("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Sa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if($p("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Na)return void Wp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi(function(){return Object(Rl.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(Rl.d)(this,function(a){if(this.lr){if(null!==n.key)if(this.Fa.test(n.key)){if(null==n.newValue)return t=this.uh(n.key),[2,this.ah(t,null)];if(e=this.hh(n.key,n.newValue))return[2,this.ah(e.clientId,e)]}else if(this.Oa.test(n.key)){if(null!==n.newValue&&(r=this.lh(n.key,n.newValue)))return[2,this._h(r)]}else if(this.Ma.test(n.key)){if(null!==n.newValue&&(i=this.fh(n.key,n.newValue)))return[2,this.dh(i)]}else if(n.key===this.ka){if(null!==n.newValue&&(s=this.Ba(n.newValue)))return[2,this.qa(s)]}else if(n.key===this.xa)(o=function(t){var e=Mb.Ds;if(null!=t)try{var n=JSON.parse(t);Zp("number"==typeof n),e=n}catch(t){Wp("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Mb.Ds&&this.ps(o);else if(n.key===this.$a)return[2,this.va.wh()]}else this.Ca.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ja",{get:function(){return this.Da.get(this.pa)},enumerable:!1,configurable:!0}),t.prototype.La=function(){this.setItem(this.Na,this.Ja.ga())},t.prototype.ja=function(t,e,n){var r=new Ow(this.currentUser,t,e,n),i=ww(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ga())},t.prototype.za=function(t){var e=ww(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ih=function(t){this.storage.setItem(this.ka,JSON.stringify({clientId:this.pa,onlineState:t}))},t.prototype.eh=function(t,e,n){var r=Ew(this.persistenceKey,t),i=new Sw(t,e,n);this.setItem(r,i.ga())},t.prototype.oh=function(){this.setItem(this.$a,"value-not-used")},t.prototype.uh=function(t){var e=this.Fa.exec(t);return e?e[1]:null},t.prototype.hh=function(t,e){var n=this.uh(t);return Tw.Pa(n,e)},t.prototype.lh=function(t,e){var n=this.Oa.exec(t),r=Number(n[1]);return Ow.Pa(new qp(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fh=function(t,e){var n=this.Ma.exec(t),r=Number(n[1]);return Sw.Pa(r,e)},t.prototype.Ba=function(t){return Cw.Pa(t)},t.prototype._h=function(t){return Object(Rl.b)(this,void 0,void 0,function(){return Object(Rl.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.va.Eh(t.batchId,t.state,t.error)]:($p("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.dh=function(t){return this.va.Th(t.targetId,t.state,t.error)},t.prototype.ah=function(t,e){var n=this,r=e?this.Da.Tt(t,e):this.Da.remove(t),i=this.Qa(this.Da),s=this.Qa(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.va.Ih(o,a).then(function(){n.Da=r})},t.prototype.qa=function(t){this.Da.get(t.clientId)&&this.pu(t.onlineState)},t.prototype.Qa=function(t){var e=Wg();return t.forEach(function(t,n){e=e.Gt(n.activeTargetIds)}),e},t}(),kw=function(){function t(){this.mh=new xw,this.Ah={},this.pu=null,this.ps=null}return t.prototype.Wa=function(t){},t.prototype.Ga=function(t,e,n){},t.prototype.Ha=function(t){return this.mh.ya(t),this.Ah[t]||"not-current"},t.prototype.th=function(t,e,n){this.Ah[t]=e},t.prototype.Ya=function(t){this.mh.Va(t)},t.prototype.Xa=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.Za=function(t){delete this.Ah[t]},t.prototype.Ua=function(){return this.mh.activeTargetIds},t.prototype.Ka=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.start=function(){return this.mh=new xw,Promise.resolve()},t.prototype.nh=function(t,e,n){},t.prototype.sh=function(t){},t.prototype.Ic=function(){},t.prototype.Ss=function(t){},t.prototype.rh=function(){},t}(),Aw=function(t){this.key=t},Dw=function(t){this.key=t},jw=function(){function t(t,e){this.query=t,this.Rh=e,this.Ph=null,this.le=!1,this.gh=Yg(),this.ee=Yg(),this.yh=cb(t),this.Vh=new Gg(this.yh)}return Object.defineProperty(t.prototype,"ph",{get:function(){return this.Rh},enumerable:!1,configurable:!0}),t.prototype.bh=function(t,e){var n=this,r=e?e.Sh:new Kg,i=e?e.Vh:this.Vh,s=e?e.ee:this.ee,o=i,a=!1,u=Zy(this.query)&&i.size===this.query.limit?i.last():null,c=Xy(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt(function(t,e){var l=i.get(t),h=e instanceof Yy?e:null;h&&(h=ub(n.query,h)?h:null);var d=!!l&&n.ee.has(l.key),f=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.Dh(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.yh(h,u)>0||c&&n.yh(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Zy(this.query)||Xy(this.query))for(;o.size>this.query.limit;){var l=Zy(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Vh:o,Sh:r,br:a,ee:s}},t.prototype.Dh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Vh;this.Vh=t.Vh,this.ee=t.ee;var s=t.Sh.Zt();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qp()}};return n(t)-n(e)}(t.type,e.type)||r.yh(t.doc,e.doc)}),this.Ch(n);var o=e?this.Nh():[],a=0===this.gh.size&&this.le?1:0,u=a!==this.Ph;return this.Ph=a,0!==s.length||u?{snapshot:new Qg(this.query,t.Vh,i,s,t.ee,0===a,u,!1),xh:o}:{xh:o}},t.prototype.ea=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Vh:this.Vh,Sh:new Kg,ee:this.ee,br:!1},!1)):{xh:[]}},t.prototype.Fh=function(t){return!this.Rh.has(t)&&!!this.Vh.has(t)&&!this.Vh.get(t).an},t.prototype.Ch=function(t){var e=this;t&&(t._e.forEach(function(t){return e.Rh=e.Rh.add(t)}),t.fe.forEach(function(t){}),t.de.forEach(function(t){return e.Rh=e.Rh.delete(t)}),this.le=t.le)},t.prototype.Nh=function(){var t=this;if(!this.le)return[];var e=this.gh;this.gh=Yg(),this.Vh.forEach(function(e){t.Fh(e.key)&&(t.gh=t.gh.add(e.key))});var n=[];return e.forEach(function(e){t.gh.has(e)||n.push(new Dw(e))}),this.gh.forEach(function(t){e.has(t)||n.push(new Aw(t))}),n},t.prototype.Oh=function(t){this.Rh=t.Kc,this.gh=Yg();var e=this.bh(t.documents);return this.Zn(e,!0)},t.prototype.Mh=function(){return Qg.ie(this.query,this.Vh,this.ee,0===this.Ph)},t}(),Pw=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Rw=function(t){this.key=t,this.kh=!1},Nw=function(){function t(t,e,n,r,i,s){this.Ou=t,this.$h=e,this.Lh=n,this.Bh=r,this.currentUser=i,this.qh=s,this.Uh={},this.Qh=new Ib(function(t){return ob(t)},sb),this.Kh=new Map,this.Wh=[],this.jh=new Pg(yg.$),this.Gh=new Map,this.zh=new bw,this.Hh={},this.Jh=new Map,this.Yh=o_.Io(),this.onlineState="Unknown",this.Xh=void 0}return Object.defineProperty(t.prototype,"Zh",{get:function(){return!0===this.Xh},enumerable:!1,configurable:!0}),t}();function Lw(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Rl.d)(this,function(a){switch(a.label){case 0:return n=hE(t),(i=n.Qh.get(e))?(n.Bh.Ha(i.targetId),r=i.view.Mh(),[3,4]):[3,1];case 1:return[4,C_(n.Ou,rb(e))];case 2:return s=a.sent(),o=n.Bh.Ha(s.targetId),[4,Fw(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.Zh&&B_(n.$h,s),a.label=4;case 4:return[2,r]}})})}function Fw(t,e,n,r){return Object(Rl.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(Rl.d)(this,function(l){switch(l.label){case 0:return t.tl=function(e,n,r){return function(t,e,n,r){return Object(Rl.b)(this,void 0,void 0,function(){var i,s,o;return Object(Rl.d)(this,function(a){switch(a.label){case 0:return(i=e.view.bh(n)).br?[4,I_(t.Ou,e.query,!1).then(function(t){return e.view.bh(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.re.get(e.targetId),o=e.view.Zn(i,t.Zh,s),[2,(Qw(t,e.targetId,o.xh),o.snapshot)]}})})}(t,e,n,r)},[4,I_(t.Ou,e,!0)];case 1:return i=l.sent(),s=new jw(e,i.Kc),o=s.bh(i.documents),a=Xg.he(n,r&&"Offline"!==t.onlineState),u=s.Zn(o,t.Zh,a),Qw(t,n,u.xh),c=new Pw(e,n,s),[2,(t.Qh.set(e,c),t.Kh.has(n)?t.Kh.get(n).push(e):t.Kh.set(n,[e]),u.snapshot)]}})})}function Mw(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n,r,i;return Object(Rl.d)(this,function(s){switch(s.label){case 0:return n=Xp(t),r=n.Qh.get(e),(i=n.Kh.get(r.targetId)).length>1?[2,(n.Kh.set(r.targetId,i.filter(function(t){return!sb(t,e)})),void n.Qh.delete(e))]:n.Zh?(n.Bh.Ya(r.targetId),n.Bh.Ka(r.targetId)?[3,2]:[4,x_(n.Ou,r.targetId,!1).then(function(){n.Bh.Za(r.targetId),z_(n.$h,r.targetId),Gw(n,r.targetId)}).catch(j_)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Gw(n,r.targetId),[4,x_(n.Ou,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Vw(t,e,n){return Object(Rl.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Rl.d)(this,function(a){switch(a.label){case 0:r=dE(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Xp(t),i=hg.now(),s=e.reduce(function(t,e){return t.add(e.key)},Yg());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Bc._s(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Ay(c,n.get(c.key));null!=l&&o.push(new Ry(c.key,l,qy(l.proto.mapValue),Ty.exists(!0)))}return r.rs.Or(t,i,o,e)})}).then(function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}})}(r.Ou,e)];case 2:return i=a.sent(),r.Bh.Wa(i.batchId),function(t,e,n){var r=t.Hh[t.currentUser.h()];r||(r=new Pg(ug)),r=r.Tt(e,n),t.Hh[t.currentUser.h()]=r}(r,i.batchId,n),[4,Jw(r,i.Qn)];case 3:return a.sent(),[4,tw(r.$h)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Jb(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function Uw(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n,r;return Object(Rl.d)(this,function(i){switch(i.label){case 0:n=Xp(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,S_(n.Ou,e)];case 2:return r=i.sent(),e.re.forEach(function(t,e){var r=n.Gh.get(e);r&&(Zp(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.kh=!0:t.fe.size>0?Zp(r.kh):t.de.size>0&&(Zp(r.kh),r.kh=!1))}),[4,Jw(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,j_(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Bw(t,e,n){var r=Xp(t);if(r.Zh&&0===n||!r.Zh&&1===n){var i=[];r.Qh.forEach(function(t,n){var r=n.view.ea(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Xp(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].ea(e)&&(r=!0)}),r&&mw(n)}(r.Lh,e),i.length&&r.Uh.fu(i),r.onlineState=e,r.Zh&&r.Bh.sh(e)}}function zw(t,e,n){return Object(Rl.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(Rl.d)(this,function(c){switch(c.label){case 0:return(r=Xp(t)).Bh.th(e,"rejected",n),i=r.Gh.get(e),(s=i&&i.key)?(o=(o=new Pg(yg.$)).Tt(s,new $y(s,dg.min())),a=Yg().add(s),u=new Zg(dg.min(),new Map,new Lg(ug),o,a),[4,Uw(r,u)]):[3,2];case 1:return c.sent(),r.jh=r.jh.remove(s),r.Gh.delete(e),Xw(r),[3,4];case 2:return[4,x_(r.Ou,e,!1).then(function(){return Gw(r,e,n)}).catch(j_)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function qw(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n,r,i;return Object(Rl.d)(this,function(s){switch(s.label){case 0:n=Xp(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,E_(n.Ou,e)];case 2:return i=s.sent(),Ww(n,r,null),$w(n,r),n.Bh.Ga(r,"acknowledged"),[4,Jw(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,j_(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Hw(t,e,n){return Object(Rl.b)(this,void 0,void 0,function(){var r,i;return Object(Rl.d)(this,function(s){switch(s.label){case 0:r=Xp(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Xp(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.rs.kr(t,e).next(function(e){return Zp(null!==e),r=e.keys(),n.rs.Qr(t,e)}).next(function(){return n.rs.Gr(t)}).next(function(){return n.Bc._s(t,r)})})}(r.Ou,e)];case 2:return i=s.sent(),Ww(r,e,n),$w(r,e),r.Bh.Ga(e,"rejected",n),[4,Jw(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,j_(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Yw(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Rl.d)(this,function(a){switch(a.label){case 0:W_((n=Xp(t)).$h)||$p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Xp(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.rs.Br(t)})}(n.Ou)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Jh.get(r)||[]).push(e),n.Jh.set(r,i),[3,4]);case 3:return s=a.sent(),o=Jb(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function $w(t,e){(t.Jh.get(e)||[]).forEach(function(t){t.resolve()}),t.Jh.delete(e)}function Ww(t,e,n){var r=Xp(t),i=r.Hh[r.currentUser.h()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Hh[r.currentUser.h()]=i}}function Gw(t,e,n){void 0===n&&(n=null),t.Bh.Ya(e);for(var r=0,i=t.Kh.get(e);r<i.length;r++){var s=i[r];t.Qh.delete(s),n&&t.Uh.el(s,n)}t.Kh.delete(e),t.Zh&&t.zh.Ia(e).forEach(function(e){t.zh.zr(e)||Kw(t,e)})}function Kw(t,e){var n=t.jh.get(e);null!==n&&(z_(t.$h,n),t.jh=t.jh.remove(e),t.Gh.delete(n),Xw(t))}function Qw(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Aw?(t.zh.Oo(s.key,e),Zw(t,s)):s instanceof Dw?($p("SyncEngine","Document no longer in limbo: "+s.key),t.zh.ko(s.key,e),t.zh.zr(s.key)||Kw(t,s.key)):Qp()}}function Zw(t,e){var n=e.key;t.jh.get(n)||($p("SyncEngine","New document in limbo: "+n),t.Wh.push(n),Xw(t))}function Xw(t){for(;t.Wh.length>0&&t.jh.size<t.qh;){var e=t.Wh.shift(),n=t.Yh.next();t.Gh.set(n,new Rw(e)),t.jh=t.jh.Tt(e,n),B_(t.$h,new kg(rb(Qy(e.path)),n,2,Mb.Ds))}}function Jw(t,e,n){return Object(Rl.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Rl.d)(this,function(a){switch(a.label){case 0:return r=Xp(t),i=[],s=[],o=[],r.Qh.W()?[3,3]:(r.Qh.forEach(function(t,a){o.push(r.tl(a,e,n).then(function(t){if(t){r.Zh&&r.Bh.th(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Fb.Vs(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.Uh.fu(i),[4,function(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(Rl.d)(this,function(l){switch(l.label){case 0:n=Xp(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return kb.forEach(e,function(e){return kb.forEach(e.gs,function(r){return n.persistence.Dr.Oo(t,e.targetId,r)}).next(function(){return kb.forEach(e.ys,function(r){return n.persistence.Dr.ko(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!qb(r=l.sent()))throw r;return $p("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Mc.get(a),c=u.Et(u.ft),n.Mc=n.Mc.Tt(a,c));return[2]}})})}(r.Ou,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function tE(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n,r;return Object(Rl.d)(this,function(i){switch(i.label){case 0:return(n=Xp(t)).currentUser.isEqual(e)?[3,3]:($p("SyncEngine","User change. New user:",e.h()),[4,w_(n.Ou,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Jh.forEach(function(t){t.forEach(function(t){t.reject(new tg(Jp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Jh.clear()}(n),n.Bh.nh(e,r.Uc,r.Qc),[4,Jw(n,r.qc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function eE(t,e){var n=Xp(t),r=n.Gh.get(e);if(r&&r.kh)return Yg().add(r.key);var i=Yg(),s=n.Kh.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Qh.get(a[o]);i=i.Gt(u.view.ph)}return i}function nE(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n,r,i;return Object(Rl.d)(this,function(s){switch(s.label){case 0:return[4,I_((n=Xp(t)).Ou,e.query,!0)];case 1:return r=s.sent(),i=e.view.Oh(r),[2,(n.Zh&&Qw(n,e.targetId,i.xh),i)]}})})}function rE(t){return Object(Rl.b)(this,void 0,void 0,function(){var e;return Object(Rl.d)(this,function(n){return[2,A_((e=Xp(t)).Ou).then(function(t){return Jw(e,t)})]})})}function iE(t,e,n,r){return Object(Rl.b)(this,void 0,void 0,function(){var i,s;return Object(Rl.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=Xp(t),r=Xp(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.$r(t,e).next(function(e){return e?n.Bc._s(t,e):kb.resolve(null)})})}((i=Xp(t)).Ou,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,tw(i.$h)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ww(i,e,r||null),$w(i,e),function(t,e){Xp(Xp(t).rs).Wr(e)}(i.Ou,e)):Qp(),o.label=4;case 4:return[4,Jw(i,s)];case 5:return o.sent(),[3,7];case 6:$p("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function sE(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Rl.d)(this,function(c){switch(c.label){case 0:return hE(n=Xp(t)),dE(n),!0!==e||!0===n.Xh?[3,3]:(r=n.Bh.Ua(),[4,oE(n,r.H())]);case 1:return i=c.sent(),n.Xh=!0,[4,aw(n.$h,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)B_(n.$h,o[s]);return[3,7];case 3:return!1!==e||!1===n.Xh?[3,7]:(a=[],u=Promise.resolve(),n.Kh.forEach(function(t,e){n.Bh.Xa(e)?a.push(e):u=u.then(function(){return Gw(n,e),x_(n.Ou,e,!0)}),z_(n.$h,e)}),[4,u]);case 4:return c.sent(),[4,oE(n,a)];case 5:return c.sent(),function(t){var e=Xp(t);e.Gh.forEach(function(t,n){z_(e.$h,n)}),e.zh.ma(),e.Gh=new Map,e.jh=new Pg(yg.$)}(n),n.Xh=!1,[4,aw(n.$h,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function oE(t,e,n){return Object(Rl.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,d,f,p;return Object(Rl.d)(this,function(g){switch(g.label){case 0:n=Xp(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.Kh.get(a=o[s]))&&0!==c.length?[4,C_(n.Ou,rb(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(d=n.Qh.get(h[l]),[4,nE(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,k_(n.Ou,a)];case 8:return p=g.sent(),[4,C_(n.Ou,p)];case 9:return u=g.sent(),[4,Fw(n,aE(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Uh.fu(i),r)]}})})}function aE(t){return Ky(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function uE(t){var e=Xp(t);return Xp(Xp(e.Ou).persistence).gc()}function cE(t,e,n,r){return Object(Rl.b)(this,void 0,void 0,function(){var i,s,o;return Object(Rl.d)(this,function(a){switch(a.label){case 0:return(i=Xp(t)).Xh?($p("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Kh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,A_(i.Ou)];case 3:return s=a.sent(),o=Zg.ae(e,"current"===n),[4,Jw(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,x_(i.Ou,e,!0)];case 6:return a.sent(),Gw(i,e,r),[3,8];case 7:Qp(),a.label=8;case 8:return[2]}})})}function lE(t,e,n){return Object(Rl.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(Rl.d)(this,function(d){switch(d.label){case 0:if(!(r=hE(t)).Xh)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Kh.has(o=s[i])?($p("SyncEngine","Adding an already active target "+o),[3,5]):[4,k_(r.Ou,o)]:[3,6];case 2:return a=d.sent(),[4,C_(r.Ou,a)];case 3:return u=d.sent(),[4,Fw(r,aE(a),u.targetId,!1)];case 4:d.sent(),B_(r.$h,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Rl.d)(this,function(e){switch(e.label){case 0:return r.Kh.has(t)?[4,x_(r.Ou,t,!1).then(function(){z_(r.$h,t),Gw(r,t)}).catch(j_)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function hE(t){var e=Xp(t);return e.$h.ku.Gu=Uw.bind(null,e),e.$h.ku.Xe=eE.bind(null,e),e.$h.ku.ju=zw.bind(null,e),e.Uh.fu=pw.bind(null,e.Lh),e.Uh.el=gw.bind(null,e.Lh),e}function dE(t){var e=Xp(t);return e.$h.ku.zu=qw.bind(null,e),e.$h.ku.Hu=Hw.bind(null,e),e}var fE=function(){function t(t,e){this.os=t,this.Dr=e,this.rs=[],this.nl=1,this.sl=new Lg(vw._a)}return t.prototype.Fr=function(t){return kb.resolve(0===this.rs.length)},t.prototype.Or=function(t,e,n,r){var i=this.nl;this.nl++;var s=new Cb(i,e,n,r);this.rs.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.sl=this.sl.add(new vw(u.key,i)),this.os.Mr(t,u.key.path.q())}return kb.resolve(s)},t.prototype.kr=function(t,e){return kb.resolve(this.il(e))},t.prototype.Lr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return kb.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Br=function(){return kb.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.qr=function(t){return kb.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new vw(e,0),i=new vw(e,Number.POSITIVE_INFINITY),s=[];return this.sl.Kt([r,i],function(t){var e=n.il(t.Ra);s.push(e)}),kb.resolve(s)},t.prototype.ds=function(t,e){var n=this,r=new Lg(ug);return e.forEach(function(t){var e=new vw(t,0),i=new vw(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],function(t){r=r.add(t.Ra)})}),kb.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;yg.ot(i)||(i=i.child(""));var s=new vw(new yg(i),0),o=new Lg(ug);return this.sl.Wt(function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(o=o.add(t.Ra)),!0)},s),kb.resolve(this.ol(o))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.il(t);null!==r&&n.push(r)}),n},t.prototype.Qr=function(t,e){var n=this;Zp(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return kb.forEach(e.mutations,function(i){var s=new vw(i.key,e.batchId);return r=r.delete(s),n.Dr.jr(t,i.key)}).next(function(){n.sl=r})},t.prototype.Wr=function(t){},t.prototype.zr=function(t,e){var n=new vw(e,0),r=this.sl.jt(n);return kb.resolve(e.isEqual(r&&r.key))},t.prototype.Gr=function(t){return kb.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),pE=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new Pg(yg.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:o,readTime:n}),this.size+=o-s,this.os.Mr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return kb.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ug();return e.forEach(function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)}),kb.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=zg(),i=new yg(e.path.child("")),s=this.docs.Vt(i);s.Nt();){var o=s.Ct(),a=o.value,u=a.zn,c=a.readTime;if(!e.path.j(o.key.path))break;c.F(n)<=0||u instanceof Yy&&ub(e,u)&&(r=r.Tt(u.key,u))}return kb.resolve(r)},t.prototype.al=function(t,e){return kb.forEach(this.docs,function(t){return e(t)})},t.prototype.io=function(t){return new gE(this)},t.prototype.oo=function(t){return kb.resolve(this.size)},t}(),gE=function(t){function e(e){var n=this;return(n=t.call(this)||this).co=e,n}return Object(Rl.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach(function(r,i){i&&i.zn?n.push(e.co.jn(t,i.zn,e.Wn(r))):e.co.Hn(r)}),kb.qn(n)},e.prototype.Yn=function(t,e){return this.co.Jn(t,e)},e.prototype.Xn=function(t,e){return this.co.getEntries(t,e)},e}(Ab),mE=function(){function t(t){this.persistence=t,this.hl=new Ib(function(t){return Og(t)},Sg),this.lastRemoteSnapshotVersion=dg.min(),this.highestTargetId=0,this.ll=0,this._l=new bw,this.targetCount=0,this.fl=o_.To()}return t.prototype.Ue=function(t,e){return this.hl.forEach(function(t,n){return e(n)}),kb.resolve()},t.prototype.Po=function(t){return kb.resolve(this.lastRemoteSnapshotVersion)},t.prototype.yo=function(t){return kb.resolve(this.ll)},t.prototype.mo=function(t){return this.highestTargetId=this.fl.next(),kb.resolve(this.highestTargetId)},t.prototype.Vo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),kb.resolve()},t.prototype.vo=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new o_(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.po=function(t,e){return this.vo(e),this.targetCount+=1,kb.resolve()},t.prototype.So=function(t,e){return this.vo(e),kb.resolve()},t.prototype.Do=function(t,e){return this.hl.delete(e.target),this._l.Ia(e.targetId),this.targetCount-=1,kb.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return this.hl.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(o),s.push(r.Co(t,a.targetId)),i++)}),kb.qn(s).next(function(){return i})},t.prototype.No=function(t){return kb.resolve(this.targetCount)},t.prototype.xo=function(t,e){var n=this.hl.get(e)||null;return kb.resolve(n)},t.prototype.Fo=function(t,e,n){return this._l.wa(e,n),kb.resolve()},t.prototype.Mo=function(t,e,n){this._l.Ta(e,n);var r=this.persistence.Dr,i=[];return r&&e.forEach(function(e){i.push(r.jr(t,e))}),kb.qn(i)},t.prototype.Co=function(t,e){return this._l.Ia(e),kb.resolve()},t.prototype.$o=function(t,e){var n=this._l.Aa(e);return kb.resolve(n)},t.prototype.zr=function(t,e){return kb.resolve(this._l.zr(e))},t}(),yE=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ho=function(t,e){return kb.resolve(this.dl.get(e))},t.prototype.lo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:Mm(n.createTime)}),kb.resolve()},t.prototype._o=function(t,e){return kb.resolve(this.wl.get(e))},t.prototype.fo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:wv(n.bundledQuery),readTime:Mm(n.readTime)}),kb.resolve()},t}(),bE=function(){function t(t,e){var n=this;this.El={},this.Uo=new Mb(0),this.Qo=!1,this.Qo=!0,this.Dr=t(this),this.Yo=new mE(this),this.os=new Rv,this.ss=function(t,e){return new pE(t,function(t){return n.Dr.Tl(t)})}(this.os),this.serializer=new hv(e),this.Xo=new yE(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Ic=function(){return this.Qo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.rc=function(){},t.prototype.oc=function(){},t.prototype.bc=function(){return this.os},t.prototype.yc=function(t){var e=this.El[t.h()];return e||(e=new fE(this.os,this.Dr),this.El[t.h()]=e),e},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r=this;$p("MemoryPersistence","Starting transaction:",t);var i=new vE(this.Uo.next());return this.Dr.Il(),n(i).next(function(t){return r.Dr.ml(i).next(function(){return t})}).Ln().then(function(t){return i.ns(),t})},t.prototype.Al=function(t,e){return kb.Un(Object.values(this.El).map(function(n){return function(){return n.zr(t,e)}}))},t}(),vE=function(t){function e(e){var n=this;return(n=t.call(this)||this).Lo=e,n}return Object(Rl.c)(e,t),e}(Nb),_E=function(){function t(t){this.persistence=t,this.Rl=new bw,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw Qp()},enumerable:!1,configurable:!0}),t.prototype.Oo=function(t,e,n){return this.Rl.Oo(n,e),this.yl.delete(n.toString()),kb.resolve()},t.prototype.ko=function(t,e,n){return this.Rl.ko(n,e),this.yl.add(n.toString()),kb.resolve()},t.prototype.jr=function(t,e){return this.yl.add(e.toString()),kb.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.Ia(e.targetId).forEach(function(t){return n.yl.add(t.toString())});var r=this.persistence.Vc();return r.$o(t,e.targetId).next(function(t){t.forEach(function(t){return n.yl.add(t.toString())})}).next(function(){return r.Do(t,e)})},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.vc().io();return kb.forEach(this.yl,function(r){var i=yg.st(r);return e.Vl(t,i).next(function(t){t||n.Hn(i)})}).next(function(){return e.Pl=null,n.apply(t)})},t.prototype.Fc=function(t,e){var n=this;return this.Vl(t,e).next(function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())})},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return kb.Un([function(){return kb.resolve(n.Rl.zr(e))},function(){return n.persistence.Vc().zr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),wE=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.lu=function(t){this.bl=t},t.prototype.ou=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),EE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},OE=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Rl.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise(function(i,s){var o=new Vp;o.listenOnce(Lp.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Np.NO_ERROR:var e=o.getResponseJson();$p("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Np.TIMEOUT:$p("Connection",'RPC "'+t+'" timed out'),s(new tg(Jp.DEADLINE_EXCEEDED,"Request time out"));break;case Np.HTTP_ERROR:var n=o.getStatus();if($p("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Jp).indexOf(e)>=0?e:Jp.UNKNOWN}(r.status);s(new tg(a,r.message))}else s(new tg(Jp.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new tg(Jp.UNAVAILABLE,"Connection failed."));break;default:Qp()}}finally{$p("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype._u=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Ap,i=jd(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(s.initMessageHeaders,e),Object(Fl.p)()||Object(Fl.r)()||Object(Fl.m)()||Object(Fl.n)()||Object(Fl.s)()||Object(Fl.l)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");$p("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new wE({pl:function(t){c?$p("Connection","Not sending because WebChannel is closed:",t):(u||($p("Connection","Opening WebChannel transport."),a.open(),u=!0),$p("Connection","WebChannel sending:",t),a.send(t))},vl:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Mp.EventType.OPEN,function(){c||$p("Connection","WebChannel transport opened.")}),h(a,Mp.EventType.CLOSE,function(){c||(c=!0,$p("Connection","WebChannel transport closed"),l.Nl())}),h(a,Mp.EventType.ERROR,function(t){c||(c=!0,Gp("Connection","WebChannel transport errored:",t),l.Nl(new tg(Jp.UNAVAILABLE,"The operation could not be completed")))}),h(a,Mp.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Zp(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){$p("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=xg[t];if(void 0!==e)return jg(e)}(i),o=r.message;void 0===s&&(s=Jp.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new tg(s,o)),a.close()}else $p("Connection","WebChannel received:",n),l.xl(n)}}),h(i,Fp.STAT_EVENT,function(t){10===t.stat?$p("Connection","Detected buffering proxy"):11===t.stat&&$p("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Cl()},0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.yu=function(t,e,n,r){var i=this.kl(t,e);$p("RestConnection","Sending: ",i,n);var s={};return this.$l(s,r),this.Ll(t,i,s,n).then(function(t){return $p("RestConnection","Received: ",t),t},function(e){throw Gp("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Vu=function(t,e,n,r){return this.yu(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.2",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+EE[t]},t}()),SE=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Qu=function(t){this.Kl.push(t)},t.prototype.Ic=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){$p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){$p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),TE=function(){function t(){}return t.prototype.Qu=function(t){},t.prototype.Ic=function(){},t}(),CE=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Rl.b)(this,void 0,void 0,function(){return Object(Rl.d)(this,function(e){switch(e.label){case 0:return this.serializer=jb(t.Fl.t),this.Bh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Ou=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return __(this.persistence,new ov,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new bE(_E.gl,this.serializer)},t.prototype.jl=function(t){return new kw},t.prototype.terminate=function(){return Object(Rl.b)(this,void 0,void 0,function(){return Object(Rl.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.Bh.Ic()];case 1:return t.sent(),[4,this.persistence.Ic()];case 2:return t.sent(),[2]}})})},t}(),xE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Rl.c)(e,t),e.prototype.initialize=function(e){return Object(Rl.b)(this,void 0,void 0,function(){return Object(Rl.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,D_(this.Ou)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,dE(this.Xl.va)];case 4:return n.sent(),[4,tw(this.Xl.$h)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return __(this.persistence,new ov,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new iv(this.persistence.Dr.cr,t.di)},e.prototype.Gl=function(t){var e=b_(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?rv.er(this.cacheSizeBytes):rv.ir;return new f_(this.synchronizeTabs,e,t.clientId,n,t.di,Kb(),Qb(),this.serializer,this.Bh,!!this.forceOwnership)},e.prototype.jl=function(t){return new kw},e}(CE),IE=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Rl.c)(e,t),e.prototype.initialize=function(e){return Object(Rl.b)(this,void 0,void 0,function(){var n,r=this;return Object(Rl.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.va,this.Bh instanceof Iw?(this.Bh.va={Eh:iE.bind(null,n),Th:cE.bind(null,n),Ih:lE.bind(null,n),gc:uE.bind(null,n),wh:rE.bind(null,n)},[4,this.Bh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.ic(function(t){return Object(Rl.b)(r,void 0,void 0,function(){return Object(Rl.d)(this,function(e){switch(e.label){case 0:return[4,sE(this.Xl.va,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Ou):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=Kb();if(!Iw.Gs(e))throw new tg(Jp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=b_(t.Fl.t,t.Fl.persistenceKey);return new Iw(e,t.di,n,t.clientId,t.Yl)},e}(xE),kE=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n=this;return Object(Rl.d)(this,function(r){switch(r.label){case 0:return this.Ou?[3,2]:(this.Ou=t.Ou,this.Bh=t.Bh,this.Mu=this.Zl(e),this.$h=this.t_(e),this.Lh=this.e_(e),this.va=this.n_(e,!t.synchronizeTabs),this.Bh.pu=function(t){return Bw(n.va,t,1)},this.$h.ku.s_=tE.bind(null,this.va),[4,aw(this.$h,this.va.Zh)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new hw},t.prototype.Zl=function(t){var e=jb(t.Fl.t),n=new OE(t.Fl);return function(t,e,n){return new L_(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Ou,n=this.Mu,r=t.di,i=function(t){return Bw(o.va,t,0)},s=SE.Gs()?new SE:new TE,new M_(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new Nw(t,e,n,r,i,s);return o&&(a.Xh=!0),a}(this.Ou,this.$h,this.Lh,this.Bh,t.Yl,t.qh,e)},t.prototype.terminate=function(){return function(t){return Object(Rl.b)(this,void 0,void 0,function(){var e;return Object(Rl.d)(this,function(n){switch(n.label){case 0:return e=Xp(t),$p("RemoteStore","RemoteStore shutting down."),e.Bu.add(5),[4,U_(e)];case 1:return n.sent(),e.Uu.Ic(),e.Ku.set("Unknown"),[2]}})})}(this.$h)},t}(),AE=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}();function DE(t,e,n){if(!n)throw new tg(Jp.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function jE(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new tg(Jp.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function PE(t,e,n,r){if(!0===e&&!0===r)throw new tg(Jp.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function RE(t){if(!yg.ot(t))throw new tg(Jp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function NE(t){if(yg.ot(t))throw new tg(Jp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function LE(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Qp()}function FE(t,e){if("_delegate"in t&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new tg(Jp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=LE(t);throw new tg(Jp.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function ME(t,e){if(e<=0)throw new tg(Jp.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var VE=function(t){this._methodName=t},UE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rl.c)(e,t),e.prototype.c_=function(t){if(2!==t.u_)throw t.a_(1===t.u_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(VE);function BE(t,e,n){return new YO({u_:3,h_:e.settings.h_,methodName:t._methodName,l_:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var zE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rl.c)(e,t),e.prototype.c_=function(t){return new Oy(t.path,new py)},e.prototype.isEqual=function(t){return t instanceof e},e}(VE),qE=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(Rl.c)(e,t),e.prototype.c_=function(t){var e=BE(this,t,!0),n=this.__.map(function(t){return ZO(t,e)}),r=new gy(n);return new Oy(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(VE),HE=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(Rl.c)(e,t),e.prototype.c_=function(t){var e=BE(this,t,!0),n=this.__.map(function(t){return ZO(t,e)}),r=new yy(n);return new Oy(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(VE),YE=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(Rl.c)(e,t),e.prototype.c_=function(t){var e=new vy(t.serializer,Rm(t.serializer,this.f_));return new Oy(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(VE),$E=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new tg(Jp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new tg(Jp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.d_=t,this.w_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.d_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.d_===t.d_&&this.w_===t.w_},t.prototype.toJSON=function(){return{latitude:this.d_,longitude:this.w_}},t.prototype.C=function(t){return ug(this.d_,t.d_)||ug(this.w_,t.w_)},t}(),WE=function(){function t(t){this.E_=t}return t.fromBase64String=function(e){try{return new t(Cg.fromBase64String(e))}catch(e){throw new tg(Jp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Cg.fromUint8Array(e))},t.prototype.toBase64=function(){return this.E_.toBase64()},t.prototype.toUint8Array=function(){return this.E_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.E_.isEqual(t.E_)},t}(),GE=function(t){this.o_=t},KE=new Map,QE=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new tg(Jp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new tg(Jp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,PE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),ZE=function(){function t(t,e){this.T_="(lite)",this.I_=new QE({}),this.m_=!1,t instanceof zp?(this.A_=t,this.R_=new ng):(this.P_=t,this.A_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new tg(Jp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zp(t.options.projectId)}(t),this.R_=new rg(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.P_)throw new tg(Jp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.P_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"g_",{get:function(){return this.m_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return void 0!==this.V_},enumerable:!1,configurable:!0}),t.prototype.p_=function(t){if(this.m_)throw new tg(Jp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.I_=new QE(t),void 0!==t.credentials&&(this.R_=function(t){if(!t)return new ng;switch(t.type){case"gapi":var e=t.client;return Zp(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new sg(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new tg(Jp.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.v_=function(){return this.I_},t.prototype.b_=function(){return this.m_=!0,this.I_},t.prototype._delete=function(){return this.V_||(this.V_=this.S_()),this.V_},t.prototype.S_=function(){return function(t){var e=KE.get(t);e&&($p("ComponentProvider","Removing Datastore"),KE.delete(t),e.terminate())}(this),Promise.resolve()},t}();function XE(){if("undefined"==typeof Uint8Array)throw new tg(Jp.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function JE(){if("undefined"==typeof atob)throw new tg(Jp.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var tO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rl.c)(e,t),e.fromBase64String=function(t){return JE(),new e(WE.fromBase64String(t))},e.fromUint8Array=function(t){return XE(),new e(WE.fromUint8Array(t))},e.prototype.toBase64=function(){return JE(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return XE(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(GE),eO=function(){function t(){}return t.prototype.D_=function(t,e){switch(void 0===e&&(e="none"),fm(t)){case 0:return null;case 1:return t.booleanValue;case 2:return wm(t.integerValue||t.doubleValue);case 3:return this.C_(t.timestampValue);case 4:return this.N_(t,e);case 5:return t.stringValue;case 6:return this.x_(Em(t.bytesValue));case 7:return this.F_(t.referenceValue);case 8:return this.O_(t.geoPointValue);case 9:return this.M_(t.arrayValue,e);case 10:return this.k_(t.mapValue,e);default:throw Qp()}},t.prototype.k_=function(t,e){var n=this,r={};return am(t.fields||{},function(t,i){r[t]=n.D_(i,e)}),r},t.prototype.O_=function(t){return new $E(wm(t.latitude),wm(t.longitude))},t.prototype.M_=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.D_(t,e)})},t.prototype.N_=function(t,e){switch(e){case"previous":var n=lm(t);return null==n?null:this.D_(n,e);case"estimate":return this.C_(hm(t));default:return null}},t.prototype.C_=function(t){var e=_m(t);return new hg(e.seconds,e.nanos)},t.prototype.L_=function(t,e){var n=pg.Y(t);Zp(cy(n));var r=new zp(n.get(1),n.get(3)),i=new yg(n.B(5));return r.isEqual(e)||Wp("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),nO=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Rl.c)(e,t),e.prototype.x_=function(t){return new tO(new WE(t))},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return kS.B_(e,this.firestore,null)},e}(eO),rO=function(){function t(t,e,n,r,i){this.q_=t,this.U_=e,this.Q_=n,this.K_=r,this.W_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new _O(this.q_,this.W_,this.Q_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.K_},t.prototype.data=function(){if(this.K_){if(this.W_){var t=new iO(this.q_,this.U_,this.Q_,this.K_,null);return this.W_.fromFirestore(t)}return this.U_.D_(this.K_.En())}},t.prototype.get=function(t){if(this.K_){var e=this.K_.data().field(sO("DocumentSnapshot.get",t));if(null!==e)return this.U_.D_(e)}},t}(),iO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rl.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(rO);function sO(t,e){return"string"==typeof e?rS(t,e):e instanceof GE?e.o_.j_:e.j_}var oO=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new tg(Jp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.j_=new mg(t)}return t.prototype.isEqual=function(t){return this.j_.isEqual(t.j_)},t}(),aO=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).G_=new Xb,r.T_="name"in e?e.name:"[DEFAULT]",r}return Object(Rl.c)(e,t),e.prototype.S_=function(){return this.z_||CS(this),this.z_.terminate()},e}(ZE);function uO(t,e,n){var r=this,i=new Db;return t.di.enqueue(function(){return Object(Rl.b)(r,void 0,void 0,function(){var r;return Object(Rl.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,cS(t,n)];case 1:return s.sent(),[4,lS(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Jp.FAILED_PRECONDITION||t.code===Jp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function cO(t){if(t.g_||t.y_)throw new tg(Jp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var lO=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).q_=e,a.H_=e,a.metadata=s,a}return Object(Rl.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.K_){if(this.W_){var e=new hO(this.q_,this.U_,this.Q_,this.K_,this.metadata,null);return this.W_.fromFirestore(e,t)}return this.U_.D_(this.K_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.K_){var n=this.K_.data().field(sO("DocumentSnapshot.get",t));if(null!==n)return this.U_.D_(n,e.serverTimestamps)}},e}(rO),hO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rl.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(lO),dO=function(){function t(t,e,n,r){this.q_=t,this.U_=e,this.J_=r,this.metadata=new PS(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.J_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.J_.docs.forEach(function(r){t.call(e,new hO(n.q_,n.U_,r.key,r,new PS(n.J_.ee.has(r.key),n.J_.fromCache),n.query.W_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.J_.se)throw new tg(Jp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Y_&&this.X_===e||(this.Y_=function(t,e){if(t.J_.te.W()){var n=0;return t.J_.docChanges.map(function(e){return{type:"added",doc:new hO(t.q_,t.U_,e.doc.key,e.doc,new PS(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),oldIndex:-1,newIndex:n++}})}var r=t.J_.te;return t.J_.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new hO(t.q_,t.U_,e.doc.key,e.doc,new PS(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:fO(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this.X_=e),this.Y_},t}();function fO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qp()}}function pO(t,e){return t instanceof lO&&e instanceof lO?t.q_===e.q_&&t.Q_.isEqual(e.Q_)&&(null===t.K_?null===e.K_:t.K_.isEqual(e.K_))&&t.W_===e.W_:t instanceof dO&&e instanceof dO&&t.q_===e.q_&&VO(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.J_.isEqual(e.J_)}var gO=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Rl.c)(e,t),e.prototype.x_=function(t){return new WE(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new _O(this.firestore,null,e)},e}(eO);function mO(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=FE(t,_O);var s=FE(t.firestore,aO),o=UO(s);return e instanceof GE&&(e=e.o_),bO(s,("string"==typeof e||e instanceof oO?KO(o,"updateDoc",t.Q_,e,n,r):GO(o,"updateDoc",t.Q_,e)).tf(t.Q_,Ty.exists(!0)))}function yO(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof GE&&(t=t.o_);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Pb(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(Pb(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof _O)c=FE(t.firestore,aO),l=Qy(t.Q_.path),u={next:function(e){i[a]&&i[a](vO(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=FE(t,wO);c=FE(f.firestore,aO),l=f.Z_;var p=new gO(c);u={next:function(t){i[a]&&i[a](new dO(c,p,f,t))},error:i[a+1],complete:i[a+2]},PO(t.Z_)}return function(t,e,n,r){var i=this,s=new AE(r),o=new yw(e,s,n);return t.di.Ri(function(){return Object(Rl.b)(i,void 0,void 0,function(){var e;return Object(Rl.d)(this,function(n){switch(n.label){case 0:return e=dw,[4,yS(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.r_(),t.di.Ri(function(){return Object(Rl.b)(i,void 0,void 0,function(){var e;return Object(Rl.d)(this,function(n){switch(n.label){case 0:return e=fw,[4,yS(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(TS(c),l,h,u)}function bO(t,e){return function(t,e){var n=this,r=new Db;return t.di.Ri(function(){return Object(Rl.b)(n,void 0,void 0,function(){var n;return Object(Rl.d)(this,function(i){switch(i.label){case 0:return n=Vw,[4,mS(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(TS(t),e)}function vO(t,e,n){var r=n.docs.get(e.Q_),i=new gO(t);return new lO(t,i,e.Q_,r,new PS(n.hasPendingWrites,n.fromCache),e.W_)}var _O=function(){function t(t,e,n){this.W_=e,this.Q_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"ef",{get:function(){return this.Q_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Q_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new RO(this.firestore,this.W_,this.Q_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Q_)},t}(),wO=function(){function t(t,e,n){this.W_=e,this.Z_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Z_)},t}(),EO=function(){};function OO(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.nf(t)}return t}var SO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).sf=e,i.rf=n,i.cf=r,i.type="where",i}return Object(Rl.c)(e,t),e.prototype.nf=function(t){var e=UO(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.tt()){if("array-contains"===s||"array-contains-any"===s)throw new tg(Jp.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){DO(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(AO(r,t,l[c]));a={arrayValue:{values:u}}}else a=AO(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||DO(o,s),a=QO(n,"where",o,"in"===s||"not-in"===s);var h=lb.create(i,s,a);return function(t,e){if(e.An()){var n=tb(t);if(null!==n&&!n.isEqual(e.field))throw new tg(Jp.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Jy(t);null!==r&&jO(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new tg(Jp.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.Z_,0,e,t.firestore.A_,this.sf,this.rf,this.cf);return new wO(t.firestore,t.W_,function(t,e){var n=t.filters.concat([e]);return new Gy(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,n))},e}(EO),TO=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).sf=e,r.uf=n,r.type="orderBy",r}return Object(Rl.c)(e,t),e.prototype.nf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new tg(Jp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new tg(Jp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ob(e,n);return function(t,e){if(null===Jy(t)){var n=tb(t);null!==n&&jO(0,n,e.field)}}(t,r),r}(t.Z_,this.sf,this.uf);return new wO(t.firestore,t.W_,function(t,e){var n=t.Tn.concat([e]);return new Gy(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,e))},e}(EO),CO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.af=n,i.hf=r,i}return Object(Rl.c)(e,t),e.prototype.nf=function(t){return new wO(t.firestore,t.W_,ib(t.Z_,this.af,this.hf))},e}(EO),xO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(Rl.c)(e,t),e.prototype.nf=function(t){var e=kO(t,this.type,this.lf,this._f);return new wO(t.firestore,t.W_,function(t,e){return new Gy(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.Z_,e))},e}(EO),IO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(Rl.c)(e,t),e.prototype.nf=function(t){var e=kO(t,this.type,this.lf,this._f);return new wO(t.firestore,t.W_,function(t,e){return new Gy(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.Z_,e))},e}(EO);function kO(t,e,n,r){if(n[0]instanceof GE&&(n[0]=n[0].o_),n[0]instanceof rO)return function(t,e,n,r,i){if(!r)throw new tg(Jp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=nb(t);o<a.length;o++){var u=a[o];if(u.field.tt())s.push(Om(e,r.key));else{var c=r.field(u.field);if(cm(c))throw new tg(Jp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.J();throw new tg(Jp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new vb(s,i)}(t.Z_,t.firestore.A_,e,n[0].K_,r);var i=UO(t.firestore);return function(t,e,n,r,i,s){var o=t.Tn;if(i.length>o.length)throw new tg(Jp.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.tt()){if("string"!=typeof c)throw new tg(Jp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!eb(t)&&-1!==c.indexOf("/"))throw new tg(Jp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(pg.Y(c));if(!yg.ot(l))throw new tg(Jp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new yg(l);a.push(Om(e,h))}else{var d=QO(n,r,c);a.push(d)}}return new vb(a,s)}(t.Z_,t.firestore.A_,i,e,n,r)}function AO(t,e,n){if(n instanceof GE&&(n=n.o_),"string"==typeof n){if(""===n)throw new tg(Jp.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!eb(e)&&-1!==n.indexOf("/"))throw new tg(Jp.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(pg.Y(n));if(!yg.ot(r))throw new tg(Jp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Om(t,new yg(r))}if(n instanceof _O)return Om(t,n.Q_);throw new tg(Jp.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+LE(n)+".")}function DO(t,e){if(!Array.isArray(t)||0===t.length)throw new tg(Jp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new tg(Jp.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function jO(t,e,n){if(!n.isEqual(e))throw new tg(Jp.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function PO(t){if(Xy(t)&&0===t.Tn.length)throw new tg(Jp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var RO=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Qy(r))||this).firestore=e,i.ef=r,i.type="collection",i}return Object(Rl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Z_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Z_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.ef.q();return t.W()?null:new _O(this.firestore,null,new yg(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.ef)},e}(wO);function NO(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof GE&&(t=t.o_),DE("collection","path",e),t instanceof ZE){var i=pg.Y.apply(pg,Object(Rl.g)([e],n));return NE(i),new RO(t,null,i)}if(!(t instanceof _O||t instanceof RO))throw new tg(Jp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=pg.Y.apply(pg,Object(Rl.g)([t.path],n)).child(pg.Y(e));return NE(s),new RO(t.firestore,null,s)}function LO(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof GE&&(t=t.o_),1===arguments.length&&(e=ag.D()),DE("doc","path",e),t instanceof ZE){var i=pg.Y.apply(pg,Object(Rl.g)([e],n));return RE(i),new _O(t,null,new yg(i))}if(!(t instanceof _O||t instanceof RO))throw new tg(Jp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=t.ef.child(pg.Y.apply(pg,Object(Rl.g)([e],n)));return RE(s),new _O(t.firestore,t instanceof RO?t.W_:null,new yg(s))}var FO=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Rl.c)(e,t),e.prototype.x_=function(t){return new WE(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new _O(this.firestore,null,e)},e}(eO);function MO(t,e){return t instanceof GE&&(t=t.o_),e instanceof GE&&(e=e.o_),(t instanceof _O||t instanceof RO)&&(e instanceof _O||e instanceof RO)&&t.firestore===e.firestore&&t.path===e.path&&t.W_===e.W_}function VO(t,e){return t instanceof GE&&(t=t.o_),e instanceof GE&&(e=e.o_),t instanceof wO&&e instanceof wO&&t.firestore===e.firestore&&sb(t.Z_,e.Z_)&&t.W_===e.W_}function UO(t){var e=t.b_(),n=jb(t.A_);return new $O(t.A_,!!e.ignoreUndefinedProperties,n)}var BO=/^__.*__$/,zO=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[];return n.push(null!==this.en?new Ry(t,this.data,this.en,e):new Py(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Ly(t,this.fieldTransforms)),n},t}(),qO=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[new Ry(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new Ly(t,this.fieldTransforms)),n},t}();function HO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qp()}}var YO=function(){function t(t,e,n,r,i,s){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ff(),this.fieldTransforms=i||[],this.en=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),t.prototype.df=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.wf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.Ef(t),r},t.prototype.Tf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.ff(),r},t.prototype.If=function(t){return this.df({path:void 0,l_:!0})},t.prototype.a_=function(t){return iS(t,this.settings.methodName,this.settings.mf||!1,this.path,this.settings.h_)},t.prototype.contains=function(t){return void 0!==this.en.find(function(e){return t.j(e)})||void 0!==this.fieldTransforms.find(function(e){return t.j(e.field)})},t.prototype.ff=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Ef(this.path.get(t))},t.prototype.Ef=function(t){if(0===t.length)throw this.a_("Document fields must not be empty");if(HO(this.u_)&&BO.test(t))throw this.a_('Document fields cannot begin and end with "__"')},t}(),$O=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||jb(t)}return t.prototype.Af=function(t,e,n,r){return void 0===r&&(r=!1),new YO({u_:t,methodName:e,h_:n,path:mg.X(),l_:!1,mf:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function WO(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Af(s.merge||s.mergeFields?2:0,e,n,i);tS("Data must be an object, but it was:",o,r);var a,u,c=XO(r,o);if(s.merge)a=new Ey(o.en),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=eS(e,d[h],n);if(!o.contains(f))throw new tg(Jp.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");sS(l,f)||l.push(f)}a=new Ey(l),u=o.fieldTransforms.filter(function(t){return a.un(t.field)})}else a=null,u=o.fieldTransforms;return new zO(new By(c),a,u)}function GO(t,e,n,r){var i=t.Af(1,e,n);tS("Data must be an object, but it was:",i,r);var s=[],o=new zy;am(r,function(t,r){var a=rS(e,t,n);r instanceof GE&&(r=r.o_);var u=i.Tf(a);if(r instanceof UE)s.push(a);else{var c=ZO(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new Ey(s);return new qO(o.hn(),a,i.fieldTransforms)}function KO(t,e,n,r,i,s){var o=t.Af(1,e,n),a=[eS(e,r,n)],u=[i];if(s.length%2!=0)throw new tg(Jp.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(eS(e,s[c])),u.push(s[c+1]);for(var l=[],h=new zy,d=a.length-1;d>=0;--d)if(!sS(l,a[d])){var f=a[d],p=u[d];p instanceof GE&&(p=p.o_);var g=o.Tf(f);if(p instanceof UE)l.push(f);else{var m=ZO(p,g);null!=m&&(l.push(f),h.set(f,m))}}var y=new Ey(l);return new qO(h.hn(),y,o.fieldTransforms)}function QO(t,e,n,r){return void 0===r&&(r=!1),ZO(n,t.Af(r?4:3,e))}function ZO(t,e){if(t instanceof GE&&(t=t.o_),JO(t))return tS("Unsupported field value:",e,t),XO(t,e);if(t instanceof VE)return function(t,e){if(!HO(e.u_))throw e.a_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.a_(t._methodName+"() is not currently supported inside arrays");var n=t.c_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.l_&&4!==e.u_)throw e.a_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=ZO(s[i],e.If(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof GE&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Rm(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=hg.fromDate(t);return{timestampValue:Nm(e.serializer,n)}}if(t instanceof hg){var r=new hg(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Nm(e.serializer,r)}}if(t instanceof $E)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof WE)return{bytesValue:Lm(e.serializer,t.E_)};if(t instanceof _O){var i=e.t,s=t.firestore.A_;if(!s.isEqual(i))throw e.a_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Vm(t.firestore.A_||e.t,t.Q_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.a_("Unsupported field value: "+LE(t))}(t,e)}function XO(t,e){var n={};return um(t)?e.path&&e.path.length>0&&e.en.push(e.path):am(t,function(t,r){var i=ZO(r,e.wf(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function JO(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof hg||t instanceof $E||t instanceof WE||t instanceof _O||t instanceof VE)}function tS(t,e,n){if(!JO(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=LE(n);throw e.a_("an object"===r?t+" a custom object":t+" "+r)}}function eS(t,e,n){if(e instanceof GE&&(e=e.o_),e instanceof oO)return e.j_;if("string"==typeof e)return rS(t,e);throw iS("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var nS=new RegExp("[~\\*/\\[\\]]");function rS(t,e,n){if(e.search(nS)>=0)throw iS("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(oO.bind.apply(oO,Object(Rl.g)([void 0],e.split("."))))).j_}catch(r){throw iS("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function iS(t,e,n,r,i){var s=r&&!r.W(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new tg(Jp.INVALID_ARGUMENT,(a+=". ")+t+u)}function sS(t,e){return t.some(function(t){return t.isEqual(e)})}var oS=function(){function t(t){this.Mu=t,this.Rf=new Map,this.mutations=[],this.Pf=!1,this.gf=null,this.yf=new Set}return t.prototype.Vf=function(t){return Object(Rl.b)(this,void 0,void 0,function(){var e,n=this;return Object(Rl.d)(this,function(r){switch(r.label){case 0:if(this.pf(),this.mutations.length>0)throw new tg(Jp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(Rl.d)(this,function(u){switch(u.label){case 0:return n=Xp(t),r=Ym(n.serializer)+"/documents",i={documents:e.map(function(t){return Bm(n.serializer,t)})},[4,n.Vu("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Zp(!!e.found);var n=zm(t,e.found.name),r=Mm(e.found.updateTime),i=new By({mapValue:{fields:e.found.fields}});return new Yy(n,r,i,{})}(t,e):"missing"in e?function(t,e){Zp(!!e.missing),Zp(!!e.readTime);var n=zm(t,e.missing),r=Mm(e.readTime);return new $y(n,r)}(t,e):Qp()}(n.serializer,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Zp(!!e),a.push(e)}),a)]}})})}(this.Mu,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof $y||t instanceof Yy?n.vf(t):Qp()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.tf(t,this.rn(t))),this.yf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.tf(t,this.bf(t)))}catch(t){this.gf=t}this.yf.add(t.toString())},t.prototype.delete=function(t){this.write([new Vy(t,this.rn(t))]),this.yf.add(t.toString())},t.prototype.commit=function(){return Object(Rl.b)(this,void 0,void 0,function(){var t,e=this;return Object(Rl.d)(this,function(n){switch(n.label){case 0:if(this.pf(),this.gf)throw this.gf;return t=this.Rf,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=yg.st(n);e.mutations.push(new Uy(r,e.rn(r)))}),[4,function(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n,r,i;return Object(Rl.d)(this,function(s){switch(s.label){case 0:return n=Xp(t),r=Ym(n.serializer)+"/documents",i={writes:e.map(function(t){return Gm(n.serializer,t)})},[4,n.yu("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.Mu,this.mutations)];case 1:return n.sent(),this.Pf=!0,[2]}})})},t.prototype.vf=function(t){var e;if(t instanceof Yy)e=t.version;else{if(!(t instanceof $y))throw Qp();e=dg.min()}var n=this.Rf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new tg(Jp.ABORTED,"Document version changed between two reads.")}else this.Rf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Rf.get(t.toString());return!this.yf.has(t.toString())&&e?Ty.updateTime(e):Ty.on()},t.prototype.bf=function(t){var e=this.Rf.get(t.toString());if(!this.yf.has(t.toString())&&e){if(e.isEqual(dg.min()))throw new tg(Jp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ty.updateTime(e)}return Ty.exists(!0)},t.prototype.write=function(t){this.pf(),this.mutations=this.mutations.concat(t)},t.prototype.pf=function(){},t}(),aS=function(){function t(t,e,n,r){this.di=t,this.Mu=e,this.updateFunction=n,this.Ti=r,this.Sf=5,this.Si=new Vb(this.di,"transaction_retry")}return t.prototype.run=function(){this.Df()},t.prototype.Df=function(){var t=this;this.Si.Bs(function(){return Object(Rl.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Rl.d)(this,function(r){return t=new oS(this.Mu),(e=this.Cf(t))&&e.then(function(e){n.di.Ri(function(){return t.commit().then(function(){n.Ti.resolve(e)}).catch(function(t){n.Nf(t)})})}).catch(function(t){n.Nf(t)}),[2]})})})},t.prototype.Cf=function(t){try{var e=this.updateFunction(t);return!bg(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.Nf=function(t){var e=this;this.Sf>0&&this.xf(t)?(this.Sf-=1,this.di.Ri(function(){return e.Df(),Promise.resolve()})):this.Ti.reject(t)},t.prototype.xf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Dg(e)}return!1},t}(),uS=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=qp.UNAUTHENTICATED,this.clientId=ag.D(),this.Ff=function(){},this.g=new Db,this.credentials.A(function(t){$p("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Ff(t)),r.g.resolve()})}return t.prototype.getConfiguration=function(){return Object(Rl.b)(this,void 0,void 0,function(){return Object(Rl.d)(this,function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,qh:100})]}})})},t.prototype.Of=function(t){var e=this;this.Ff=t,this.g.promise.then(function(){return e.Ff(e.user)})},t.prototype.Mf=function(){if(this.di.Ci)throw new tg(Jp.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new Db;return this.di.Ni(function(){return Object(Rl.b)(t,void 0,void 0,function(){var t,n;return Object(Rl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.kf?[4,this.kf.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.$f?[4,this.$f.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Jb(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function cS(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n,r=this;return Object(Rl.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),$p("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Of(function(n){return t.di.Mi(function(){return Object(Rl.b)(r,void 0,void 0,function(){return Object(Rl.d)(this,function(t){switch(t.label){case 0:return[4,w_(e.Ou,n)];case 1:return t.sent(),[2]}})})})}),e.persistence.rc(function(){return t.terminate()}),t.$f=e,[2]}})})}function lS(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n,r;return Object(Rl.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),[4,hS(t)];case 1:return n=i.sent(),$p("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Of(function(n){return t.di.Mi(function(){return function(t,e){return Object(Rl.b)(this,void 0,void 0,function(){var n,r;return Object(Rl.d)(this,function(i){switch(i.label){case 0:return(n=Xp(t)).di.Li(),$p("RemoteStore","RemoteStore received new credentials"),r=W_(n),n.Bu.add(3),[4,U_(n)];case 1:return i.sent(),r&&n.Ku.set("Unknown"),[4,n.ku.s_(e)];case 2:return i.sent(),n.Bu.delete(3),[4,V_(n)];case 3:return i.sent(),[2]}})})}(e.$h,n)})}),t.kf=e,[2]}})})}function hS(t){return Object(Rl.b)(this,void 0,void 0,function(){return Object(Rl.d)(this,function(e){switch(e.label){case 0:return t.$f?[3,2]:($p("FirestoreClient","Using default OfflineComponentProvider"),[4,cS(t,new CE)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}})})}function dS(t){return Object(Rl.b)(this,void 0,void 0,function(){return Object(Rl.d)(this,function(e){switch(e.label){case 0:return t.kf?[3,2]:($p("FirestoreClient","Using default OnlineComponentProvider"),[4,lS(t,new kE)]);case 1:e.sent(),e.label=2;case 2:return[2,t.kf]}})})}function fS(t){return hS(t).then(function(t){return t.persistence})}function pS(t){return hS(t).then(function(t){return t.Ou})}function gS(t){return dS(t).then(function(t){return t.$h})}function mS(t){return dS(t).then(function(t){return t.va})}function yS(t){return Object(Rl.b)(this,void 0,void 0,function(){var e,n;return Object(Rl.d)(this,function(r){switch(r.label){case 0:return[4,dS(t)];case 1:return e=r.sent(),[2,((n=e.Lh).ta=Lw.bind(null,e.va),n.sa=Mw.bind(null,e.va),n)]}})})}function bS(t,e,n){var r=this;void 0===n&&(n={});var i=new Db;return t.di.Ri(function(){return Object(Rl.b)(r,void 0,void 0,function(){var r;return Object(Rl.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new AE({next:function(s){e.Ri(function(){return fw(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new tg(Jp.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new tg(Jp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new yw(Qy(n.path),s,{includeMetadataChanges:!0,ha:!0});return dw(t,o)},[4,yS(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.di,e,n,i])]}})})}),i.promise}function vS(t,e,n){var r=this;void 0===n&&(n={});var i=new Db;return t.di.Ri(function(){return Object(Rl.b)(r,void 0,void 0,function(){var r;return Object(Rl.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new AE({next:function(n){e.Ri(function(){return fw(t,o)}),n.fromCache&&"server"===r.source?i.reject(new tg(Jp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new yw(n,s,{includeMetadataChanges:!0,ha:!0});return dw(t,o)},[4,yS(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.di,e,n,i])]}})})}),i.promise}var _S=function(){function t(t,e){this.q_=t,this.Lf=e,this.Bf=[],this.qf=!1,this.Uf=UO(t)}return t.prototype.set=function(t,e,n){this.Qf();var r=wS(t,this.q_),i=BS(r.W_,e,n),s=WO(this.Uf,"WriteBatch.set",r.Q_,i,null!==r.W_,n);return this.Bf=this.Bf.concat(s.tf(r.Q_,Ty.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Qf();var s,o=wS(t,this.q_);return e instanceof GE&&(e=e.o_),s="string"==typeof e||e instanceof oO?KO(this.Uf,"WriteBatch.update",o.Q_,e,n,r):GO(this.Uf,"WriteBatch.update",o.Q_,e),this.Bf=this.Bf.concat(s.tf(o.Q_,Ty.exists(!0))),this},t.prototype.delete=function(t){this.Qf();var e=wS(t,this.q_);return this.Bf=this.Bf.concat(new Vy(e.Q_,Ty.on())),this},t.prototype.commit=function(){return this.Qf(),this.qf=!0,this.Bf.length>0?this.Lf(this.Bf):Promise.resolve()},t.prototype.Qf=function(){if(this.qf)throw new tg(Jp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function wS(t,e){if(t instanceof GE&&(t=t.o_),t.firestore!==e)throw new tg(Jp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var ES=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).q_=e,r}return Object(Rl.c)(e,t),e.prototype.get=function(e){var n=this,r=wS(e,this.q_),i=new gO(this.q_);return t.prototype.get.call(this,e).then(function(t){return new lO(n.q_,i,r.Q_,t.K_,new PS(!1,!1),r.W_)})},e}(function(){function t(t,e){this.q_=t,this.Kf=e,this.Uf=UO(t)}return t.prototype.get=function(t){var e=this,n=wS(t,this.q_),r=new FO(this.q_);return this.Kf.Vf([n.Q_]).then(function(t){if(!t||1!==t.length)return Qp();var i=t[0];if(i instanceof $y)return new rO(e.q_,r,n.Q_,null,n.W_);if(i instanceof Yy)return new rO(e.q_,r,i.key,i,n.W_);throw Qp()})},t.prototype.set=function(t,e,n){var r=wS(t,this.q_),i=BS(r.W_,e,n),s=WO(this.Uf,"Transaction.set",r.Q_,i,null!==r.W_,n);return this.Kf.set(r.Q_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=wS(t,this.q_);return e instanceof GE&&(e=e.o_),s="string"==typeof e||e instanceof oO?KO(this.Uf,"Transaction.update",o.Q_,e,n,r):GO(this.Uf,"Transaction.update",o.Q_,e),this.Kf.update(o.Q_,s),this},t.prototype.delete=function(t){var e=wS(t,this.q_);return this.Kf.delete(e.Q_),this},t}()),OS=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){cO(t=FE(t,aO));var n=TS(t),r=t.b_(),i=new kE;return uO(n,i,new xE(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){cO(t=FE(t,aO));var e=TS(t),n=t.b_(),r=new kE;return uO(e,r,new IE(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.g_&&!t.y_)throw new tg(Jp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Db;return t.G_.Ni(function(){return Object(Rl.b)(e,void 0,void 0,function(){var e;return Object(Rl.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Rl.b)(this,void 0,void 0,function(){return Object(Rl.d)(this,function(e){switch(e.label){case 0:return Ub.Gs()?[4,Ub.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(b_(t.A_,t.T_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.o_)},t}(),SS=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Wf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof zp||(i.jf=e),i}return Object(Rl.c)(e,t),Object.defineProperty(e.prototype,"A_",{get:function(){return this.o_.A_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.v_()),t)).merge,this.o_.p_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.v_().host&&Gp("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(Rl.b)(e,void 0,void 0,function(){var e,n;return Object(Rl.d)(this,function(r){switch(r.label){case 0:return[4,fS(t)];case 1:return e=r.sent(),[4,gS(t)];case 2:return n=r.sent(),[2,(e.oc(!0),function(t){var e=Xp(t);return e.Bu.delete(0),V_(e)}(n))]}})})})}(TS(FE(this.o_,aO)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(Rl.b)(e,void 0,void 0,function(){var e,n;return Object(Rl.d)(this,function(r){switch(r.label){case 0:return[4,fS(t)];case 1:return e=r.sent(),[4,gS(t)];case 2:return n=r.sent(),[2,(e.oc(!1),function(t){return Object(Rl.b)(this,void 0,void 0,function(){var e;return Object(Rl.d)(this,function(n){switch(n.label){case 0:return(e=Xp(t)).Bu.add(0),[4,U_(e)];case 1:return n.sent(),e.Ku.set("Offline"),[2]}})})}(n))]}})})})}(TS(FE(this.o_,aO)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&PE("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Wf.enableMultiTabIndexedDbPersistence(this):this.Wf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Wf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Db;return t.di.Ri(function(){return Object(Rl.b)(e,void 0,void 0,function(){var e;return Object(Rl.d)(this,function(r){switch(r.label){case 0:return e=Yw,[4,mS(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(TS(FE(this.o_,aO)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new AE(e);return t.di.Ri(function(){return Object(Rl.b)(n,void 0,void 0,function(){var e;return Object(Rl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Xp(t).Zu.add(e),e.next()},[4,yS(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.di.Ri(function(){return Object(Rl.b)(n,void 0,void 0,function(){var e;return Object(Rl.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Xp(t).Zu.delete(e)},[4,yS(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(TS(t=FE(t,aO)),Pb(e)?e:{next:e})}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.jf)throw new tg(Jp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.jf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new VS(this,NO(this.o_,t))}catch(t){throw AS(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new kS(this,LO(this.o_,t))}catch(t){throw AS(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new LS(this,function(t,e){if(t=FE(t,ZE),DE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new tg(Jp.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new wO(t,null,function(t){return new Gy(pg.X(),t)}(e))}(this.o_,t))}catch(t){throw AS(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Db;return t.di.Ri(function(){return Object(Rl.b)(n,void 0,void 0,function(){var n;return Object(Rl.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return dS(t).then(function(t){return t.Mu})}(t)];case 1:return n=i.sent(),new aS(t.di,n,e,r).run(),[2]}})})}),r.promise}(TS(t),function(n){return e(new ES(t,n))})}(this.o_,function(n){return t(new xS(e,n))})},e.prototype.batch=function(){var t=this;return TS(this.o_),new IS(new _S(this.o_,function(e){return bO(t.o_,e)}))},e}(GE);function TS(t){return t.z_||CS(t),t.z_.Mf(),t.z_}function CS(t){var e=t.b_(),n=function(t,e,n){return new Bp(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.A_,t.T_,e);t.z_=new uS(t.R_,t.G_,n)}var xS=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(Rl.c)(e,t),e.prototype.get=function(t){var e=this,n=US(t);return this.o_.get(n).then(function(t){return new RS(e.q_,t)})},e.prototype.set=function(t,e,n){var r=US(t);return n?(jE("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=US(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(Rl.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=US(t);return this.o_.delete(e),this},e}(GE),IS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rl.c)(e,t),e.prototype.set=function(t,e,n){var r=US(t);return n?(jE("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=US(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(Rl.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=US(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(GE),kS=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new nO(e),r}return Object(Rl.c)(e,t),e.Gf=function(t,n,r){if(t.length%2!=0)throw new tg(Jp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new _O(n.o_,r,new yg(t)))},e.B_=function(t,n,r){return new e(n,new _O(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new VS(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new VS(this.firestore,NO(this.o_,t))}catch(t){throw AS(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof GE&&(t=t.o_),t instanceof _O&&MO(this.o_,t)},e.prototype.set=function(t,e){e=jE("DocumentReference.set",e);try{return function(t,e,n){t=FE(t,_O);var r=FE(t.firestore,aO),i=BS(t.W_,e,n);return bO(r,WO(UO(r),"setDoc",t.Q_,i,null!==t.W_,n).tf(t.Q_,Ty.on()))}(this.o_,t,e)}catch(t){throw AS(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?mO(this.o_,t):mO.apply(void 0,Object(Rl.g)([this.o_,t,e],n))}catch(t){throw AS(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return bO(FE((t=this.o_).firestore,aO),[new Vy(t.Q_,Ty.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=DS(e),i=jS(e,function(e){return new RS(t.firestore,new lO(t.firestore.o_,t.U_,e.Q_,e.K_,e.metadata,t.o_.W_))});return yO(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=FE(t,_O);var e=FE(t.firestore,aO),n=TS(e),r=new gO(e);return function(t,e){var n=this,r=new Db;return t.di.Ri(function(){return Object(Rl.b)(n,void 0,void 0,function(){var n;return Object(Rl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Rl.b)(this,void 0,void 0,function(){var r,i,s;return Object(Rl.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Xp(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Bc.cs(t,e)})}(t,e)];case 1:return(r=o.sent())instanceof Yy?n.resolve(r):r instanceof $y?n.resolve(null):n.reject(new tg(Jp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),s=Jb(i,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,pS(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.Q_).then(function(n){return new lO(e,r,t.Q_,n,new PS(n instanceof Yy&&n.an,!0),t.W_)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=FE(t,_O);var e=FE(t.firestore,aO);return bS(TS(e),t.Q_,{source:"server"}).then(function(n){return vO(e,t,n)})}(this.o_):function(t){t=FE(t,_O);var e=FE(t.firestore,aO);return bS(TS(e),t.Q_).then(function(n){return vO(e,t,n)})}(this.o_)).then(function(t){return new RS(e.firestore,new lO(e.firestore.o_,e.U_,t.Q_,t.K_,t.metadata,e.o_.W_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(GE);function AS(t,e,n){return t.message=t.message.replace(e,n),t}function DS(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Pb(r))return r}return{}}function jS(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Pb(t[0])?t[0]:Pb(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var PS=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),RS=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(Rl.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new kS(this.q_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return pO(this.o_,t.o_)},e}(GE),NS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rl.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(RS),LS=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new nO(e),r}return Object(Rl.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,OO(this.o_,function(t,e,n){var r=e,i=sO("where",t);return new SO(i,r,n)}(t,n,r)))}catch(t){throw AS(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,OO(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=sO("orderBy",t);return new TO(r,n)}(t,n)))}catch(t){throw AS(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,OO(this.o_,function(t){return ME("limit",t),new CO("limit",t,"F")}(t)))}catch(t){throw AS(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,OO(this.o_,function(t){return ME("limitToLast",t),new CO("limitToLast",t,"L")}(t)))}catch(t){throw AS(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,OO(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new xO("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw AS(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,OO(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new xO("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw AS(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,OO(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new IO("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw AS(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,OO(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new IO("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw AS(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return VO(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=FE(t,wO);var e=FE(t.firestore,aO),n=TS(e),r=new gO(e);return function(t,e){var n=this,r=new Db;return t.di.Ri(function(){return Object(Rl.b)(n,void 0,void 0,function(){var n;return Object(Rl.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Rl.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(Rl.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,I_(t,e,!0)];case 1:return r=c.sent(),i=new jw(e,r.Kc),s=i.bh(r.documents),o=i.Zn(s,!1),n.resolve(o.snapshot),[3,3];case 2:return a=c.sent(),u=Jb(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,pS(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.Z_).then(function(n){return new dO(e,r,t,n)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=FE(t,wO);var e=FE(t.firestore,aO),n=TS(e),r=new gO(e);return vS(n,t.Z_,{source:"server"}).then(function(n){return new dO(e,r,t,n)})}(this.o_):function(t){t=FE(t,wO);var e=FE(t.firestore,aO),n=TS(e),r=new gO(e);return PO(t.Z_),vS(n,t.Z_).then(function(n){return new dO(e,r,t,n)})}(this.o_)).then(function(t){return new MS(e.firestore,new dO(e.firestore.o_,e.U_,e.o_,t.J_))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=DS(e),i=jS(e,function(e){return new MS(t.firestore,new dO(t.firestore.o_,t.U_,t.o_,e.J_))});return yO(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(GE),FS=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(Rl.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new NS(this.q_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(GE),MS=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(Rl.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new LS(this.q_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map(function(e){return new NS(t.q_,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map(function(t){return new FS(e.q_,t)})},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach(function(r){t.call(e,new NS(n.q_,r))})},e.prototype.isEqual=function(t){return pO(this.o_,t.o_)},e}(GE),VS=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(Rl.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new kS(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new kS(this.firestore,void 0===t?LO(this.o_):LO(this.o_,t))}catch(t){throw AS(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=FE(t.firestore,aO),r=LO(t),i=BS(t.W_,e);return bO(n,WO(UO(t.firestore),"addDoc",r.Q_,i,null!==t.W_,{}).tf(r.Q_,Ty.exists(!1))).then(function(){return r})}(this.o_,t).then(function(t){return new kS(e.firestore,t)})},e.prototype.isEqual=function(t){return MO(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(LS);function US(t){return t instanceof GE&&(t=t.o_),FE(t,_O)}function BS(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var zS,qS=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(oO.bind.apply(oO,Object(Rl.g)([void 0],e))))||this}return Object(Rl.c)(e,t),e.documentId=function(){return new e(mg.et().J())},e.prototype.isEqual=function(t){return t instanceof GE&&(t=t.o_),t instanceof oO&&this.o_.j_.isEqual(t.j_)},e}(GE),HS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Rl.c)(e,t),e.serverTimestamp=function(){var t=new zE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new UE("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qE("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new HE("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new YE("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(GE),YS={Firestore:SS,GeoPoint:$E,Timestamp:hg,Blob:tO,Transaction:xS,WriteBatch:IS,DocumentReference:kS,DocumentSnapshot:RS,Query:LS,QueryDocumentSnapshot:NS,QuerySnapshot:MS,CollectionReference:VS,FieldPath:qS,FieldValue:HS,setLogLevel:function(t){Hp.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Up.a("firestore",function(t){return function(t,e){return new SS(t,new aO(t,e),new OS)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},YS)))})(zS=Nl.a),zS.registerVersion("@firebase/firestore","2.0.5");const $S=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function WS(t=null){return e=>e.lift(new GS(t))}class GS{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new KS(t,this.defaultValue))}}class KS extends Ue.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function QS(t=JS){return e=>e.lift(new ZS(t))}class ZS{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new XS(t,this.errorFactory))}}class XS extends Ue.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function JS(){return new $S}var tT=n("SpAZ");function eT(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Be((e,n)=>t(e,n,r)):tT.a,jn(1),n?WS(e):QS(()=>new $S))}function nT(t,e){return e?Br(()=>t,e):Br(()=>t)}var rT=n("tf+s");const iT=new r.s("angularfire2.auth.use-emulator"),sT=new r.s("angularfire2.auth.settings"),oT=new r.s("angularfire2.auth.tenant-id"),aT=new r.s("angularfire2.auth.langugage-code"),uT=new r.s("angularfire2.auth.use-device-language"),cT=new r.s("angularfire.auth.persistence");let lT=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new kl.e(i),d=Object(kl.i)(h),f=new On.a,p=Object(Fe.a)(void 0).pipe(Object(Yr.b)(h.outsideAngular),Br(()=>i.runOutsideAngular(()=>n.e(6).then(n.bind(null,"6nsN")))),Object(wt.a)(()=>Object(kl.h)(t,i,e)),Object(wt.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(kl.g)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Qr({bufferSize:1,refCount:!1}));if(F(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Fe.a)(null);else{p.pipe(eT()).subscribe();const t=p.pipe(Br(t=>t.getRedirectResult().then(t=>t,()=>null)),d,Qr({bufferSize:1,refCount:!1})),e=t=>new vt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Br(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Br(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(nT(n),Object(rT.a)(h.outsideAngular),Object(Yr.b)(h.insideAngular)),this.user=t.pipe(nT(r),Object(rT.a)(h.outsideAngular),Object(Yr.b)(h.insideAngular)),this.idToken=this.user.pipe(Br(t=>t?Object(bt.a)(t.getIdToken()):Object(Fe.a)(null))),this.idTokenResult=this.user.pipe(Br(t=>t?Object(bt.a)(t.getIdTokenResult()):Object(Fe.a)(null))),this.credential=Object(si.a)(t,f,this.authState.pipe(Be(t=>!t))).pipe(Object(wt.a)(t=>(null==t?void 0:t.user)?t:null),Object(rT.a)(h.outsideAngular),Object(Yr.b)(h.insideAngular))}return Object(kl.j)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(kl.c),r.Yb(kl.b,8),r.Yb(r.D),r.Yb(r.B),r.Yb(iT,8),r.Yb(sT,8),r.Yb(oT,8),r.Yb(aT,8),r.Yb(uT,8),r.Yb(cT,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(kl.c),Object(r.Yb)(kl.b,8),Object(r.Yb)(r.D),Object(r.Yb)(r.B),Object(r.Yb)(iT,8),Object(r.Yb)(sT,8),Object(r.Yb)(oT,8),Object(r.Yb)(aT,8),Object(r.Yb)(uT,8),Object(r.Yb)(cT,8))},token:t,providedIn:"any"}),t})();function hT(t,e){return function(t,e=Cn.a){return new vt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function dT(t,e){return hT(t,e).pipe(Object(wt.a)(t=>({payload:t,type:"query"})))}function fT(t,e){return dT(t,e).pipe(Lr(void 0),Fr(),Object(wt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function pT(t,e,n){return fT(t,n).pipe(Al((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return gT(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return gT(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return gT(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),_r(),Object(wt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function gT(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function mT(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(kl.f)(lT,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class yT{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=fT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(wt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Lr(void 0),Fr(),Be(([t,e])=>e.length>0||!t),Object(wt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Al((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=mT(t);return pT(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return dT(this.query,this.afs.schedulers.outsideAngular).pipe(Object(wt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(bt.a)(this.query.get(t)).pipe(Object(Yr.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new bT(this.ref.doc(t),this.afs)}}class bT{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=ST(n,e);return new yT(r,i,this.afs)}snapshotChanges(){return hT(this.ref,this.afs.schedulers.outsideAngular).pipe(Lr(void 0),Fr(),Object(wt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(wt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(bt.a)(this.ref.get(t)).pipe(Object(Yr.b)(this.afs.schedulers.insideAngular))}}class vT{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?fT(this.query,this.afs.schedulers.outsideAngular).pipe(Object(wt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Be(t=>t.length>0),this.afs.keepUnstableUntilFirst):fT(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Al((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=mT(t);return pT(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return dT(this.query,this.afs.schedulers.outsideAngular).pipe(Object(wt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(bt.a)(this.query.get(t)).pipe(Object(Yr.b)(this.afs.schedulers.insideAngular))}}const _T=new r.s("angularfire2.enableFirestorePersistence"),wT=new r.s("angularfire2.firestore.persistenceSettings"),ET=new r.s("angularfire2.firestore.settings"),OT=new r.s("angularfire2.firestore.use-emulator");function ST(t,e=(t=>t)){return{query:e(t),ref:t}}let TT=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new kl.e(s),this.keepUnstableUntilFirst=Object(kl.i)(this.schedulers);const c=Object(kl.h)(t,s,e);!Pl.a.auth&&u&&Object(kl.k)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(kl.g)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!F(i)){const e=()=>{try{return Object(bt.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(Fe.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Fe.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=ST(n,e),s=this.schedulers.ngZone.run(()=>r);return new yT(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new vT(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new bT(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(kl.c),r.Yb(kl.b,8),r.Yb(_T,8),r.Yb(ET,8),r.Yb(r.D),r.Yb(r.B),r.Yb(wT,8),r.Yb(OT,8),r.Yb(iT,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(kl.c),Object(r.Yb)(kl.b,8),Object(r.Yb)(_T,8),Object(r.Yb)(ET,8),Object(r.Yb)(r.D),Object(r.Yb)(r.B),Object(r.Yb)(wT,8),Object(r.Yb)(OT,8),Object(r.Yb)(iT,8))},token:t,providedIn:"any"}),t})(),CT=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:_T,useValue:!0},{provide:wT,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[TT]}),t})();function xT(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}class IT{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new kT(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class kT extends Ue.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(s){this.error(s)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new On.a,n.set(e,i);const t=new DT(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new DT(e,i))}catch(s){return void this.error(s)}this.add(t.subscribe(new AT(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class AT extends Ue.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class DT extends vt.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new Sn.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new jT(n)),e.add(r.subscribe(t)),e}}class jT extends Sn.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}var PT=n("EQ5u");function RT(t){return function(e){return 0===t?Object(Dn.b)():e.lift(new NT(t))}}class NT{constructor(t){if(this.total=t,this.total<0)throw new An}call(t,e){return e.subscribe(new LT(t,this.total))}}class LT extends Ue.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var FT=n("x+ZX");class MT{constructor(t,e){this.id=t,this.url=e}}class VT extends MT{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class UT extends MT{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class BT extends MT{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zT extends MT{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qT extends MT{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HT extends MT{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YT extends MT{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $T extends MT{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WT extends MT{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GT{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class KT{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class QT{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZT{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XT{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JT{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tC{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class eC{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function nC(t){return new eC(t)}function rC(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function iC(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function sC(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!oC(t[i],e[i]))return!1;return!0}function oC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function aC(t){return Array.prototype.concat.apply([],t)}function uC(t){return t.length>0?t[t.length-1]:null}function cC(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function lC(t){return Object(r.tb)(t)?t:Object(r.ub)(t)?Object(bt.a)(Promise.resolve(t)):Object(Fe.a)(t)}function hC(t,e,n){return n?function(t,e){return sC(t,e)}(t.queryParams,e.queryParams)&&dC(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>oC(t[n],e[n]))}(t.queryParams,e.queryParams)&&fC(t.root,e.root)}function dC(t,e){if(!bC(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!dC(t.children[n],e.children[n]))return!1}return!0}function fC(t,e){return pC(t,e,e.segments)}function pC(t,e,n){if(t.segments.length>n.length)return!!bC(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!bC(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!fC(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!bC(t.segments,r)&&!!t.children.primary&&pC(t.children.primary,e,i)}}class gC{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nC(this.queryParams)),this._queryParamMap}toString(){return wC.serialize(this)}}class mC{constructor(t,e){this.segments=t,this.children=e,this.parent=null,cC(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return EC(this)}}class yC{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=nC(this.parameters)),this._parameterMap}toString(){return kC(this)}}function bC(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class vC{}class _C{parse(t){const e=new RC(t);return new gC(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${OC(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${TC(e)}=${TC(t)}`).join("&"):`${TC(e)}=${TC(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const wC=new _C;function EC(t){return t.segments.map(t=>kC(t)).join("/")}function OC(t,e){if(!t.hasChildren())return EC(t);if(e){const e=t.children.primary?OC(t.children.primary,!1):"",n=[];return cC(t.children,(t,e)=>{"primary"!==e&&n.push(`${e}:${OC(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return cC(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),cC(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>"primary"===n?[OC(t.children.primary,!1)]:[`${n}:${OC(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${EC(t)}/${e[0]}`:`${EC(t)}/(${e.join("//")})`}}function SC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function TC(t){return SC(t).replace(/%3B/gi,";")}function CC(t){return SC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xC(t){return decodeURIComponent(t)}function IC(t){return xC(t.replace(/\+/g,"%20"))}function kC(t){return`${CC(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${CC(t)}=${CC(e[t])}`).join("")}`;var e}const AC=/^[^\/()?;=#]+/;function DC(t){const e=t.match(AC);return e?e[0]:""}const jC=/^[^=?&#]+/,PC=/^[^?&#]+/;class RC{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mC([],{}):new mC([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new mC(t,e)),n}parseSegment(){const t=DC(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new yC(xC(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=DC(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=DC(this.remaining);t&&(n=t,this.capture(n))}t[xC(e)]=xC(n)}parseQueryParam(t){const e=function(t){const e=t.match(jC);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(PC);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=IC(e),i=IC(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=DC(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new mC([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class NC{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=LC(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=LC(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=FC(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return FC(t,this._root).map(t=>t.value)}}function LC(t,e){if(t===e.value)return e;for(const n of e.children){const e=LC(t,n);if(e)return e}return null}function FC(t,e){if(t===e.value)return[e];for(const n of e.children){const r=FC(t,n);if(r.length)return r.unshift(e),r}return[]}class MC{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function VC(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class UC extends NC{constructor(t,e){super(t),this.snapshot=e,$C(this,t)}toString(){return this.snapshot.toString()}}function BC(t,e){const n=function(t,e){const n=new HC([],{},{},"",{},"primary",e,null,t.root,-1,{});return new YC("",new MC(n,[]))}(t,e),r=new Zi([new yC("",{})]),i=new Zi({}),s=new Zi({}),o=new Zi({}),a=new Zi(""),u=new zC(r,i,o,a,s,"primary",e,n.root);return u.snapshot=n.root,new UC(new MC(u,[]),n)}class zC{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(wt.a)(t=>nC(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(wt.a)(t=>nC(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qC(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class HC{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nC(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nC(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class YC extends NC{constructor(t,e){super(e),this.url=t,$C(this,e)}toString(){return WC(this._root)}}function $C(t,e){e.value._routerState=t,e.children.forEach(e=>$C(t,e))}function WC(t){const e=t.children.length>0?` { ${t.children.map(WC).join(", ")} } `:"";return`${t.value}${e}`}function GC(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,sC(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),sC(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!sC(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),sC(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function KC(t,e){return sC(t.params,e.params)&&function(t,e){return bC(t,e)&&t.every((t,n)=>sC(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||KC(t.parent,e.parent))}function QC(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return QC(t,e,r);return QC(t,e)})}(t,e,n);return new MC(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return ZC(e,t),t}}const n=new zC(new Zi((r=e.value).url),new Zi(r.params),new Zi(r.queryParams),new Zi(r.fragment),new Zi(r.data),r.outlet,r.component,r),i=e.children.map(e=>QC(t,e));return new MC(n,i)}var r}function ZC(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)ZC(t.children[n],e.children[n])}function XC(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function JC(t){return"object"==typeof t&&null!=t&&t.outlets}function tx(t,e,n,r,i){let s={};return r&&cC(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new gC(n.root===t?e:ex(n.root,t,e),s,i)}function ex(t,e,n){const r={};return cC(t.children,(t,i)=>{r[i]=t===e?n:ex(t,e,n)}),new mC(t.segments,r)}class nx{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&XC(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(JC);if(r&&r!==uC(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rx{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ix(t,e,n){if(t||(t=new mC([],{})),0===t.segments.length&&t.hasChildren())return sx(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(JC(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!cx(a,u,e))return s;r+=2}else{if(!cx(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new mC(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new mC(t.segments.slice(r.pathIndex),t.children),sx(e,0,i)}return r.match&&0===i.length?new mC(t.segments,{}):r.match&&!t.hasChildren()?ox(t,e,n):r.match?sx(t,0,i):ox(t,e,n)}function sx(t,e,n){if(0===n.length)return new mC(t.segments,{});{const r=function(t){return JC(t[0])?t[0].outlets:{primary:t}}(n),i={};return cC(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=ix(t.children[r],e,n))}),cC(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new mC(t.segments,i)}}function ox(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(JC(s)){const t=ax(s.outlets);return new mC(r,t)}if(0===i&&XC(n[0])){r.push(new yC(t.segments[e].path,ux(n[0]))),i++;continue}const o=JC(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&XC(a)?(r.push(new yC(o,ux(a))),i+=2):(r.push(new yC(o,{})),i++)}return new mC(r,{})}function ax(t){const e={};return cC(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=ox(new mC([],{}),0,t))}),e}function ux(t){const e={};return cC(t,(t,n)=>e[n]=`${t}`),e}function cx(t,e,n){return t==n.path&&sC(e,n.parameters)}class lx{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),GC(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=VC(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),cC(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=VC(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=VC(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new JT(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ZT(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(GC(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),hx(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function hx(t){GC(t.value),t.children.forEach(hx)}class dx{constructor(t,e){this.routes=t,this.module=e}}function fx(t){return"function"==typeof t}function px(t){return t instanceof gC}const gx=Symbol("INITIAL_VALUE");function mx(){return Br(t=>Mu(t.map(t=>t.pipe(jn(1),Lr(gx)))).pipe(Al((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==gx)return t;if(r===gx&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||px(r))return r}return t},t)},gx),Be(t=>t!==gx),Object(wt.a)(t=>px(t)?t:!0===t),jn(1)))}let yx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Pb(0,"router-outlet")},directives:function(){return[fI]},encapsulation:2}),t})();function bx(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];vx(r,_x(e,r))}}function vx(t,e){t.children&&bx(t.children,e)}function _x(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function wx(t){const e=t.children&&t.children.map(wx),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=yx),n}function Ex(t){return t.outlet||"primary"}function Ox(t,e){const n=t.filter(t=>Ex(t)===e);return n.push(...t.filter(t=>Ex(t)!==e)),n}const Sx={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Tx(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Sx):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||iC)(n,t,e);if(!i)return Object.assign({},Sx);const s={};cC(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Cx(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>xx(t,e,n)&&"primary"!==Ex(n))}(t,n,r)){const i=new mC(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==Ex(s)){const n=new mC([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Ex(s)]=n}return i}(t,e,r,new mC(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>xx(t,e,n))}(t,n,r)){const s=new mC(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(xx(t,n,a)&&!i[Ex(a)]){const n=new mC([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Ex(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new mC(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function xx(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ix(t,e,n,r){return!!(Ex(t)===r||"primary"!==r&&xx(e,n,t))&&("**"===t.path||Tx(e,t,n).matched)}function kx(t,e,n){return 0===e.length&&!t.children[n]}class Ax{constructor(t){this.segmentGroup=t||null}}class Dx{constructor(t){this.urlTree=t}}function jx(t){return new vt.a(e=>e.error(new Ax(t)))}function Px(t){return new vt.a(e=>e.error(new Dx(t)))}function Rx(t){return new vt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Nx{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.z)}apply(){const t=Cx(this.urlTree.root,[],[],this.config).segmentGroup,e=new mC(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,"primary").pipe(Object(wt.a)(t=>this.createUrlTree(Lx(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(hc(t=>{if(t instanceof Dx)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ax)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(wt.a)(e=>this.createUrlTree(Lx(e),t.queryParams,t.fragment))).pipe(hc(t=>{if(t instanceof Ax)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new mC([],{primary:t}):t;return new gC(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(wt.a)(t=>new mC([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(bt.a)(r).pipe(Ve(r=>{const i=n.children[r],s=Ox(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(wt.a)(t=>({segment:t,outlet:r})))}),Al((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Be((e,n)=>t(e,n,r)):tT.a,RT(1),n?WS(e):QS(()=>new $S))}())}expandSegment(t,e,n,r,i,s){return Object(bt.a)(n).pipe(Ve(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(hc(t=>{if(t instanceof Ax)return Object(Fe.a)(null);throw t}))),eT(t=>!!t),hc((t,n)=>{if(t instanceof $S||"EmptyError"===t.name){if(kx(e,r,i))return Object(Fe.a)(new mC([],{}));throw new Ax(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Ix(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):jx(e):jx(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Px(i):this.lineralizeSegments(n,i).pipe(Object(Me.a)(n=>{const i=new mC(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Tx(e,r,i);if(!o)return jx(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Px(l):this.lineralizeSegments(r,l).pipe(Object(Me.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Fe.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(wt.a)(t=>(n._loadedConfig=t,new mC(r,{})))):Object(Fe.a)(new mC(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=Tx(e,n,r);if(!s)return jx(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(Me.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=Cx(e,o,u,s),l=new mC(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe(Object(wt.a)(t=>new mC(o,t)));if(0===s.length&&0===c.length)return Object(Fe.a)(new mC(o,{}));const h=Ex(n)===i;return this.expandSegment(r,l,s,c,h?"primary":i,!0).pipe(Object(wt.a)(t=>new mC(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Fe.a)(new dx(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Fe.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Me.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(wt.a)(t=>(e._loadedConfig=t,t))):function(t){return new vt.a(e=>e.error(rC(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Fe.a)(new dx([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Fe.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&fx(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!fx(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return lC(s)});return Object(Fe.a)(i).pipe(mx(),Object(Tn.a)(t=>{if(!px(t))return;const e=rC(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(wt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Fe.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Rx(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new gC(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return cC(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return cC(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new mC(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Lx(t){const e={};for(const n of Object.keys(t.children)){const r=Lx(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new mC(t.segments.concat(e.segments),e.children)}return t}(new mC(t.segments,e))}class Fx{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Mx{constructor(t,e){this.component=t,this.route=e}}function Vx(t,e,n){const r=t._root;return Bx(r,e?e._root:null,n,[r.value])}function Ux(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Bx(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=VC(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!bC(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bC(t.url,e.url)||!sC(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!KC(t,e)||!sC(t.queryParams,e.queryParams);case"paramsChange":default:return!KC(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Fx(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Bx(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Mx(a.outlet.component,o))}else o&&zx(e,a,i),i.canActivateChecks.push(new Fx(r)),Bx(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),cC(s,(t,e)=>zx(t,n.getContext(e),i)),i}function zx(t,e,n){const r=VC(t),i=t.value;cC(r,(t,r)=>{zx(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Mx(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class qx{}function Hx(t){return new vt.a(e=>e.error(t))}class Yx{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=Cx(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;const n=new HC([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new MC(n,e),i=new YC(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=qC(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Ox(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=Wx(n);return r.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return kx(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Ix(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?uC(n).parameters:{};i=new HC(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qx(t),Ex(t),t.component,t,Gx(e),Kx(e)+n.length,Zx(t))}else{const r=Tx(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new HC(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qx(t),Ex(t),t.component,t,Gx(e),Kx(e)+s.length,Zx(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Cx(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new MC(i,t)]}if(0===a.length&&0===c.length)return[new MC(i,[])];const l=Ex(t)===r,h=this.processSegment(a,u,c,l?"primary":r);return null===h?null:[new MC(i,h)]}}function $x(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Wx(t){const e=[],n=new Set;for(const r of t){if(!$x(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Wx(r.children);e.push(new MC(r.value,t))}return e.filter(t=>!n.has(t))}function Gx(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Kx(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Qx(t){return t.data||{}}function Zx(t){return t.resolve||{}}function Xx(t){return Br(e=>{const n=t(e);return n?Object(bt.a)(n).pipe(Object(wt.a)(()=>e)):Object(Fe.a)(e)})}class Jx extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const tI=new r.s("ROUTES");class eI{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(wt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new dx(aC(i.injector.get(tI,void 0,r.r.Self|r.r.Optional)).map(wx),i)}),hc(t=>{throw e._loader$=void 0,t}));return e._loader$=new PT.a(n,()=>new On.a).pipe(Object(FT.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(bt.a)(this.loader.load(t)):lC(t()).pipe(Object(Me.a)(t=>t instanceof r.x?Object(Fe.a)(t):Object(bt.a)(this.compiler.compileModuleAsync(t))))}}class nI{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new rI,this.attachRef=null}}class rI{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new nI,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class iI{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function sI(t){throw t}function oI(t,e,n){return e.parse("/")}function aI(t,e){return Object(Fe.a)(null)}let uI=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new On.a,this.errorHandler=sI,this.malformedUriErrorHandler=oI,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:aI,afterPreactivation:aI},this.urlHandlingStrategy=new iI,this.routeReuseStrategy=new Jx,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.z),this.console=s.get(r.bb);const c=s.get(r.B);this.isNgZoneEnabled=c instanceof r.B&&r.B.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new gC(new mC([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new eI(o,a,t=>this.triggerEvent(new GT(t)),t=>this.triggerEvent(new KT(t))),this.routerState=BC(this.currentUrlTree,this.rootComponentType),this.transitions=new Zi({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Be(t=>0!==t.id),Object(wt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Br(t=>{let n=!1,r=!1;return Object(Fe.a)(t).pipe(Object(Tn.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Br(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Fe.a)(t).pipe(Br(t=>{const n=this.transitions.getValue();return e.next(new VT(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Dn.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,Br(t=>function(t,e,n,r,i){return new Nx(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(wt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Tn.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(Me.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new Yx(t,e,n,r,i,s).recognize();return null===o?Hx(new qx):Object(Fe.a)(o)}catch(o){return Hx(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(wt.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Tn.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new qT(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new VT(n,this.serializeUrl(r),i,s);e.next(a);const u=BC(r,this.rootComponentType).snapshot;return Object(Fe.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Dn.a}),Xx(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Tn.a)(t=>{const e=new HT(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(wt.a)(t=>Object.assign(Object.assign({},t),{guards:Vx(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(Me.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Fe.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(bt.a)(t).pipe(Object(Me.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Fe.a)(!0);const o=s.map(s=>{const o=Ux(s,e,i);let a;if(function(t){return t&&fx(t.canDeactivate)}(o))a=lC(o.canDeactivate(t,e,n,r));else{if(!fx(o))throw new Error("Invalid CanDeactivate guard");a=lC(o(t,e,n,r))}return a.pipe(eT())});return Object(Fe.a)(o).pipe(mx())}(t.component,t.route,n,e,r)),eT(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(Me.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(bt.a)(e).pipe(Ve(e=>Nr(function(t,e){return null!==t&&e&&e(new QT(t)),Object(Fe.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new XT(t)),Object(Fe.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>nu(()=>{const i=e.guards.map(i=>{const s=Ux(i,e.node,n);let o;if(function(t){return t&&fx(t.canActivateChild)}(s))o=lC(s.canActivateChild(r,t));else{if(!fx(s))throw new Error("Invalid CanActivateChild guard");o=lC(s(r,t))}return o.pipe(eT())});return Object(Fe.a)(i).pipe(mx())}));return Object(Fe.a)(i).pipe(mx())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Fe.a)(!0);const i=r.map(r=>nu(()=>{const i=Ux(r,e,n);let s;if(function(t){return t&&fx(t.canActivate)}(i))s=lC(i.canActivate(e,t));else{if(!fx(i))throw new Error("Invalid CanActivate guard");s=lC(i(e,t))}return s.pipe(eT())}));return Object(Fe.a)(i).pipe(mx())}(t,e.route,n))),eT(t=>!0!==t,!0))}(r,s,t,e):Object(Fe.a)(n)),Object(wt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Tn.a)(t=>{if(px(t.guardsResult)){const e=rC(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new YT(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Be(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new BT(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Xx(t=>{if(t.guards.canActivateChecks.length)return Object(Fe.a)(t).pipe(Object(Tn.a)(t=>{const e=new $T(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Br(t=>{let n=!1;return Object(Fe.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(Me.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Fe.a)(t);let s=0;return Object(bt.a)(n).pipe(Ve(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Fe.a)({});const s={};return Object(bt.a)(i).pipe(Object(Me.a)(i=>function(t,e,n,r){const i=Ux(t,e,r);return lC(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Tn.a)(t=>{s[i]=t}))),RT(1),Object(Me.a)(()=>Object.keys(s).length===i.length?Object(Fe.a)(s):Dn.a))}(t._resolve,t,e,r).pipe(Object(wt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),qC(t,n).resolve),null)))}(t.route,e,r,i)),Object(Tn.a)(()=>s++),RT(1),Object(Me.a)(e=>s===n.length?Object(Fe.a)(t):Dn.a))})),Object(Tn.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new BT(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Tn.a)(t=>{const e=new WT(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Xx(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(wt.a)(t=>{const e=function(t,e,n){const r=QC(t,e._root,n?n._root:void 0);return new UC(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Tn.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(wt.a)(t=>(new lx(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(Tn.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new BT(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new pc(i))),hc(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=px(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new BT(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new zT(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(vm){t.reject(vm)}}var i;return Dn.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){bx(t),this.config=t.map(wx),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return tx(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new nx(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return cC(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new nx(n,e,r)}(n);if(s.toRoot())return tx(e.root,new mC([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new rx(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new rx(t,t===e.root,0)}const r=XC(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new rx(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?sx(o.segmentGroup,o.index,s.commands):ix(o.segmentGroup,o.index,s.commands);return tx(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=px(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(px(t))return hC(this.currentUrlTree,t,e);const n=this.parseUrl(t);return hC(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new UT(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.P),r.Yb(vC),r.Yb(rI),r.Yb(w),r.Yb(r.t),r.Yb(r.y),r.Yb(r.i),r.Yb(void 0))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),cI=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new On.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:hI(this.skipLocationChange),replaceUrl:hI(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:hI(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(uI),r.Ob(zC),r.Zb("tabindex"),r.Ob(r.G),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.bc("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Bb]}),t})(),lI=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new On.a,this.subscription=t.events.subscribe(t=>{t instanceof UT&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:hI(this.skipLocationChange),replaceUrl:hI(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:hI(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(uI),r.Ob(zC),r.Ob(m))},t.\u0275dir=r.Jb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.bc("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Xb("href",e.href,r.tc),r.Eb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Bb]}),t})();function hI(t){return""===t||!!t}let dI=(()=>{class t{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof UT&&this.update()})}ngAfterContentInit(){Object(Fe.a)(this.links.changes,this.linksWithHrefs.changes,Object(Fe.a)(null)).pipe(Object(Rr.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(bt.a)(e).pipe(Object(Rr.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(uI),r.Ob(r.l),r.Ob(r.G),r.Ob(r.h),r.Ob(cI,8),r.Ob(lI,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Hb(n,cI,1),r.Hb(n,lI,1)),2&t){let t;r.pc(t=r.cc())&&(e.links=t),r.pc(t=r.cc())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.Bb]}),t})(),fI=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.o,this.deactivateEvents=new r.o,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new pI(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(rI),r.Ob(r.S),r.Ob(r.j),r.Zb("name"),r.Ob(r.h))},t.\u0275dir=r.Jb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class pI{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===zC?this.route:t===rI?this.childContexts:this.parent.get(t,e)}}class gI{}class mI{preload(t,e){return Object(Fe.a)(null)}}let yI=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new eI(e,n,e=>t.triggerEvent(new GT(e)),e=>t.triggerEvent(new KT(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Be(t=>t instanceof UT),Ve(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.z);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(bt.a)(n).pipe(Object(Rr.a)(),Object(wt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(Fe.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(Me.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(uI),r.Yb(r.y),r.Yb(r.i),r.Yb(r.t),r.Yb(gI))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),bI=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof VT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof UT&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof tC&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new tC(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(uI),r.Yb(M),r.Yb(void 0))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const vI=new r.s("ROUTER_CONFIGURATION"),_I=new r.s("ROUTER_FORROOT_GUARD"),wI=[w,{provide:vC,useClass:_C},{provide:uI,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new uI(null,t,e,n,r,i,o,aC(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[vC,rI,w,r.t,r.y,r.i,tI,vI,[class{},new r.C],[class{},new r.C]]},rI,{provide:zC,useFactory:function(t){return t.routerState.root},deps:[uI]},{provide:r.y,useClass:r.M},yI,mI,class{preload(t,e){return e().pipe(hc(()=>Object(Fe.a)(null)))}},{provide:vI,useValue:{enableTracing:!1}}];function EI(){return new r.A("Router",uI)}let OI=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[wI,xI(e),{provide:_I,useFactory:CI,deps:[[uI,new r.C,new r.L]]},{provide:vI,useValue:n||{}},{provide:m,useFactory:TI,deps:[a,[new r.q(b),new r.C],vI]},{provide:bI,useFactory:SI,deps:[uI,M,vI]},{provide:gI,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:mI},{provide:r.A,multi:!0,useFactory:EI},[II,{provide:r.d,multi:!0,useFactory:kI,deps:[II]},{provide:DI,useFactory:AI,deps:[II]},{provide:r.b,multi:!0,useExisting:DI}]]}}static forChild(e){return{ngModule:t,providers:[xI(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(_I,8),r.Yb(uI,8))},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({}),t})();function SI(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new bI(t,e,n)}function TI(t,e,n={}){return n.useHash?new _(t,e):new v(t,e)}function CI(t){return"guarded"}function xI(t){return[{provide:r.a,multi:!0,useValue:t},{provide:tI,multi:!0,useValue:t}]}let II=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new On.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(uI),r=this.injector.get(vI);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Fe.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(vI),n=this.injector.get(yI),i=this.injector.get(bI),s=this.injector.get(uI),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.t))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();function kI(t){return t.appInitializer.bind(t)}function AI(t){return t.bootstrapListener.bind(t)}const DI=new r.s("Router Initializer"),jI=new r.s("angularfire2.analytics.analyticsCollectionEnabled"),PI=new r.s("angularfire2.analytics.appVersion"),RI=new r.s("angularfire2.analytics.appName"),NI=new r.s("angularfire2.analytics.debugMode"),LI=new r.s("angularfire2.analytics.config");let FI=(()=>{class t{constructor(t,e,r,i,s,o,a,u){if(this.analyticsInitialized=new Promise(()=>{}),L(a)){window.dataLayer=window.dataLayer||[];const t=(...t)=>"config"===t[0]&&"firebase"===t[2].origin&&(this.measurementId=t[1],!0),e=t=>{window.gtag=(...e)=>{t&&t(...e),"event"===e[0]&&e[2].send_to===this.measurementId&&(i&&(e[2].app_name=i),r&&(e[2].app_version=r)),s&&"undefined"!=typeof console&&console.info(...e),function(...t){window.dataLayer.push(arguments)}(...e)}};window.dataLayer.some(t)?(this.analyticsInitialized=Promise.resolve(),e()):this.analyticsInitialized=new Promise(n=>{e((...e)=>{t(...e)&&n()})}),o&&this.updateConfig(o),s&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const c=Object(Fe.a)(void 0).pipe(Object(Yr.b)(new kl.e(u).outsideAngular),Br(()=>L(a)?u.runOutsideAngular(()=>n.e(5).then(n.bind(null,"AAub"))):Dn.a),Object(wt.a)(()=>Object(kl.g)("analytics","AngularFireAnalytics",t,()=>{const n=t.analytics();return!1===e&&n.setAnalyticsCollectionEnabled(!1),n},[t,e,o,s])),Qr({bufferSize:1,refCount:!1}));return Object(kl.j)(this,c,u)}updateConfig(t){return xT(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(kl.d),r.Yb(jI,8),r.Yb(PI,8),r.Yb(RI,8),r.Yb(NI,8),r.Yb(LI,8),r.Yb(r.D),r.Yb(r.B))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.Yb)(kl.d),Object(r.Yb)(jI,8),Object(r.Yb)(PI,8),Object(r.Yb)(RI,8),Object(r.Yb)(NI,8),Object(r.Yb)(LI,8),Object(r.Yb)(r.D),Object(r.Yb)(r.B))},token:t,providedIn:"any"}),t})();Object(kl.f)(FI,[{app:null,logEvent:null,setCurrentScreen:null,setUserId:null,setUserProperties:null,setAnalyticsCollectionEnabled:null}]);let MI=(()=>{class t{constructor(t,e,n,r){if(this.disposables=[],F(e))this.initialized=Promise.resolve();else{let e;this.initialized=r.runOutsideAngular(()=>new Promise(t=>e=t)),this.disposables=[n.authState.subscribe(n=>{t.setUserId(null==n?void 0:n.uid),e()}),n.credential.subscribe(e=>{if(e){const n=e.user.isAnonymous?"anonymous":e.additionalUserInfo.providerId;e.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:n}),t.logEvent("login",{method:n})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(FI),r.Yb(r.D),r.Yb(lT),r.Yb(r.B))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),VI=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const UI={},BI=t=>{const e=[t.screen_class,t.outlet].join("#");if(UI.hasOwnProperty(e))return UI[e];{const t=VI++;return UI[e]=t,t}};let zI=(()=>{class t{constructor(t,e,n,r,i,s,o){if(!e||!L(i))return this;s.runOutsideAngular(()=>{const i=e.events.pipe(Be(t=>t instanceof JT));var s;this.disposable=i.pipe(Br(t=>{var i;const s=(null===(i=e.parseUrl(e.url.replace(/(?:\().+(?:\))/g,t=>t.replace("://",":///"))).root.children[t.snapshot.outlet])||void 0===i?void 0:i.toString())||"",o=e.routerState.root.children.map(t=>t).find(e=>e.outlet===t.snapshot.outlet);if(!o)return Object(Fe.a)(null);let a=o;for(;a.firstChild;)a=a.firstChild;const u=a.pathFromRoot.map(t=>{var e;return null===(e=t.routeConfig)||void 0===e?void 0:e.path}).filter(t=>t).join("/")||"/",c={screen_name:u,page_path:`/${s}`,firebase_event_origin:"auto",firebase_screen:u,outlet:t.snapshot.outlet};n&&(c.page_title=n.getTitle());let l=o.component;if(l){if(l===yx){let e=t.snapshot;for(;e.firstChild;)e=e.firstChild;l=e.component}}else l=t.snapshot.component;if("string"==typeof l)return Object(Fe.a)(Object.assign(Object.assign({},c),{screen_class:l}));if(l){const t=r.resolveComponentFactory(l);return Object(Fe.a)(Object.assign(Object.assign({},c),{screen_class:t.selector}))}return Object(Fe.a)(null)}),Be(t=>t),Object(wt.a)(t=>Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:BI(t)},t)),(s=t=>t.outlet,t=>t.lift(new IT(s,void 0,void 0,void 0))),Object(Me.a)(e=>e.pipe(_r((t,e)=>JSON.stringify(t)===JSON.stringify(e)),Lr(void 0),Fr(),Object(wt.a)(([t,e])=>t?Object.assign({firebase_previous_class:t.screen_class,firebase_previous_screen:t.screen_name,firebase_previous_id:t.firebase_screen_id},e):e),Br(e=>xT(this,void 0,void 0,function*(){return o&&(yield o.initialized),yield t.logEvent("screen_view",e)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(FI),r.Yb(uI,8),r.Yb(yt,8),r.Yb(r.j),r.Yb(r.D),r.Yb(r.B),r.Yb(MI,8))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),qI=(()=>{class t{constructor(t,e,n){t.app.then(()=>{})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(FI),r.Yb(zI,8),r.Yb(MI,8))},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({providers:[FI]}),t})();const HI={apiKey:"AIzaSyAMQJ7B3pF3IRa5OHcx_xE2wp1FSaZR2Bo",authDomain:"qu-meal-planner.firebaseapp.com",databaseURL:"https://qu-meal-planner-default-rtdb.firebaseio.com",projectId:"qu-meal-planner",storageBucket:"qu-meal-planner.appspot.com",messagingSenderId:"495040940292",appId:"1:495040940292:web:2c4e9e6ca6014df92ba851",measurementId:"G-LT85NSECX5"};class YI{constructor(t,e,n,r){this.email=t,this.id=e,this._token=n,this._tokenExpirationDate=r}get token(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}let $I=(()=>{class t{constructor(t,e){this.http=t,this.router=e,this.user=new Zi(null)}signup(t,e){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAMQJ7B3pF3IRa5OHcx_xE2wp1FSaZR2Bo",{email:t,password:e,returnSecureToken:!0}).pipe(hc(this.handleError),Object(Tn.a)(t=>{this.handleAuthentication(t.email,t.localId,t.idToken,+t.expiresIn)}))}login(t,e){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAMQJ7B3pF3IRa5OHcx_xE2wp1FSaZR2Bo",{email:t,password:e,returnSecureToken:!0}).pipe(hc(this.handleError),Object(Tn.a)(t=>{this.handleAuthentication(t.email,t.localId,t.idToken,+t.expiresIn)}))}autoLogin(){const t=JSON.parse(localStorage.getItem("userData"));if(!t)return;const e=new YI(t.email,t.id,t._token,new Date(t._tokenExpirationDate));if(e.token){this.user.next(e);const n=new Date(t._tokenExpirationDate).getTime()-(new Date).getTime();this.autoLogout(n)}}logout(){this.user.next(null),localStorage.removeItem("userData"),this.router.navigate(["/auth"]),this.tokenExpirationTimer&&clearTimeout(this.tokenExpirationTimer),this.tokenExpirationTimer=null}autoLogout(t){this.tokenExpirationTimer=setTimeout(()=>{this.logout()},t)}handleAuthentication(t,e,n,r){const i=new Date((new Date).getTime()+1e3*r),s=new YI(t,e,n,i);this.user.next(s),this.autoLogout(1e3*r),localStorage.setItem("userData",JSON.stringify(s))}handleError(t){let e="An unknown error occurred.";if(!t.error||!t.error.error)return Object(lc.a)(e);switch(t.error.error.message){case"EMAIL_EXISTS":e="An account already exists for this email address.";break;case"EMAIL_NOT_FOUND":case"INVALID_PASSWORD":e="Invalid login credentials.";break;case"USER_DISABLED":case"TOO_MANY_ATTEMPTS_TRY_LATER":e="This account has been locked or disabled."}return Object(lc.a)(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(an),r.Yb(uI))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class WI{constructor(t,e){this.name=t,this.amount=e}}let GI=(()=>{class t{constructor(t){this._snackBar=t,this.ingredientsChanged=new On.a,this.startedEditing=new On.a,this.ingredients=[new WI("bread",2),new WI("egg",3),new WI("cinnamon",1)]}getIngredients(){return this.ingredients.slice()}getIngredient(t){return this.ingredients[t]}addIngredient(t){this.ingredients.push(t),this.ingredientsChanged.next(this.ingredients.slice());const e=new dl;e.panelClass=["snackbar-notification"],e.duration=3e3,this._snackBar.open(t.name+" has been added to the Shopping List","Dismiss",e)}addIngredients(t){this.ingredients.push(...t),this.ingredientsChanged.next(this.ingredients.slice());const e=new dl;e.panelClass=["snackbar-notification"],e.duration=3e3,this._snackBar.open("Ingredients have been added to the Shopping List","Dismiss",e)}updateIngredient(t,e){this.ingredients[t]=e,this.ingredientsChanged.next(this.ingredients.slice())}deleteIngredient(t){this.ingredients.splice(t,1),this.ingredientsChanged.next(this.ingredients.slice())}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(_l))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),KI=(()=>{class t{constructor(t){this.shoppingListService=t,this.recipeSelected=new On.a,this.recipesChanged=new On.a,this.recipes=[]}setRecipes(t){this.recipes=t,this.recipesChanged.next(this.recipes.slice())}getRecipes(){return this.recipes.slice()}getRecipe(t){return this.recipes[t]}addToShoppingList(t){this.shoppingListService.addIngredients(t)}addRecipe(t){this.recipes.push(t),this.recipesChanged.next(this.recipes.slice())}updateRecipe(t,e){this.recipes[t]=e,this.recipesChanged.next(this.recipes.slice())}deleteRecipe(t){this.recipes.splice(t,1),this.recipesChanged.next(this.recipes.slice())}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(GI))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),QI=(()=>{class t{constructor(t,e,n){this.http=t,this.recipesService=e,this.authService=n,this.endPointURL="https://qu-meal-planner-default-rtdb.firebaseio.com/recipes.json"}storeRecipes(){const t=this.recipesService.getRecipes();this.http.put(this.endPointURL,t).subscribe()}fetchRecipes(){return this.http.get(this.endPointURL).pipe(Object(wt.a)(t=>t.map(t=>Object.assign(Object.assign({},t),{ingredients:t.ingredients?t.ingredients:[]}))),Object(Tn.a)(t=>{this.recipesService.setRecipes(t)}))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(an),r.Yb(KI),r.Yb($I))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ZI(t,e){1&t&&(r.Ub(0,"li",9),r.Ub(1,"a",10),r.zc(2,"Login or Sign Up"),r.Tb(),r.Tb())}function XI(t,e){1&t&&(r.Ub(0,"li",9),r.Ub(1,"a",11),r.zc(2,"Recipe Book"),r.Tb(),r.Tb())}function JI(t,e){1&t&&(r.Ub(0,"li",9),r.Ub(1,"a",12),r.zc(2,"Shopping List"),r.Tb(),r.Tb())}function tk(t,e){if(1&t){const t=r.Vb();r.Ub(0,"ul",13),r.Ub(1,"li",14),r.Ub(2,"a",15),r.zc(3,"Manage Data"),r.Tb(),r.Ub(4,"div",16),r.Ub(5,"a",17),r.bc("click",function(){return r.sc(t),r.fc().onSave()}),r.Pb(6,"img",18),r.zc(7,"Save Data"),r.Tb(),r.Ub(8,"a",17),r.bc("click",function(){return r.sc(t),r.fc().onFetch()}),r.Pb(9,"img",19),r.zc(10,"Fetch Data"),r.Tb(),r.Tb(),r.Tb(),r.Ub(11,"li",9),r.Ub(12,"a",20),r.bc("click",function(){return r.sc(t),r.fc().onLogout()}),r.zc(13,"Logout"),r.Tb(),r.Tb(),r.Tb()}}let ek=(()=>{class t{constructor(t,e){this.dataStorageService=t,this.authService=e,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(t=>{this.isAuthenticated=!!t})}onSave(){this.dataStorageService.storeRecipes()}onFetch(){this.dataStorageService.fetchRecipes().subscribe()}onLogout(){this.authService.logout()}ngOnDestroy(){this.userSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(QI),r.Ob($I))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-header"]],decls:12,vars:4,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-success","mb-4"],[1,"navbar-brand"],["src","assets/recipe-book.png","alt","Recipe Book Icon",1,"mr-2"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],["class","nav-item",4,"ngIf"],["class","navbar-nav",4,"ngIf"],[1,"nav-item"],["routerLink","/auth","routerLinkActive","active",1,"nav-link"],["routerLink","/recipe-book","routerLinkActive","active",1,"nav-link"],["routerLink","/shopping-list","routerLinkActive","active",1,"nav-link"],[1,"navbar-nav"],[1,"nav-item","dropdown"],["id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["src","assets/upload.png",1,"img-responsive","mr-2"],["src","assets/download.png",1,"img-responsive","mr-2"],[1,"nav-link",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"nav",0),r.Ub(1,"a",1),r.Pb(2,"img",2),r.zc(3,"Meal Planner"),r.Tb(),r.Ub(4,"button",3),r.Pb(5,"span",4),r.Tb(),r.Ub(6,"div",5),r.Ub(7,"ul",6),r.yc(8,ZI,3,0,"li",7),r.yc(9,XI,3,0,"li",7),r.yc(10,JI,3,0,"li",7),r.Tb(),r.yc(11,tk,14,0,"ul",8),r.Tb(),r.Tb()),2&t&&(r.Db(8),r.kc("ngIf",!e.isAuthenticated),r.Db(1),r.kc("ngIf",e.isAuthenticated),r.Db(1),r.kc("ngIf",e.isAuthenticated),r.Db(1),r.kc("ngIf",e.isAuthenticated))},directives:[j,lI,dI],styles:["a.navbar-brand[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:32px}"]}),t})(),nk=(()=>{class t{constructor(t){this.authService=t}ngOnInit(){this.authService.autoLogin()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob($I))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-12"]],template:function(t,e){1&t&&(r.Pb(0,"app-header"),r.Ub(1,"div",0),r.Ub(2,"div",1),r.Ub(3,"div",2),r.Pb(4,"router-outlet"),r.Tb(),r.Tb(),r.Tb())},directives:[ek,fI],styles:[""]}),t})();const rk=function(t){return[t]};let ik=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-recipe-item"]],inputs:{recipe:"recipe",index:"index"},decls:8,vars:7,consts:[["routerLinkActive","active",1,"list-group-item","list-group-item-action","d-flex","justify-content-between",3,"routerLink"],[1,"img-responsive",3,"src","alt"]],template:function(t,e){1&t&&(r.Ub(0,"a",0),r.Ub(1,"div"),r.Ub(2,"h4"),r.zc(3),r.Tb(),r.Ub(4,"p"),r.zc(5),r.Tb(),r.Tb(),r.Ub(6,"span"),r.Pb(7,"img",1),r.Tb(),r.Tb()),2&t&&(r.kc("routerLink",r.nc(5,rk,e.index)),r.Db(3),r.Ac(e.recipe.name),r.Db(2),r.Ac(e.recipe.description),r.Db(2),r.kc("src",e.recipe.imgPath,r.tc)("alt",e.recipe.name))},directives:[lI,dI],styles:["span[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:75px}"]}),t})();function sk(t,e){if(1&t&&r.Pb(0,"app-recipe-item",6),2&t){const t=e.index;r.kc("recipe",e.$implicit)("index",t)}}let ok=(()=>{class t{constructor(t){this.recipeService=t}ngOnInit(){this.subscription=this.recipeService.recipesChanged.subscribe(t=>{this.recipes=t}),this.recipes=this.recipeService.getRecipes()}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(KI))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-recipe-list"]],decls:9,vars:1,consts:[[1,"row"],[1,"col-md-12"],["routerLink","new",1,"btn","btn-light"],["src","assets/add.png","alt","New",1,"img-reponsive","mr-2"],[1,"col-md-12","list-group","ml-3"],[3,"recipe","index",4,"ngFor","ngForOf"],[3,"recipe","index"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"button",2),r.Pb(3,"img",3),r.zc(4,"New Recipe"),r.Tb(),r.Pb(5,"hr"),r.Tb(),r.Tb(),r.Ub(6,"div",0),r.Ub(7,"div",4),r.yc(8,sk,1,2,"app-recipe-item",5),r.Tb(),r.Tb()),2&t&&(r.Db(8),r.kc("ngForOf",e.recipes))},directives:[cI,A,ik],styles:[""]}),t})(),ak=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-recipe-book"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-md-5","mb-3"],[1,"col-md-7"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Pb(2,"app-recipe-list"),r.Tb(),r.Ub(3,"div",2),r.Pb(4,"router-outlet"),r.Tb(),r.Tb())},directives:[ok,fI],styles:[""]}),t})();function uk(t,e){1&t&&(r.Ub(0,"span"),r.zc(1,"Please enter an ingredient name."),r.Tb())}function ck(t,e){if(1&t&&(r.Ub(0,"span",16),r.yc(1,uk,2,0,"span",17),r.Tb()),2&t){const t=r.fc();r.Db(1),r.kc("ngIf",t.editIngredientForm.get("name").errors.required)}}function lk(t,e){1&t&&(r.Ub(0,"span"),r.zc(1,"Please enter a numeric amount."),r.Tb())}function hk(t,e){1&t&&(r.Ub(0,"span"),r.zc(1,"Amount must be between 1 and 100 units."),r.Tb())}function dk(t,e){if(1&t&&(r.Ub(0,"span",16),r.yc(1,lk,2,0,"span",17),r.yc(2,hk,2,0,"span",17),r.Tb()),2&t){const t=r.fc();r.Db(1),r.kc("ngIf",t.editIngredientForm.get("amount").errors.required),r.Db(1),r.kc("ngIf",t.editIngredientForm.get("amount").errors.min||t.editIngredientForm.get("amount").errors.max)}}let fk=(()=>{class t{constructor(t){this.shoppingListService=t,this.editMode=!1}ngOnInit(){this.initForm(),this.subscription=this.shoppingListService.startedEditing.subscribe(t=>{this.editedItemIndex=t,this.editMode=!0,this.editedItem=this.shoppingListService.getIngredient(this.editedItemIndex),this.editIngredientForm.setValue({name:this.editedItem.name,amount:this.editedItem.amount})})}initForm(){this.editIngredientForm=new me({name:new ge(null,Rt.required),amount:new ge(null,[Rt.required,Rt.pattern(/^[1-9]+[0-9]*$/),Rt.min(1),Rt.max(100)])})}onSubmit(){const t=new WI(this.editIngredientForm.value.name,this.editIngredientForm.value.amount);this.editMode?this.shoppingListService.updateIngredient(this.editedItemIndex,t):this.shoppingListService.addIngredient(t),this.onReset()}onReset(){this.editMode=!1,this.editIngredientForm.reset()}onDelete(){this.shoppingListService.deleteIngredient(this.editedItemIndex),this.onReset()}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(GI))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-shopping-list-edit"]],decls:22,vars:8,consts:[[1,"row"],[1,"col-md-12"],[3,"formGroup","ngSubmit"],[1,"col-md-5","form-group"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["class","text-muted",4,"ngIf"],[1,"col-md-2","form-group"],["for","amount"],["type","number","id","amount","formControlName","amount","min","1","max","100",1,"form-control"],["type","submit",1,"btn","btn-light",3,"title","disabled"],[1,"img-responsive",3,"src","alt"],["type","button","title","Delete Ingredient",1,"btn","btn-light","mx-2",3,"disabled","click"],["src","assets/delete.png","alt","Delete Ingredient",1,"img-responsive"],["type","reset","title","Clear Form",1,"btn","btn-light",3,"click"],["src","assets/undo.png","alt","Clear Form",1,"img-responsive"],[1,"text-muted"],[4,"ngIf"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"form",2),r.bc("ngSubmit",function(){return e.onSubmit()}),r.Ub(3,"div",0),r.Ub(4,"div",3),r.Ub(5,"label",4),r.zc(6,"Name"),r.Tb(),r.Pb(7,"input",5),r.yc(8,ck,2,1,"span",6),r.Tb(),r.Ub(9,"div",7),r.Ub(10,"label",8),r.zc(11,"Amount"),r.Tb(),r.Pb(12,"input",9),r.yc(13,dk,3,2,"span",6),r.Tb(),r.Tb(),r.Ub(14,"div",0),r.Ub(15,"div",1),r.Ub(16,"button",10),r.Pb(17,"img",11),r.Tb(),r.Ub(18,"button",12),r.bc("click",function(){return e.onDelete()}),r.Pb(19,"img",13),r.Tb(),r.Ub(20,"button",14),r.bc("click",function(){return e.onReset()}),r.Pb(21,"img",15),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Db(2),r.kc("formGroup",e.editIngredientForm),r.Db(6),r.kc("ngIf",!e.editIngredientForm.get("name").valid&&e.editIngredientForm.get("name").touched&&e.editIngredientForm.get("name").errors),r.Db(5),r.kc("ngIf",!e.editIngredientForm.get("amount").valid&&e.editIngredientForm.get("amount").touched&&e.editIngredientForm.get("amount").errors),r.Db(3),r.lc("title",e.editMode?"Update Ingredient":"Add Ingredient"),r.kc("disabled",!e.editIngredientForm.valid),r.Db(1),r.lc("src",e.editMode?"assets/save.png":"assets/add-to-cart.png",r.tc),r.lc("alt",e.editMode?"Update Ingredient":"Add Ingredient"),r.Db(1),r.kc("disabled",!e.editMode))},directives:[_e,te,Ce,It,Jt,Pe,j,Ee],styles:[""]}),t})();function pk(t,e){if(1&t){const t=r.Vb();r.Ub(0,"a",4),r.bc("click",function(){r.sc(t);const n=e.index;return r.fc().onEditItem(n)}),r.zc(1),r.Tb()}if(2&t){const t=e.$implicit;r.Db(1),r.Cc("",t.name," (",t.amount,")")}}let gk=(()=>{class t{constructor(t){this.shoppingListService=t}ngOnInit(){this.ingredients=this.shoppingListService.getIngredients(),this.subscription=this.shoppingListService.ingredientsChanged.subscribe(t=>{this.ingredients=t})}onEditItem(t){this.shoppingListService.startedEditing.next(t)}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(GI))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-shopping-list"]],decls:6,vars:1,consts:[[1,"row"],[1,"col-md-10"],[1,"list-group"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Pb(2,"app-shopping-list-edit"),r.Pb(3,"hr"),r.Ub(4,"div",2),r.yc(5,pk,2,2,"a",3),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Db(5),r.kc("ngForOf",e.ingredients))},directives:[fk,A],styles:[".list-group-item[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();function mk(t,e){if(1&t&&(r.Ub(0,"li",14),r.zc(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.Cc(" ",t.name," - ",t.amount," ")}}let yk=(()=>{class t{constructor(t,e,n){this.recipeService=t,this.route=e,this.router=n}ngOnInit(){this.route.params.subscribe(t=>{this.id=+t.id,this.recipe=this.recipeService.getRecipe(this.id)})}onAddToShoppingList(){this.recipeService.addToShoppingList(this.recipe.ingredients)}onDeleteRecipe(){this.recipeService.deleteRecipe(this.id),this.router.navigate(["/recipe-book"])}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(KI),r.Ob(zC),r.Ob(uI))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-recipe-detail"]],decls:27,vars:8,consts:[[1,"row"],[1,"col-md-12","d-flex","justify-content-center"],[1,"img-responsive","recipe-photo",3,"src","alt"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-light","dropdown-toggle"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["src","assets/add-to-cart.png","alt","Add",1,"img-responsive","mr-1"],["routerLink","edit",1,"dropdown-item"],["src","assets/pencil.png","alt","Edit",1,"img-responsive","mr-1"],["src","assets/delete.png","alt","Delete",1,"img-responsive","mr-1"],[1,"col-md-12","d-flex","justify-content-center","my-2"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Pb(2,"img",2),r.Tb(),r.Tb(),r.Ub(3,"div",0),r.Ub(4,"div",1),r.Ub(5,"h1"),r.zc(6),r.Tb(),r.Tb(),r.Tb(),r.Ub(7,"div",0),r.Ub(8,"div",1),r.Ub(9,"div",3),r.Ub(10,"button",4),r.zc(11),r.Tb(),r.Ub(12,"div",5),r.Ub(13,"a",6),r.bc("click",function(){return e.onAddToShoppingList()}),r.Pb(14,"img",7),r.zc(15," Add to Shopping List"),r.Tb(),r.Ub(16,"a",8),r.Pb(17,"img",9),r.zc(18),r.Tb(),r.Ub(19,"a",6),r.bc("click",function(){return e.onDeleteRecipe()}),r.Pb(20,"img",10),r.zc(21),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(22,"div",11),r.zc(23),r.Tb(),r.Ub(24,"div",1),r.Ub(25,"ul",12),r.yc(26,mk,2,2,"li",13),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Db(2),r.lc("src",e.recipe.imgPath,r.tc),r.lc("alt",e.recipe.name),r.Db(4),r.Ac(e.recipe.name),r.Db(5),r.Bc(" Manage ",e.recipe.name," "),r.Db(7),r.Bc(" Edit ",e.recipe.name,""),r.Db(3),r.Bc(" Delete ",e.recipe.name,""),r.Db(2),r.Ac(e.recipe.description),r.Db(3),r.kc("ngForOf",e.recipe.ingredients))},directives:[lI,A],styles:["a[_ngcontent-%COMP%]{cursor:pointer}a[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:16px}.recipe-photo[_ngcontent-%COMP%]{height:464px}"]}),t})(),bk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["app-recipe-start"]],decls:2,vars:0,consts:[[1,"alert","alert-info","text-center"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.zc(1,"Please select a recipe from the list to view its details."),r.Tb())},styles:[""]}),t})();function vk(t,e){1&t&&(r.Ub(0,"h2"),r.zc(1,"New Recipe"),r.Tb())}function _k(t,e){1&t&&(r.Ub(0,"h2"),r.zc(1,"Edit Recipe"),r.Tb())}function wk(t,e){1&t&&(r.Ub(0,"span"),r.zc(1,"Please enter a recipe name."),r.Tb())}function Ek(t,e){if(1&t&&(r.Ub(0,"span",24),r.yc(1,wk,2,0,"span",2),r.Tb()),2&t){const t=r.fc();r.Db(1),r.kc("ngIf",t.recipeForm.get("name").errors.required)}}function Ok(t,e){1&t&&(r.Ub(0,"span"),r.zc(1,"Please enter a recipe description."),r.Tb())}function Sk(t,e){if(1&t&&(r.Ub(0,"span",24),r.yc(1,Ok,2,0,"span",2),r.Tb()),2&t){const t=r.fc();r.Db(1),r.kc("ngIf",t.recipeForm.get("description").errors.required)}}function Tk(t,e){1&t&&(r.Ub(0,"span"),r.zc(1,"Please provide a URL with a recipe image."),r.Tb())}function Ck(t,e){if(1&t&&(r.Ub(0,"span",24),r.yc(1,Tk,2,0,"span",2),r.Tb()),2&t){const t=r.fc();r.Db(1),r.kc("ngIf",t.recipeForm.get("imgPath").errors.required)}}function xk(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",25),r.Ub(1,"div",26),r.Pb(2,"input",27),r.Tb(),r.Ub(3,"div",28),r.Pb(4,"input",29),r.Tb(),r.Ub(5,"div",28),r.Ub(6,"button",30),r.bc("click",function(){r.sc(t);const n=e.index;return r.fc().onDeleteIngredient(n)}),r.Pb(7,"img",31),r.Tb(),r.Tb(),r.Tb()}2&t&&r.kc("formGroupName",e.index)}let Ik=(()=>{class t{constructor(t,e,n){this.route=t,this.recipeService=e,this.router=n,this.editMode=!1}ngOnInit(){this.route.params.subscribe(t=>{this.id=+t.id,this.editMode=null!==t.id,this.initForm()})}onSubmit(){this.editMode?this.recipeService.updateRecipe(this.id,this.recipeForm.value):this.recipeService.addRecipe(this.recipeForm.value),this.goBack()}goBack(){this.router.navigate(["../"],{relativeTo:this.route})}onAddIngredient(){this.recipeForm.get("ingredients").push(new me({name:new ge(null,Rt.required),amount:new ge(null,[Rt.required,Rt.pattern(/^[1-9]+[0-9]*$/),Rt.min(1),Rt.max(100)])}))}onDeleteIngredient(t){this.recipeForm.get("ingredients").removeAt(t)}onDeleteAllIngredients(){this.recipeForm.get("ingredients").clear()}initForm(){let t="",e="",n="";const r=new ye([]);if(this.editMode){const i=this.recipeService.getRecipe(this.id);if(t=i.name,e=i.description,n=i.imgPath,i.ingredients)for(const t of i.ingredients)r.push(new me({name:new ge(t.name,Rt.required),amount:new ge(t.amount,[Rt.required,Rt.pattern(/^[1-9]+[0-9]*$/),Rt.min(1),Rt.max(100)])}))}this.recipeForm=new me({name:new ge(t,Rt.required),description:new ge(e,Rt.required),imgPath:new ge(n,Rt.required),ingredients:r})}get controls(){return this.recipeForm.get("ingredients").controls}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(zC),r.Ob(KI),r.Ob(uI))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-recipe-edit"]],decls:46,vars:9,consts:[[1,"row"],[1,"col-md-12"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row","mb-2"],["type","submit","title","Save Recipe",1,"btn","btn-light","mr-2",3,"disabled"],["src","assets/save.png","alt","Save Recipe",1,"img-responsive","mr-2"],["type","button","title","Cancel",1,"btn","btn-light",3,"click"],["src","assets/undo.png","alt","Cancel",1,"img-responsive","mr-2"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["class","text-muted",4,"ngIf"],["name","description","id","description","formControlName","description","rows","5",1,"form-control"],["type","text","id","imgPath","formControlName","imgPath",1,"form-control"],["imgPath",""],["id","imgPreview",1,"img-responsive","mt-2",3,"src"],["formArrayName","ingredients",1,"col-md-12"],["class","row mb-2",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","mb-4"],["type","button",1,"btn","btn-light","mr-2",3,"click"],["src","assets/add.png","alt","New Ingredients",1,"img-reponsive","mr-2"],["type","button",1,"btn","btn-light",3,"click"],["src","assets/delete.png","alt","Delete All Ingredients",1,"img-reponsive","mr-2"],[1,"text-muted"],[1,"row","mb-2",3,"formGroupName"],[1,"col-md-8"],["type","text","formControlName","name",1,"form-control"],[1,"col-md-2"],["type","number","formControlName","amount","min","1","max","100",1,"form-control"],["type","button","title","Delete Ingredient",1,"btn","btn-light","mx-2",3,"click"],["src","assets/delete.png","alt","Delete Ingredient",1,"img-responsive"]],template:function(t,e){if(1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.yc(2,vk,2,0,"h2",2),r.yc(3,_k,2,0,"h2",2),r.Ub(4,"form",3),r.bc("ngSubmit",function(){return e.onSubmit()}),r.Ub(5,"div",4),r.Ub(6,"div",1),r.Ub(7,"button",5),r.Pb(8,"img",6),r.zc(9,"Save "),r.Tb(),r.Ub(10,"button",7),r.bc("click",function(){return e.goBack()}),r.Pb(11,"img",8),r.zc(12,"Cancel "),r.Tb(),r.Tb(),r.Tb(),r.Ub(13,"div",0),r.Ub(14,"div",1),r.Ub(15,"div",9),r.Ub(16,"label",10),r.zc(17,"Name"),r.Tb(),r.Pb(18,"input",11),r.yc(19,Ek,2,1,"span",12),r.Tb(),r.Ub(20,"div",9),r.Ub(21,"label",10),r.zc(22,"Description"),r.Tb(),r.Pb(23,"textarea",13),r.yc(24,Sk,2,1,"span",12),r.Tb(),r.Ub(25,"div",9),r.Ub(26,"label",10),r.zc(27,"Image URL"),r.Tb(),r.Pb(28,"input",14,15),r.yc(30,Ck,2,1,"span",12),r.Pb(31,"img",16),r.Tb(),r.Tb(),r.Tb(),r.Ub(32,"div",0),r.Ub(33,"div",17),r.Ub(34,"h3"),r.zc(35,"Ingredients"),r.Tb(),r.yc(36,xk,8,1,"div",18),r.Pb(37,"hr"),r.Ub(38,"div",19),r.Ub(39,"div",1),r.Ub(40,"button",20),r.bc("click",function(){return e.onAddIngredient()}),r.Pb(41,"img",21),r.zc(42,"Add Ingredient"),r.Tb(),r.Ub(43,"button",22),r.bc("click",function(){return e.onDeleteAllIngredients()}),r.Pb(44,"img",23),r.zc(45,"Delete All Ingredients"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.qc(29);r.Db(2),r.kc("ngIf",!e.editMode),r.Db(1),r.kc("ngIf",e.editMode),r.Db(1),r.kc("formGroup",e.recipeForm),r.Db(3),r.kc("disabled",!e.recipeForm.valid),r.Db(12),r.kc("ngIf",!e.recipeForm.get("name").valid&&e.recipeForm.get("name").touched&&e.recipeForm.get("name").errors),r.Db(5),r.kc("ngIf",!e.recipeForm.get("description").valid&&e.recipeForm.get("description").touched&&e.recipeForm.get("description").errors),r.Db(6),r.kc("ngIf",!e.recipeForm.get("imgPath").valid&&e.recipeForm.get("imgPath").touched&&e.recipeForm.get("imgPath").errors),r.Db(1),r.kc("src",t.value,r.tc),r.Db(5),r.kc("ngForOf",e.controls)}},directives:[j,_e,te,Ce,It,Jt,Pe,Ae,A,Ie,Ee],styles:["#imgPreview[_ngcontent-%COMP%]{max-height:200px}"]}),t})(),kk=(()=>{class t{constructor(t,e){this.dataStorageService=t,this.recipesService=e}resolve(t,e){const n=this.recipesService.getRecipes();return 0===n.length?this.dataStorageService.fetchRecipes():n}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(QI),r.Yb(KI))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ak(t,e){1&t&&(r.Ub(0,"div",4),r.Ub(1,"span",5),r.zc(2,"Loading..."),r.Tb(),r.Tb())}function Dk(t,e){if(1&t){const t=r.Vb();r.Ub(0,"form",6),r.bc("ngSubmit",function(){return r.sc(t),r.fc().onSubmit()}),r.Ub(1,"div",7),r.Ub(2,"label",8),r.zc(3,"Email"),r.Tb(),r.Pb(4,"input",9),r.Tb(),r.Ub(5,"div",7),r.Ub(6,"label",10),r.zc(7,"Password"),r.Tb(),r.Pb(8,"input",11),r.Tb(),r.Ub(9,"div"),r.Ub(10,"button",12),r.zc(11),r.Tb(),r.Ub(12,"button",13),r.bc("click",function(){return r.sc(t),r.fc().onSwitchMode()}),r.zc(13),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.fc();r.kc("formGroup",t.authForm),r.Db(10),r.kc("disabled",!t.authForm.valid),r.Db(1),r.Ac(t.isLoginMode?"Log In":"Sign Up"),r.Db(2),r.Bc("Switch to ",t.isLoginMode?"Sign Up":"Log In","")}}function jk(t,e){if(1&t&&(r.Ub(0,"div",14),r.zc(1),r.Tb()),2&t){const t=r.fc();r.Db(1),r.Bc(" ",t.error," ")}}let Pk=(()=>{class t{constructor(t,e){this.authService=t,this.router=e,this.isLoginMode=!0,this.isLoading=!1,this.error=null}ngOnInit(){this.initForm()}initForm(){this.authForm=new me({email:new ge("test@test.com",[Rt.required,Rt.email]),password:new ge("testing",[Rt.required,Rt.minLength(6)])})}onSwitchMode(){this.isLoginMode=!this.isLoginMode}onSubmit(){if(!this.authForm.valid)return;const t=this.authForm.value.email,e=this.authForm.value.password;let n;this.isLoading=!0,this.isLoginMode?n=this.authService.login(t,e):this.isLoginMode||(n=this.authService.signup(t,e)),n.subscribe(()=>{this.router.navigate(["/recipe-book"]),this.isLoading=!1},t=>{this.error=t,this.isLoading=!1}),this.authForm.reset()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob($I),r.Ob(uI))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-auth"]],decls:7,vars:3,consts:[[1,"d-flex","justify-content-center"],["class","spinner-border text-success","role","status",4,"ngIf"],["class","authForm",3,"formGroup","ngSubmit",4,"ngIf"],["class","alert alert-danger my-4","role","alert",4,"ngIf"],["role","status",1,"spinner-border","text-success"],[1,"sr-only"],[1,"authForm",3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary","mr-5",3,"disabled"],["type","button",1,"btn","btn-success",3,"click"],["role","alert",1,"alert","alert-danger","my-4"]],template:function(t,e){1&t&&(r.Ub(0,"h1",0),r.zc(1,"Log In or Sign Up to use the Meal Planner"),r.Tb(),r.Ub(2,"div",0),r.yc(3,Ak,3,0,"div",1),r.yc(4,Dk,14,4,"form",2),r.Tb(),r.Ub(5,"div",0),r.yc(6,jk,2,1,"div",3),r.Tb()),2&t&&(r.Db(3),r.kc("ngIf",e.isLoading),r.Db(1),r.kc("ngIf",!e.isLoading),r.Db(2),r.kc("ngIf",e.error))},directives:[j,_e,te,Ce,It,Jt,Pe],styles:[".authForm[_ngcontent-%COMP%]{width:300px}.alert[_ngcontent-%COMP%]{text-align:center;width:500px}"]}),t})(),Rk=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(t,e){return this.authService.user.pipe(jn(1),Object(wt.a)(t=>!!t||this.router.createUrlTree(["/auth"])))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb($I),r.Yb(uI))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Nk=[{path:"",redirectTo:"recipe-book",pathMatch:"full"},{path:"auth",component:Pk},{path:"recipe-book",component:ak,canActivate:[Rk],children:[{path:"",component:bk,pathMatch:"full"},{path:"new",component:Ik},{path:":id",component:yk,resolve:[kk]},{path:":id/edit",component:Ik,resolve:[kk]}]},{path:"shopping-list",component:gk,canActivate:[Rk]},{path:"**",redirectTo:"recipe-book"}];let Lk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[OI.forRoot(Nk,{relativeLinkResolution:"legacy"})],OI]}),t})();function Fk(t,e){return e?n=>n.pipe(Fk((n,r)=>Object(bt.a)(t(n,r)).pipe(Object(wt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Mk(t))}class Mk{constructor(t){this.project=t}call(t,e){return e.subscribe(new Vk(t,this.project))}}class Vk extends Or.a{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new Ur.a(this,e,n),i=this.destination;i.add(r);const s=Object(Sr.a)(this,t,void 0,void 0,r);s!==r&&i.add(s)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t){this.destination.error(t)}notifyComplete(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}let Uk=(()=>{class t{constructor(t){this.authService=t}intercept(t,e){return this.authService.user.pipe(jn(1),Fk(n=>{if(!n)return e.handle(t);const r=t.clone({params:(new Ke).set("auth",n.token)});return e.handle(r)}))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb($I))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),Bk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t,bootstrap:[nk]}),t.\u0275inj=r.Lb({providers:[{provide:cn,useClass:Uk,multi:!0}],imports:[[gt,Ne,Le,En,Il,kl.a.initializeApp(HI),CT,qI,Oa,Lk]]}),t})();Object(r.V)(),ft().bootstrapModule(Bk).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);